/*! For license information please see main.5304072c.js.LICENSE.txt */
!function(){var e={1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var i=n(9754),r=n(7067),o=n(8585);e.exports=function(e){var t=r();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,n){var i=n(8331);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var i=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var i=n(8).default,r=n(1506);e.exports=function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,n){var i=n(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},9145:function(e,t){"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"===typeof t.freeze?t.freeze(e):e}var i=n({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.freeze=n,t.MIME_TYPE=i,t.NAMESPACE=r},4708:function(e,t,n){var i=n(9145),r=n(9668),o=n(1775),a=n(9660),s=r.DOMImplementation,l=i.NAMESPACE,u=a.ParseError,c=a.XMLReader;function h(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function d(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function p(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function v(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function m(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}h.prototype.parseFromString=function(e,t){var n=this.options,i=new c,r=n.domBuilder||new f,a=n.errorHandler,s=n.locator,u=n.xmlns||{},h=/\/x?html?$/.test(t),d=h?o.HTML_ENTITIES:o.XML_ENTITIES;return s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof f)return t;e=t}var i={},r=e instanceof Function;function o(t){var o=e[t];!o&&r&&(o=2==e.length?function(n){e(t,n)}:e),i[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+p(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),i}(a,r,s),i.domBuilder=n.domBuilder||r,h&&(u[""]=l.HTML),u.xml=u.xml||l.XML,e&&"string"===typeof e?i.parse(e,u,d):i.errorHandler.error("invalid doc source"),r.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,o=r.createElementNS(e,n||t),a=i.length;m(this,o),this.currentElement=o,this.locator&&d(this.locator,o);for(var s=0;s<a;s++){e=i.getURI(s);var l=i.getValue(s),u=(n=i.getQName(s),r.createAttributeNS(e,n));this.locator&&d(i.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&d(this.locator,n),m(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=v.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&d(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=v.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&d(this.locator,i),m(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&d(this.locator,r),m(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,p(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,p(this.locator))},fatalError:function(e){throw new u(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=h,r.DOMImplementation,r.XMLSerializer},9668:function(e,t,n){var i=n(9145).NAMESPACE;function r(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function a(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(r):[]}(e);return Object.keys(t.reduce(o,{}))}function s(e,t){for(var n in e)t[n]=e[n]}function l(e,t){var n=e.prototype;if(!(n instanceof t)){var i=function(){};i.prototype=t.prototype,s(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var u={},c=u.ELEMENT_NODE=1,h=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,d=u.CDATA_SECTION_NODE=4,p=u.ENTITY_REFERENCE_NODE=5,v=u.ENTITY_NODE=6,m=u.PROCESSING_INSTRUCTION_NODE=7,g=u.COMMENT_NODE=8,y=u.DOCUMENT_NODE=9,b=u.DOCUMENT_TYPE_NODE=10,w=u.DOCUMENT_FRAGMENT_NODE=11,k=u.NOTATION_NODE=12,x={},_={},E=(x.INDEX_SIZE_ERR=(_[1]="Index size error",1),x.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),x.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),S=(x.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),x.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),x.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),x.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),x.NOT_FOUND_ERR=(_[8]="Not found",8)),C=(x.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),x.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));x.INVALID_STATE_ERR=(_[11]="Invalid state",11),x.SYNTAX_ERR=(_[12]="Syntax error",12),x.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),x.NAMESPACE_ERR=(_[14]="Invalid namespace",14),x.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function T(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=e,t&&(this.message=this.message+": "+t),n}function N(){}function O(e,t){this._node=e,this._refresh=t,R(this)}function R(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ue(e,"length",n.length),s(n,e),e._inc=t}}function L(){}function P(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function I(e,t,n,r){if(r?t[P(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&F(o,e,r),function(e,t,n){e&&e._inc++,n.namespaceURI===i.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function A(e,t,n){var i=P(t,n);if(!(i>=0))throw T(S,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var o=e.ownerDocument;o&&(F(o,e,n),n.ownerElement=null)}}function z(){}function j(){}function D(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function M(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(M(e,t))return!0}while(e=e.nextSibling)}function B(){}function F(e,t,n,r){e&&e._inc++,n.namespaceURI===i.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function U(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function W(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,U(e.ownerDocument,e),t}function q(e,t,n){var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===w){var r=t.firstChild;if(null==r)return t;var o=t.lastChild}else r=o=t;var a=n?n.previousSibling:e.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:e.firstChild=r,null==n?e.lastChild=o:n.previousSibling=o;do{r.parentNode=e}while(r!==o&&(r=r.nextSibling));return U(e.ownerDocument||e,e),t.nodeType==w&&(t.firstChild=t.lastChild=null),t}function V(){this._nsMap={}}function H(){}function X(){}function Y(){}function G(){}function Z(){}function $(){}function K(){}function Q(){}function J(){}function ee(){}function te(){}function ne(){}function ie(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ae(this,n,e,t,a),n.join("")}function re(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!o)return!1;if("xml"===r&&o===i.XML||o===i.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===r)return s.namespace!==o}return!0}function oe(e,t,n){e.push(" ",t,'="',n.replace(/[<&"]/g,D),'"')}function ae(e,t,n,r,o){if(o||(o=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var a=e.attributes,s=a.length,l=e.firstChild,u=e.tagName,v=u;if(!(n=i.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var k,x=0;x<a.length;x++)if("xmlns"===a.item(x).name){k=a.item(x).value;break}if(!k)for(var _=o.length-1;_>=0;_--){if(""===(E=o[_]).prefix&&E.namespace===e.namespaceURI){k=E.namespace;break}}if(k!==e.namespaceURI)for(_=o.length-1;_>=0;_--){var E;if((E=o[_]).namespace===e.namespaceURI){E.prefix&&(v=E.prefix+":"+u);break}}}t.push("<",v);for(var S=0;S<s;S++){"xmlns"==(C=a.item(S)).prefix?o.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&o.push({prefix:"",namespace:C.value})}for(S=0;S<s;S++){var C,T,N;if(re(C=a.item(S),0,o))oe(t,(T=C.prefix||"")?"xmlns:"+T:"xmlns",N=C.namespaceURI),o.push({prefix:T,namespace:N});ae(C,t,n,r,o)}if(u===v&&re(e,0,o))oe(t,(T=e.prefix||"")?"xmlns:"+T:"xmlns",N=e.namespaceURI),o.push({prefix:T,namespace:N});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(t.push(">"),n&&/^script$/i.test(u))for(;l;)l.data?t.push(l.data):ae(l,t,n,r,o.slice()),l=l.nextSibling;else for(;l;)ae(l,t,n,r,o.slice()),l=l.nextSibling;t.push("</",v,">")}else t.push("/>");return;case y:case w:for(l=e.firstChild;l;)ae(l,t,n,r,o.slice()),l=l.nextSibling;return;case h:return oe(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&]/g,D).replace(/]]>/g,"]]&gt;"));case d:return t.push("<![CDATA[",e.data,"]]>");case g:return t.push("\x3c!--",e.data,"--\x3e");case b:var O=e.publicId,R=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(" PUBLIC ",O),R&&"."!=R&&t.push(" ",R),t.push(">");else if(R&&"."!=R)t.push(" SYSTEM ",R,">");else{var L=e.internalSubset;L&&t.push(" [",L,"]"),t.push(">")}return;case m:return t.push("<?",e.target," ",e.data,"?>");case p:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function se(e,t,n){var i;switch(t.nodeType){case c:(i=t.cloneNode(!1)).ownerDocument=e;case w:break;case h:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(se(e,r,n)),r=r.nextSibling;return i}function le(e,t,n){var i=new t.constructor;for(var r in t){var o=t[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(t.childNodes&&(i.childNodes=new N),i.ownerDocument=e,i.nodeType){case c:var a=t.attributes,s=i.attributes=new L,l=a.length;s._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(le(e,a.item(u),!0));break;case h:n=!0}if(n)for(var f=t.firstChild;f;)i.appendChild(le(e,f,n)),f=f.nextSibling;return i}function ue(e,t,n){e[t]=n}T.prototype=Error.prototype,s(x,T),N.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)ae(this[i],n,e,t);return n.join("")}},O.prototype.item=function(e){return R(this),this[e]},l(O,N),L.prototype={length:0,item:N.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(C);var n=this.getNamedItem(e.nodeName);return I(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new T(C);return t=this.getNamedItemNS(e.namespaceURI,e.localName),I(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return A(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return A(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},z.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new B;if(i.implementation=this,i.childNodes=new N,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new $;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return q(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return W(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return le(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(n[i]==e)return i;t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==h?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(u,j),s(u,j.prototype),B.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==w){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),q(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),W(this,e)},importNode:function(e,t){return se(this,e,t)},getElementById:function(e){var t=null;return M(this.documentElement,(function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=a(e);return new O(this,(function(n){var i=[];return t.length>0&&M(n.documentElement,(function(r){if(r!==n&&r.nodeType===c){var o=r.getAttribute("class");if(o){var s=e===o;if(!s){var l=a(o);s=t.every((u=l,function(e){return u&&-1!==u.indexOf(e)}))}s&&i.push(r)}}var u})),i}))},createElement:function(e){var t=new V;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new N,(t.attributes=new L)._ownerElement=t,t},createDocumentFragment:function(){var e=new ee;return e.ownerDocument=this,e.childNodes=new N,e},createTextNode:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Z;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new te;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new V,i=t.split(":"),r=n.attributes=new L;return n.childNodes=new N,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},l(B,j),V.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===w?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var i=e.lastChild;n.removeChild(t),i=e.lastChild}return i=e.lastChild,t.parentNode=e,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:e.firstChild=t,e.lastChild=t,U(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var n=[];return M(t,(function(i){i===t||i.nodeType!=c||"*"!==e&&i.tagName!=e||n.push(i)})),n}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(n){var i=[];return M(n,(function(r){r===n||r.nodeType!==c||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)})),i}))}},B.prototype.getElementsByTagName=V.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=V.prototype.getElementsByTagNameNS,l(V,j),H.prototype.nodeType=h,l(H,j),X.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[E])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(X,j),Y.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},l(Y,X),G.prototype={nodeName:"#comment",nodeType:g},l(G,X),Z.prototype={nodeName:"#cdata-section",nodeType:d},l(Z,X),$.prototype.nodeType=b,l($,j),K.prototype.nodeType=k,l(K,j),Q.prototype.nodeType=v,l(Q,j),J.prototype.nodeType=p,l(J,j),ee.prototype.nodeName="#document-fragment",ee.prototype.nodeType=w,l(ee,j),te.prototype.nodeType=m,l(te,j),ne.prototype.serializeToString=function(e,t,n){return ie.call(e,t,n)},j.prototype.toString=ie;try{if(Object.defineProperty){var ce=function e(t){switch(t.nodeType){case c:case w:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};Object.defineProperty(O.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return ce(this)},set:function(e){switch(this.nodeType){case c:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ue=function(e,t,n){e["$$"+t]=n}}}catch(he){}t.DocumentType=$,t.DOMException=T,t.DOMImplementation=z,t.Element=V,t.Node=j,t.NodeList=N,t.XMLSerializer=ne},1775:function(e,t,n){var i=n(9145).freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES},7542:function(e,t,n){var i=n(9668);t.DOMImplementation=i.DOMImplementation,t.XMLSerializer=i.XMLSerializer,t.DOMParser=n(4708).DOMParser},9660:function(e,t,n){var i=n(9145).NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$");function s(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function l(){}function u(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,r,o,a){function s(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,i)}for(var l,u=++t,c=0;;){var h=e.charAt(u);switch(h){case"=":if(1===c)l=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(a.warning('attribute value must after "="'),l=e.slice(t,u)),t=u+1,!((u=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");s(l,f=e.slice(t,u).replace(/&#?\w+;/g,o),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');s(l,f=e.slice(t,u).replace(/&#?\w+;/g,o),t),a.warning('attribute "'+l+'" missed start quot('+h+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=e.slice(t,u)).slice(-1)&&(n.closed=!0,f=f.slice(0,-1));case 2:2===c&&(f=l),4==c?(a.warning('attribute "'+f+'" missed quot(")!'),s(l,f.replace(/&#?\w+;/g,o),t)):(i.isHTML(r[""])&&f.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),s(f,f,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"\x80":h=" ";default:if(h<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:l=e.slice(t,u),c=2;break;case 4:var f=e.slice(t,u).replace(/&#?\w+;/g,o);a.warning('attribute "'+f+'" missed quot(")!!'),s(l,f,t);case 5:c=6}else switch(c){case 2:n.tagName;i.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),s(l,l,t),t=u,c=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function h(e,t,n){for(var r=e.tagName,o=null,a=e.length;a--;){var s=e[a],l=s.qName,u=s.value;if((d=l.indexOf(":"))>0)var c=s.prefix=l.slice(0,d),h=l.slice(d+1),f="xmlns"===c&&h;else h=l,c=null,f="xmlns"===l&&"";s.localName=h,!1!==f&&(null==o&&(o={},p(n,n={})),n[f]=o[f]=u,s.uri=i.XMLNS,t.startPrefixMapping(f,u))}for(a=e.length;a--;){(c=(s=e[a]).prefix)&&("xml"===c&&(s.uri=i.XML),"xmlns"!==c&&(s.uri=n[c||""]))}var d;(d=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,d),h=e.localName=r.slice(d+1)):(c=null,h=e.localName=r);var v=e.uri=n[c||""];if(t.startElement(v,h,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(v,h,r),o)for(c in o)t.endPrefixMapping(c)}function f(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return t+1}function d(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function p(e,t){for(var n in e)t[n]=e[n]}function v(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var o=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[a-1];return n.startDTD(s,l,u),n.endDTD(),c.index+c[0].length}return-1}function m(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return n.processingInstruction(r[1],r[2]),i+2}return-1}return-1}function g(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,l.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,o){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function p(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,l);x&&y(S),r.characters(n,0,t-S),S=t}}function y(t,n){for(;t>=w&&(n=k.exec(e));)b=n.index,w=b+n[0].length,x.lineNumber++;x.columnNumber=t-b+1}var b=0,w=0,k=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,_=[{currentNSMap:t}],E={},S=0;for(;;){try{var C=e.indexOf("<",S);if(C<0){if(!e.substr(S).match(/^\s*$/)){var T=r.doc,N=T.createTextNode(e.substr(S));T.appendChild(N),r.currentElement=N}return}switch(C>S&&p(C),e.charAt(C+1)){case"/":var O=e.indexOf(">",C+3),R=e.substring(C+2,O).replace(/[ \t\n\r]+$/g,""),L=_.pop();O<0?(R=e.substring(C+2).replace(/[\s<].*/,""),o.error("end tag name: "+R+" is not complete:"+L.tagName),O=C+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),o.error("end tag name: "+R+" maybe not complete"),O=C+1+R.length);var P=L.localNSMap,I=L.tagName==R;if(I||L.tagName&&L.tagName.toLowerCase()==R.toLowerCase()){if(r.endElement(L.uri,L.localName,R),P)for(var A in P)r.endPrefixMapping(A);I||o.fatalError("end tag name: "+R+" is not match the current start tagName:"+L.tagName)}else _.push(L);O++;break;case"?":x&&y(C),O=m(e,C,r);break;case"!":x&&y(C),O=v(e,C,r,o);break;default:x&&y(C);var z=new g,j=_[_.length-1].currentNSMap,D=(O=c(e,C,z,j,l,o),z.length);if(!z.closed&&d(e,O,z.tagName,E)&&(z.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),x&&D){for(var M=u(x,{}),B=0;B<D;B++){var F=z[B];y(F.offset),F.locator=u(x,{})}r.locator=M,h(z,r,j)&&_.push(z),r.locator=x}else h(z,r,j)&&_.push(z);i.isHTML(z.uri)&&!z.closed?O=f(e,O,z.tagName,l,r):O++}}catch(U){if(U instanceof s)throw U;o.error("element parse error: "+U),O=-1}O>S?S=O:p(Math.max(C,S)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},g.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=s},1264:function(e,t,n){"use strict";var i=n(8821),r=n(3429),o=n(9719),a=n(7307),s=n(5858),l=e.exports=function(e,t){var n,r,l,u,c;return arguments.length<2||"string"!==typeof e?(u=t,t=e,e=null):u=arguments[2],i(e)?(n=s.call(e,"c"),r=s.call(e,"e"),l=s.call(e,"w")):(n=l=!0,r=!1),c={value:t,configurable:n,enumerable:r,writable:l},u?o(a(u),c):c};l.gs=function(e,t,n){var l,u,c,h;return"string"!==typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],i(t)?r(t)?i(n)?r(n)||(c=n,n=void 0):n=void 0:(c=t,t=n=void 0):t=void 0,i(e)?(l=s.call(e,"c"),u=s.call(e,"e")):(l=!0,u=!1),h={get:t,set:n,configurable:l,enumerable:u},c?o(a(c),h):h}},5495:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(4)),a=l(n(1798)),s=n(4603);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){i(this,e),this.rendition=t,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}return r(e,[{key:"add",value:function(e,t,n,i,r,o){var s=encodeURI(t+e),l=new a.default(t).spinePos,u=new c({type:e,cfiRange:t,data:n,sectionIndex:l,cb:i,className:r,styles:o});return this._annotations[s]=u,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(s):this._annotationsBySectionIndex[l]=[s],this.rendition.views().forEach((function(e){u.sectionIndex===e.index&&u.attach(e)})),u}},{key:"remove",value:function(e,t){var n=this,i=encodeURI(e+t);if(i in this._annotations){var r=this._annotations[i];if(t&&r.type!==t)return;this.rendition.views().forEach((function(e){n._removeFromAnnotationBySectionIndex(r.sectionIndex,i),r.sectionIndex===e.index&&r.detach(e)})),delete this._annotations[i]}}},{key:"_removeFromAnnotationBySectionIndex",value:function(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter((function(e){return e!==t}))}},{key:"_annotationsAt",value:function(e){return this._annotationsBySectionIndex[e]}},{key:"highlight",value:function(e,t,n,i,r){return this.add("highlight",e,t,n,i,r)}},{key:"underline",value:function(e,t,n,i,r){return this.add("underline",e,t,n,i,r)}},{key:"mark",value:function(e,t,n){return this.add("mark",e,t,n)}},{key:"each",value:function(){return this._annotations.forEach.apply(this._annotations,arguments)}},{key:"inject",value:function(e){var t=this,n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach((function(n){t._annotations[n].attach(e)}))}},{key:"clear",value:function(e){var t=this,n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach((function(n){t._annotations[n].detach(e)}))}},{key:"show",value:function(){}},{key:"hide",value:function(){}}]),e}(),c=function(){function e(t){var n=t.type,r=t.cfiRange,o=t.data,a=t.sectionIndex,s=t.cb,l=t.className,u=t.styles;i(this,e),this.type=n,this.cfiRange=r,this.data=o,this.sectionIndex=a,this.mark=void 0,this.cb=s,this.className=l,this.styles=u}return r(e,[{key:"update",value:function(e){this.data=e}},{key:"attach",value:function(e){var t,n=this.cfiRange,i=this.data,r=this.type,o=(this.mark,this.cb),a=this.className,l=this.styles;return"highlight"===r?t=e.highlight(n,i,o,a,l):"underline"===r?t=e.underline(n,i,o,a,l):"mark"===r&&(t=e.mark(n,i,o)),this.mark=t,this.emit(s.EVENTS.ANNOTATION.ATTACH,t),t}},{key:"detach",value:function(e){var t,n=this.cfiRange,i=this.type;return e&&("highlight"===i?t=e.unhighlight(n):"underline"===i?t=e.ununderline(n):"mark"===i&&(t=e.unmark(n))),this.mark=void 0,this.emit(s.EVENTS.ANNOTATION.DETACH,t),t}},{key:"text",value:function(){}}]),e}();(0,o.default)(c.prototype);var h=u;t.default=h},8109:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=c(n(9893)),s=c(n(6198)),l=c(n(8039)),u=c(n(2304));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(){i(this,e),this.zip=void 0,this.urlCache={},this.checkRequirements()}return r(e,[{key:"checkRequirements",value:function(){try{this.zip=new u.default}catch(e){throw new Error("JSZip lib not loaded")}}},{key:"open",value:function(e,t){return this.zip.loadAsync(e,{base64:t})}},{key:"openUrl",value:function(e,t){return(0,a.default)(e,"binary").then(function(e){return this.zip.loadAsync(e,{base64:t})}.bind(this))}},{key:"request",value:function(e,t){var n,i=new o.defer,r=new l.default(e);return t||(t=r.extension),(n="blob"==t?this.getBlob(e):this.getText(e))?n.then(function(e){var n=this.handleResponse(e,t);i.resolve(n)}.bind(this)):i.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),i.promise}},{key:"handleResponse",value:function(e,t){return"json"==t?JSON.parse(e):(0,o.isXml)(t)?(0,o.parse)(e,"text/xml"):"xhtml"==t?(0,o.parse)(e,"application/xhtml+xml"):"html"==t||"htm"==t?(0,o.parse)(e,"text/html"):e}},{key:"getBlob",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return t=t||s.default.lookup(i.name),i.async("uint8array").then((function(e){return new Blob([e],{type:t})}))}},{key:"getText",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return i.async("string").then((function(e){return e}))}},{key:"getBase64",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return t=t||s.default.lookup(i.name),i.async("base64").then((function(e){return"data:"+t+";base64,"+e}))}},{key:"createUrl",value:function(e,t){var n,i,r=new o.defer,a=window.URL||window.webkitURL||window.mozURL,s=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(s?(i=this.getBase64(e))&&i.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(i=this.getBlob(e))&&i.then(function(t){n=a.createObjectURL(t),this.urlCache[e]=n,r.resolve(n)}.bind(this)),i||r.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),r.promise)}},{key:"revokeUrl",value:function(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}},{key:"destroy",value:function(){var e=window.URL||window.webkitURL||window.mozURL;for(var t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}]),e}();t.default=h},4694:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=_(n(4)),a=n(5261),s=_(n(2019)),l=_(n(8039)),u=_(n(2669)),c=_(n(7194)),h=_(n(9473)),f=_(n(5466)),d=_(n(702)),p=_(n(7935)),v=_(n(4202)),m=_(n(8642)),g=_(n(8109)),y=_(n(9893)),b=_(n(1798)),w=_(n(4114)),k=_(n(6208)),x=n(4603);function _(e){return e&&e.__esModule?e:{default:e}}var E="META-INF/container.xml",S="binary",C="base64",T="epub",N="opf",O="json",R="directory",L=function(){function e(t,n){var r=this;i(this,e),"undefined"===typeof n&&"string"!==typeof t&&t instanceof Blob===!1&&t instanceof ArrayBuffer===!1&&(n=t,t=void 0),this.settings=(0,a.extend)(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),(0,a.extend)(this.settings,n),this.opening=new a.defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new a.defer,spine:new a.defer,metadata:new a.defer,cover:new a.defer,navigation:new a.defer,pageList:new a.defer,resources:new a.defer,displayOptions:new a.defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||y.default,this.spine=new u.default,this.locations=new c.default(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),t&&this.open(t,this.settings.openAs).catch((function(e){var n=new Error("Cannot load book at "+t);r.emit(x.EVENTS.BOOK.OPEN_FAILED,n)}))}return r(e,[{key:"open",value:function(e,t){var n,i=t||this.determineType(e);return i===S?(this.archived=!0,this.url=new s.default("/",""),n=this.openEpub(e)):i===C?(this.archived=!0,this.url=new s.default("/",""),n=this.openEpub(e,i)):i===T?(this.archived=!0,this.url=new s.default("/",""),n=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==N?(this.url=new s.default(e),n=this.openPackaging(this.url.Path.toString())):i==O?(this.url=new s.default(e),n=this.openManifest(this.url.Path.toString())):(this.url=new s.default(e),n=this.openContainer(E).then(this.openPackaging.bind(this))),n}},{key:"openEpub",value:function(e,t){var n=this;return this.unarchive(e,t||this.settings.encoding).then((function(){return n.openContainer(E)})).then((function(e){return n.openPackaging(e)}))}},{key:"openContainer",value:function(e){var t=this;return this.load(e).then((function(e){return t.container=new h.default(e),t.resolve(t.container.packagePath)}))}},{key:"openPackaging",value:function(e){var t=this;return this.path=new l.default(e),this.load(e).then((function(e){return t.packaging=new f.default(e),t.unpack(t.packaging)}))}},{key:"openManifest",value:function(e){var t=this;return this.path=new l.default(e),this.load(e).then((function(e){return t.packaging=new f.default,t.packaging.load(e),t.unpack(t.packaging)}))}},{key:"load",value:function(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}},{key:"resolve",value:function(e,t){if(e){var n=e;return e.indexOf("://")>-1?e:(this.path&&(n=this.path.resolve(e)),0!=t&&this.url&&(n=this.url.resolve(n)),n)}}},{key:"canonical",value:function(e){return e?this.settings.canonical?this.settings.canonical(e):this.resolve(e,!0):""}},{key:"determineType",value:function(e){var t;return"base64"===this.settings.encoding?C:"string"!=typeof e?S:((t=new s.default(e).path().extension)&&(t=t.replace(/\?.*$/,"")),t?"epub"===t?T:"opf"===t?N:"json"===t?O:void 0:R)}},{key:"unpack",value:function(e){var t=this;this.package=e,""===this.packaging.metadata.layout?this.load(this.url.resolve("META-INF/com.apple.ibooks.display-options.xml")).then((function(e){t.displayOptions=new k.default(e),t.loading.displayOptions.resolve(t.displayOptions)})).catch((function(e){t.displayOptions=new k.default,t.loading.displayOptions.resolve(t.displayOptions)})):(this.displayOptions=new k.default,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new p.default(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then((function(){t.loading.navigation.resolve(t.navigation)})),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&"none"!=this.settings.replacements?this.replacements().then((function(){t.loaded.displayOptions.then((function(){t.opening.resolve(t)}))})).catch((function(e){console.error(e)})):this.loaded.displayOptions.then((function(){t.opening.resolve(t)}))}},{key:"loadNavigation",value:function(e){var t=this,n=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((function(n,r){t.navigation=new d.default(i),e.pageList&&(t.pageList=new v.default(e.pageList)),n(t.navigation)})):n?this.load(n,"xml").then((function(e){return t.navigation=new d.default(e),t.pageList=new v.default(e),t.navigation})):new Promise((function(e,n){t.navigation=new d.default,t.pageList=new v.default,e(t.navigation)}))}},{key:"section",value:function(e){return this.spine.get(e)}},{key:"renderTo",value:function(e,t){return this.rendition=new m.default(this,t),this.rendition.attachTo(e),this.rendition}},{key:"setRequestCredentials",value:function(e){this.settings.requestCredentials=e}},{key:"setRequestHeaders",value:function(e){this.settings.requestHeaders=e}},{key:"unarchive",value:function(e,t){return this.archive=new g.default,this.archive.open(e,t)}},{key:"store",value:function(e){var t=this,n=this.settings.replacements&&"none"!==this.settings.replacements,i=this.url,r=this.settings.requestMethod||y.default.bind(this);return this.storage=new w.default(e,r,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then((function(){t.archived&&(t.storage.requester=t.archive.request.bind(t.archive));var e=function(e,n){n.output=t.resources.substitute(e,n.url)};t.resources.settings.replacements=n||"blobUrl",t.resources.replacements().then((function(){return t.resources.replaceCss()})),t.storage.on("offline",(function(){t.url=new s.default("/",""),t.spine.hooks.serialize.register(e)})),t.storage.on("online",(function(){t.url=i,t.spine.hooks.serialize.deregister(e)}))})),this.storage}},{key:"coverUrl",value:function(){var e=this;return this.loaded.cover.then((function(){return e.cover?e.archived?e.archive.createUrl(e.cover):e.cover:null}))}},{key:"replacements",value:function(){var e=this;return this.spine.hooks.serialize.register((function(t,n){n.output=e.resources.substitute(t,n.url)})),this.resources.replacements().then((function(){return e.resources.replaceCss()}))}},{key:"getRange",value:function(e){var t=new b.default(e),n=this.spine.get(t.spinePos),i=this.load.bind(this);return n?n.load(i).then((function(e){return t.toRange(n.document)})):new Promise((function(e,t){t("CFI could not be found")}))}},{key:"key",value:function(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return"epubjs:".concat(x.EPUBJS_VERSION,":").concat(t)}},{key:"destroy",value:function(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}]),e}();(0,o.default)(L.prototype);var P=L;t.default=P},9473:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(2650))&&o.__esModule?o:{default:o},s=n(5261);var l=function(){function e(t){i(this,e),this.packagePath="",this.directory="",this.encoding="",t&&this.parse(t)}return r(e,[{key:"parse",value:function(e){var t;if(!e)throw new Error("Container File Not Found");if(!(t=(0,s.qs)(e,"rootfile")))throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=a.default.dirname(this.packagePath),this.encoding=e.xmlEncoding}},{key:"destroy",value:function(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}]),e}();t.default=l},2172:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=h(n(4)),a=n(5261),s=h(n(1798)),l=h(n(4807)),u=n(3087),c=n(4603);function h(e){return e&&e.__esModule?e:{default:e}}var f="undefined"!==typeof navigator,d=f&&/Chrome/.test(navigator.userAgent),p=f&&!d&&/AppleWebKit/.test(navigator.userAgent),v=function(){function e(t,n,r,o){i(this,e),this.epubcfi=new s.default,this.document=t,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=o||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",c.EPUBJS_VERSION),this.called=0,this.active=!0,this.listeners()}return r(e,[{key:"width",value:function(e){var t=this.content;return e&&(0,a.isNumber)(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}},{key:"height",value:function(e){var t=this.content;return e&&(0,a.isNumber)(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}},{key:"contentWidth",value:function(e){var t=this.content||this.document.body;return e&&(0,a.isNumber)(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}},{key:"contentHeight",value:function(e){var t=this.content||this.document.body;return e&&(0,a.isNumber)(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}},{key:"textWidth",value:function(){var e,t=this.document.createRange(),n=this.content||this.document.body,i=(0,a.borders)(n);return t.selectNodeContents(n),e=t.getBoundingClientRect().width,i&&i.width&&(e+=i.width),Math.round(e)}},{key:"textHeight",value:function(){var e,t=this.document.createRange(),n=this.content||this.document.body;return t.selectNodeContents(n),e=t.getBoundingClientRect().bottom,Math.round(e)}},{key:"scrollWidth",value:function(){return this.documentElement.scrollWidth}},{key:"scrollHeight",value:function(){return this.documentElement.scrollHeight}},{key:"overflow",value:function(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}},{key:"overflowX",value:function(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}},{key:"overflowY",value:function(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}},{key:"css",value:function(e,t,n){var i=this.content||this.document.body;return t?i.style.setProperty(e,t,n?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}},{key:"viewport",value:function(e){var t,n=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[];if(n&&n.hasAttribute("content")){var o=n.getAttribute("content"),s=o.match(/width\s*=\s*([^,]*)/),l=o.match(/height\s*=\s*([^,]*)/),u=o.match(/initial-scale\s*=\s*([^,]*)/),c=o.match(/minimum-scale\s*=\s*([^,]*)/),h=o.match(/maximum-scale\s*=\s*([^,]*)/),f=o.match(/user-scalable\s*=\s*([^,]*)/);s&&s.length&&"undefined"!==typeof s[1]&&(i.width=s[1]),l&&l.length&&"undefined"!==typeof l[1]&&(i.height=l[1]),u&&u.length&&"undefined"!==typeof u[1]&&(i.scale=u[1]),c&&c.length&&"undefined"!==typeof c[1]&&(i.minimum=c[1]),h&&h.length&&"undefined"!==typeof h[1]&&(i.maximum=h[1]),f&&f.length&&"undefined"!==typeof f[1]&&(i.scalable=f[1])}return t=(0,a.defaults)(e||{},i),e&&(t.width&&r.push("width="+t.width),t.height&&r.push("height="+t.height),t.scale&&r.push("initial-scale="+t.scale),"no"===t.scalable?(r.push("minimum-scale="+t.scale),r.push("maximum-scale="+t.scale),r.push("user-scalable="+t.scalable)):(t.scalable&&r.push("user-scalable="+t.scalable),t.minimum&&r.push("minimum-scale="+t.minimum),t.maximum&&r.push("minimum-scale="+t.maximum)),n||((n=this.document.createElement("meta")).setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",r.join(", ")),this.window.scrollTo(0,0)),t}},{key:"expand",value:function(){this.emit(c.EVENTS.CONTENTS.EXPAND)}},{key:"listeners",value:function(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),"undefined"===typeof ResizeObserver?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}},{key:"removeListeners",value:function(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}},{key:"resizeCheck",value:function(){var e=this.textWidth(),t=this.textHeight();e==this._size.width&&t==this._size.height||(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(c.EVENTS.CONTENTS.RESIZE,this._size))}},{key:"resizeListeners",value:function(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}},{key:"visibilityListeners",value:function(){var e=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&!1===e.active?(e.active=!0,e.resizeListeners()):(e.active=!1,clearTimeout(e.expanding))}))}},{key:"transitionListeners",value:function(){var e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}},{key:"mediaQueryListeners",value:function(){for(var e=this.document.styleSheets,t=function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),n=0;n<e.length;n+=1){var i;try{i=e[n].cssRules}catch(o){return}if(!i)return;for(var r=0;r<i.length;r+=1){if(i[r].media)this.window.matchMedia(i[r].media.mediaText).addListener(t)}}}},{key:"resizeObservers",value:function(){var e=this;this.observer=new ResizeObserver((function(t){requestAnimationFrame(e.resizeCheck.bind(e))})),this.observer.observe(this.document.documentElement)}},{key:"mutationObservers",value:function(){var e=this;this.observer=new MutationObserver((function(t){e.resizeCheck()}));this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},{key:"imageLoadListeners",value:function(){for(var e,t=this.document.querySelectorAll("img"),n=0;n<t.length;n++)"undefined"!==typeof(e=t[n]).naturalWidth&&0===e.naturalWidth&&(e.onload=this.expand.bind(this))}},{key:"fontLoadListeners",value:function(){this.document&&this.document.fonts&&this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}},{key:"root",value:function(){return this.document?this.document.documentElement:null}},{key:"locationOf",value:function(e,t){var n,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){var r=new s.default(e).toRange(this.document,t);if(r){try{if(!r.endContainer||r.startContainer==r.endContainer&&r.startOffset==r.endOffset){var o=r.startContainer.textContent.indexOf(" ",r.startOffset);-1==o&&(o=r.startContainer.textContent.length),r.setEnd(r.startContainer,o)}}catch(f){console.error("setting end offset to start container length failed",f)}if(r.startContainer.nodeType===Node.ELEMENT_NODE)n=r.startContainer.getBoundingClientRect(),i.left=n.left,i.top=n.top;else if(p){var a=r.startContainer,l=new Range;try{1===a.nodeType?n=a.getBoundingClientRect():r.startOffset+2<a.length?(l.setStart(a,r.startOffset),l.setEnd(a,r.startOffset+2),n=l.getBoundingClientRect()):r.startOffset-2>0?(l.setStart(a,r.startOffset-2),l.setEnd(a,r.startOffset),n=l.getBoundingClientRect()):n=a.parentNode.getBoundingClientRect()}catch(f){console.error(f,f.stack)}}else n=r.getBoundingClientRect()}}else if("string"===typeof e&&e.indexOf("#")>-1){var u=e.substring(e.indexOf("#")+1),c=this.document.getElementById(u);if(c)if(p){var h=new Range;h.selectNode(c),n=h.getBoundingClientRect()}else n=c.getBoundingClientRect()}return n&&(i.left=n.left,i.top=n.top),i}},{key:"addStylesheet",value:function(e){return new Promise(function(t,n){var i,r=!1;this.document?(i=this.document.querySelector("link[href='"+e+"']"))?t(!0):((i=this.document.createElement("link")).type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((function(){t(!0)}),1))},this.document.head.appendChild(i)):t(!1)}.bind(this))}},{key:"_getStylesheetNode",value:function(e){var t;return e="epubjs-inserted-css-"+(e||""),!!this.document&&((t=this.document.getElementById(e))||((t=this.document.createElement("style")).id=e,this.document.head.appendChild(t)),t)}},{key:"addStylesheetCss",value:function(e,t){return!(!this.document||!e)&&(this._getStylesheetNode(t).innerHTML=e,!0)}},{key:"addStylesheetRules",value:function(e,t){var n;if(this.document&&e&&0!==e.length)if(n=this._getStylesheetNode(t).sheet,"[object Array]"===Object.prototype.toString.call(e))for(var i=0,r=e.length;i<r;i++){var o=1,a=e[i],s=e[i][0],l="";"[object Array]"===Object.prototype.toString.call(a[1][0])&&(a=a[1],o=0);for(var u=a.length;o<u;o++){var c=a[o];l+=c[0]+":"+c[1]+(c[2]?" !important":"")+";\n"}n.insertRule(s+"{"+l+"}",n.cssRules.length)}else Object.keys(e).forEach((function(t){var i=e[t];if(Array.isArray(i))i.forEach((function(e){var i=Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t])})).join(";");n.insertRule("".concat(t,"{").concat(i,"}"),n.cssRules.length)}));else{var r=Object.keys(i).map((function(e){return"".concat(e,":").concat(i[e])})).join(";");n.insertRule("".concat(t,"{").concat(r,"}"),n.cssRules.length)}}))}},{key:"addScript",value:function(e){return new Promise(function(t,n){var i,r=!1;this.document?((i=this.document.createElement("script")).type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((function(){t(!0)}),1))},this.document.head.appendChild(i)):t(!1)}.bind(this))}},{key:"addClass",value:function(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.add(e)}},{key:"removeClass",value:function(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.remove(e)}},{key:"addEventListeners",value:function(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),c.DOM_EVENTS.forEach((function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})}),this))}},{key:"removeEventListeners",value:function(){this.document&&(c.DOM_EVENTS.forEach((function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})}),this),this._triggerEvent=void 0)}},{key:"triggerEvent",value:function(e){this.emit(e.type,e)}},{key:"addSelectionListeners",value:function(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}},{key:"removeSelectionListeners",value:function(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}},{key:"onSelectionChange",value:function(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}.bind(this),250)}},{key:"triggerSelectedEvent",value:function(e){var t,n;e&&e.rangeCount>0&&((t=e.getRangeAt(0)).collapsed||(n=new s.default(t,this.cfiBase).toString(),this.emit(c.EVENTS.CONTENTS.SELECTED,n),this.emit(c.EVENTS.CONTENTS.SELECTED_RANGE,t)))}},{key:"range",value:function(e,t){return new s.default(e).toRange(this.document,t)}},{key:"cfiFromRange",value:function(e,t){return new s.default(e,this.cfiBase,t).toString()}},{key:"cfiFromNode",value:function(e,t){return new s.default(e,this.cfiBase,t).toString()}},{key:"map",value:function(e){var t=new l.default(e);return t.section()}},{key:"size",value:function(e,t){var n={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),n.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),n.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(n)}},{key:"columns",value:function(e,t,n,i,r){var o=(0,a.prefixed)("column-axis"),s=(0,a.prefixed)("column-gap"),l=(0,a.prefixed)("column-width"),u=(0,a.prefixed)("column-fill"),c=0===this.writingMode().indexOf("vertical")?"vertical":"horizontal";this.layoutStyle("paginated"),"rtl"===r&&"horizontal"===c&&this.direction(r),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),"vertical"===c?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(u,"auto"),this.css(s,i+"px"),this.css(l,n+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}},{key:"scaler",value:function(e,t,n){var i="scale("+e+")",r="";this.css("transform-origin","top left"),(t>=0||n>=0)&&(r=" translate("+(t||0)+"px, "+(n||0)+"px )"),this.css("transform",i+r)}},{key:"fit",value:function(e,t,n){var i=this.viewport(),r=parseInt(i.width),o=parseInt(i.height),a=e/r,s=t/o,l=a<s?a:s;if(this.layoutStyle("paginated"),this.width(r),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",r*l+"px "+o*l+"px"),this.css("background-color","transparent"),n&&n.properties.includes("page-spread-left")){var u=e-r*l;this.css("margin-left",u+"px")}}},{key:"direction",value:function(e){this.documentElement&&(this.documentElement.style.direction=e)}},{key:"mapPage",value:function(e,t,n,i,r){return new l.default(t,r).page(this,e,n,i)}},{key:"linksHandler",value:function(){var e=this;(0,u.replaceLinks)(this.content,(function(t){e.emit(c.EVENTS.CONTENTS.LINK_CLICKED,t)}))}},{key:"writingMode",value:function(e){var t=(0,a.prefixed)("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}},{key:"layoutStyle",value:function(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}},{key:"epubReadingSystem",value:function(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(e){switch(e){case"dom-manipulation":case"layout-changes":case"touch-events":case"mouse-events":case"keyboard-events":return!0;default:return!1}}},navigator.epubReadingSystem}},{key:"destroy",value:function(){this.removeListeners()}}],[{key:"listenedEvents",get:function(){return c.DOM_EVENTS}}]),e}();(0,o.default)(v.prototype);var m=v;t.default=m},6208:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=function(){function e(t){i(this,e),this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",t&&this.parse(t)}return r(e,[{key:"parse",value:function(e){var t=this;if(!e)return this;var n=(0,o.qs)(e,"display_options");return n?((0,o.qsa)(n,"option").forEach((function(e){var n="";switch(e.childNodes.length&&(n=e.childNodes[0].nodeValue),e.attributes.name.value){case"interactive":t.interactive=n;break;case"fixed-layout":t.fixedLayout=n;break;case"open-to-spread":t.openToSpread=n;break;case"orientation-lock":t.orientationLock=n}})),this):this}},{key:"destroy",value:function(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}]),e}();t.default=a},1063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(4694)),r=c(n(8642)),o=c(n(1798)),a=c(n(2172)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(5261)),l=n(4603);c(n(848)),c(n(8749)),c(n(8716));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return new i.default(e,t)}h.VERSION=l.EPUBJS_VERSION,"undefined"!==typeof n.g&&(n.g.EPUBJS_VERSION=l.EPUBJS_VERSION),h.Book=i.default,h.Rendition=r.default,h.Contents=a.default,h.CFI=o.default,h.utils=s;var f=h;t.default=f},1798:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=function(){function e(t,n,r){var a;if(i(this,e),this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof e))return new e(t,n,r);if("string"===typeof n?this.base=this.parseComponent(n):"object"===typeof n&&n.steps&&(this.base=n),"string"===(a=this.checkType(t)))return this.str=t,(0,o.extend)(this,this.parse(t));if("range"===a)return(0,o.extend)(this,this.fromRange(t,this.base,r));if("node"===a)return(0,o.extend)(this,this.fromNode(t,this.base,r));if("EpubCFI"===a&&t.path)return t;if(t)throw new TypeError("not a valid argument for EpubCFI");return this}return r(e,[{key:"checkType",value:function(t){return this.isCfiString(t)?"string":!t||"object"!==typeof t||"Range"!==(0,o.type)(t)&&"undefined"==typeof t.startContainer?t&&"object"===typeof t&&"undefined"!=typeof t.nodeType?"node":!!(t&&"object"===typeof t&&t instanceof e)&&"EpubCFI":"range"}},{key:"parse",value:function(e){var t,n,i,r={spinePos:-1,range:!1,base:{},path:{},start:null,end:null};return"string"!==typeof e?{spinePos:-1}:(0===e.indexOf("epubcfi(")&&")"===e[e.length-1]&&(e=e.slice(8,e.length-1)),(t=this.getChapterComponent(e))?(r.base=this.parseComponent(t),n=this.getPathComponent(e),r.path=this.parseComponent(n),(i=this.getRange(e))&&(r.range=!0,r.start=this.parseComponent(i[0]),r.end=this.parseComponent(i[1])),r.spinePos=r.base.steps[1].index,r):{spinePos:-1})}},{key:"parseComponent",value:function(e){var t,n={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),r=i[0].split("/");return i.length>1&&(t=i[1],n.terminal=this.parseTerminal(t)),""===r[0]&&r.shift(),n.steps=r.map(function(e){return this.parseStep(e)}.bind(this)),n}},{key:"parseStep",value:function(e){var t,n,i,r,o;if((r=e.match(/\[(.*)\]/))&&r[1]&&(o=r[1]),n=parseInt(e),!isNaN(n))return n%2===0?(t="element",i=n/2-1):(t="text",i=(n-1)/2),{type:t,index:i,id:o||null}}},{key:"parseTerminal",value:function(e){var t,n,i=e.match(/\[(.*)\]/);return i&&i[1]?(t=parseInt(e.split("[")[0]),n=i[1]):t=parseInt(e),(0,o.isNumber)(t)||(t=null),{offset:t,assertion:n}}},{key:"getChapterComponent",value:function(e){return e.split("!")[0]}},{key:"getPathComponent",value:function(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}},{key:"getRange",value:function(e){var t=e.split(",");return 3===t.length&&[t[1],t[2]]}},{key:"getCharecterOffsetComponent",value:function(e){return e.split(":")[1]||""}},{key:"joinSteps",value:function(e){return e?e.map((function(e){var t="";return"element"===e.type&&(t+=2*(e.index+1)),"text"===e.type&&(t+=1+2*e.index),e.id&&(t+="["+e.id+"]"),t})).join("/"):""}},{key:"segmentString",value:function(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&null!=e.terminal.offset&&(t+=":"+e.terminal.offset),e.terminal&&null!=e.terminal.assertion&&(t+="["+e.terminal.assertion+"]"),t}},{key:"toString",value:function(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")"}},{key:"compare",value:function(t,n){var i,r,o,a;if("string"===typeof t&&(t=new e(t)),"string"===typeof n&&(n=new e(n)),t.spinePos>n.spinePos)return 1;if(t.spinePos<n.spinePos)return-1;t.range?(i=t.path.steps.concat(t.start.steps),o=t.start.terminal):(i=t.path.steps,o=t.path.terminal),n.range?(r=n.path.steps.concat(n.start.steps),a=n.start.terminal):(r=n.path.steps,a=n.path.terminal);for(var s=0;s<i.length;s++){if(!i[s])return-1;if(!r[s])return 1;if(i[s].index>r[s].index)return 1;if(i[s].index<r[s].index)return-1}return i.length<r.length?-1:o.offset>a.offset?1:o.offset<a.offset?-1:0}},{key:"step",value:function(e){var t=3===e.nodeType?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}},{key:"filteredStep",value:function(e,t){var n,i=this.filter(e,t);if(i)return n=3===i.nodeType?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}},{key:"pathTo",value:function(e,t,n){for(var i,r={steps:[],terminal:{offset:null,assertion:null}},o=e;o&&o.parentNode&&9!=o.parentNode.nodeType;)(i=n?this.filteredStep(o,n):this.step(o))&&r.steps.unshift(i),o=o.parentNode;return null!=t&&t>=0&&(r.terminal.offset=t,"text"!=r.steps[r.steps.length-1].type&&r.steps.push({type:"text",index:0})),r}},{key:"equalStep",value:function(e,t){return!(!e||!t)&&(e.index===t.index&&e.id===t.id&&e.type===t.type)}},{key:"fromRange",value:function(e,t,n){var i={range:!1,base:{},path:{},start:null,end:null},r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=!1;if(n&&(l=null!=r.ownerDocument.querySelector("."+n)),"string"===typeof t?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):"object"===typeof t&&(i.base=t),e.collapsed)l&&(a=this.patchOffset(r,a,n)),i.path=this.pathTo(r,a,n);else{i.range=!0,l&&(a=this.patchOffset(r,a,n)),i.start=this.pathTo(r,a,n),l&&(s=this.patchOffset(o,s,n)),i.end=this.pathTo(o,s,n),i.path={steps:[],terminal:null};var u,c=i.start.steps.length;for(u=0;u<c&&this.equalStep(i.start.steps[u],i.end.steps[u]);u++)u===c-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[u]),i.range=!1):i.path.steps.push(i.start.steps[u]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}},{key:"fromNode",value:function(e,t,n){var i={range:!1,base:{},path:{},start:null,end:null};return"string"===typeof t?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):"object"===typeof t&&(i.base=t),i.path=this.pathTo(e,null,n),i}},{key:"filter",value:function(e,t){var n,i,r,o,a,s=!1;return 3===e.nodeType?(s=!0,r=e.parentNode,n=e.parentNode.classList.contains(t)):(s=!1,n=e.classList.contains(t)),n&&s?(o=r.previousSibling,a=r.nextSibling,o&&3===o.nodeType?i=o:a&&3===a.nodeType&&(i=a),i||e):!(n&&!s)&&e}},{key:"patchOffset",value:function(e,t,n){if(3!=e.nodeType)throw new Error("Anchor must be a text node");var i=e,r=t;for(e.parentNode.classList.contains(n)&&(i=e.parentNode);i.previousSibling;){if(1===i.previousSibling.nodeType){if(!i.previousSibling.classList.contains(n))break;r+=i.previousSibling.textContent.length}else r+=i.previousSibling.textContent.length;i=i.previousSibling}return r}},{key:"normalizedMap",value:function(e,t,n){var i,r,o,a={},s=-1,l=e.length;for(i=0;i<l;i++)1===(r=e[i].nodeType)&&e[i].classList.contains(n)&&(r=3),i>0&&3===r&&3===o?a[i]=s:t===r&&(s+=1,a[i]=s),o=r;return a}},{key:"position",value:function(e){var t,n;return 1===e.nodeType?((t=e.parentNode.children)||(t=(0,o.findChildren)(e.parentNode)),n=Array.prototype.indexOf.call(t,e)):n=(t=this.textNodes(e.parentNode)).indexOf(e),n}},{key:"filteredPosition",value:function(e,t){var n,i;return 1===e.nodeType?(n=e.parentNode.children,i=this.normalizedMap(n,1,t)):(n=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(n=(e=e.parentNode).parentNode.childNodes),i=this.normalizedMap(n,3,t)),i[Array.prototype.indexOf.call(n,e)]}},{key:"stepsToXpath",value:function(e){var t=[".","*"];return e.forEach((function(e){var n=e.index+1;e.id?t.push("*[position()="+n+" and @id='"+e.id+"']"):"text"===e.type?t.push("text()["+n+"]"):t.push("*["+n+"]")})),t.join("/")}},{key:"stepsToQuerySelector",value:function(e){var t=["html"];return e.forEach((function(e){var n=e.index+1;e.id?t.push("#"+e.id):"text"===e.type||t.push("*:nth-child("+n+")")})),t.join(">")}},{key:"textNodes",value:function(e,t){return Array.prototype.slice.call(e.childNodes).filter((function(e){return 3===e.nodeType||!(!t||!e.classList.contains(t))}))}},{key:"walkToNode",value:function(e,t,n){var i,r,a=t||document,s=a.documentElement,l=e.length;for(r=0;r<l&&("element"===(i=e[r]).type?s=i.id?a.getElementById(i.id):(s.children||(0,o.findChildren)(s))[i.index]:"text"===i.type&&(s=this.textNodes(s,n)[i.index]),s);r++);return s}},{key:"findNode",value:function(e,t,n){var i,r,o=t||document;return n||"undefined"==typeof o.evaluate?i=n?this.walkToNode(e,o,n):this.walkToNode(e,o):(r=this.stepsToXpath(e),i=o.evaluate(r,o,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),i}},{key:"fixMiss",value:function(e,t,n,i){var r,o,a=this.findNode(e.slice(0,-1),n,i),s=a.childNodes,l=this.normalizedMap(s,3,i),u=e[e.length-1].index;for(var c in l){if(!l.hasOwnProperty(c))return;if(l[c]===u){if(!(t>(o=(r=s[c]).textContent.length))){a=1===r.nodeType?r.childNodes[0]:r;break}t-=o}}return{container:a,offset:t}}},{key:"toRange",value:function(e,t){var n,i,r,a,s,l,u,c,h=e||document,f=this,d=!!t&&null!=h.querySelector("."+t);if(n="undefined"!==typeof h.createRange?h.createRange():new o.RangeObject,f.range?(i=f.start,l=f.path.steps.concat(i.steps),a=this.findNode(l,h,d?t:null),r=f.end,u=f.path.steps.concat(r.steps),s=this.findNode(u,h,d?t:null)):(i=f.path,l=f.path.steps,a=this.findNode(f.path.steps,h,d?t:null)),!a)return console.log("No startContainer found for",this.toString()),null;try{null!=i.terminal.offset?n.setStart(a,i.terminal.offset):n.setStart(a,0)}catch(p){c=this.fixMiss(l,i.terminal.offset,h,d?t:null),n.setStart(c.container,c.offset)}if(s)try{null!=r.terminal.offset?n.setEnd(s,r.terminal.offset):n.setEnd(s,0)}catch(p){c=this.fixMiss(u,f.end.terminal.offset,h,d?t:null),n.setEnd(c.container,c.offset)}return n}},{key:"isCfiString",value:function(e){return"string"===typeof e&&0===e.indexOf("epubcfi(")&&")"===e[e.length-1]}},{key:"generateChapterComponent",value:function(e,t,n){var i="/"+2*(e+1)+"/";return i+=2*(parseInt(t)+1),n&&(i+="["+n+"]"),i}},{key:"collapse",value:function(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}]),e}();t.default=a},8321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Book",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Contents",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"EpubCFI",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Rendition",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var i=l(n(4694)),r=l(n(1798)),o=l(n(8642)),a=l(n(2172)),s=l(n(2964));function l(e){return e&&e.__esModule?e:{default:e}}var u=l(n(1063)).default;t.default=u},2964:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(5261),s=n(4603),l=(o=n(4))&&o.__esModule?o:{default:o};var u=function(){function e(t){i(this,e),this.settings=t,this.name=t.layout||"reflowable",this._spread="none"!==t.spread,this._minSpreadWidth=t.minSpreadWidth||800,this._evenSpreads=t.evenSpreads||!1,"scrolled"===t.flow||"scrolled-continuous"===t.flow||"scrolled-doc"===t.flow?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}return r(e,[{key:"flow",value:function(e){return"undefined"!=typeof e&&(this._flow="scrolled"===e||"scrolled-continuous"===e||"scrolled-doc"===e?"scrolled":"paginated",this.update({flow:this._flow})),this._flow}},{key:"spread",value:function(e,t){return e&&(this._spread="none"!==e,this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}},{key:"calculate",value:function(e,t,n){var i,r,o,a,s=1,l=n||0,u=e,c=t,h=Math.floor(u/12);s=this._spread&&u>=this._minSpreadWidth?2:1,"reflowable"!==this.name||"paginated"!==this._flow||n>=0||(l=h%2===0?h:h-1),"pre-paginated"===this.name&&(l=0),s>1?o=(i=u/s-l)+l:(i=u,o=u),"pre-paginated"===this.name&&s>1&&(u=i),r=i*s+l,a=u,this.width=u,this.height=c,this.spreadWidth=r,this.pageWidth=o,this.delta=a,this.columnWidth=i,this.gap=l,this.divisor=s,this.update({width:u,height:c,spreadWidth:r,pageWidth:o,delta:a,columnWidth:i,gap:l,divisor:s})}},{key:"format",value:function(e,t,n){return"pre-paginated"===this.name?e.fit(this.columnWidth,this.height,t):"paginated"===this._flow?e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):n&&"horizontal"===n?e.size(null,this.height):e.size(this.width,null)}},{key:"count",value:function(e,t){var n,i;return"pre-paginated"===this.name?(n=1,i=1):"paginated"===this._flow?(t=t||this.delta,i=(n=Math.ceil(e/t))*this.divisor):(t=t||this.height,i=n=Math.ceil(e/t)),{spreads:n,pages:i}}},{key:"update",value:function(e){var t=this;if(Object.keys(e).forEach((function(n){t.props[n]===e[n]&&delete e[n]})),Object.keys(e).length>0){var n=(0,a.extend)(this.props,e);this.emit(s.EVENTS.LAYOUT.UPDATED,n,e)}}}]),e}();(0,l.default)(u.prototype);var c=u;t.default=c},7194:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=c(n(9030)),s=c(n(1798)),l=n(4603),u=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n,r){i(this,e),this.spine=t,this.request=n,this.pause=r||100,this.q=new a.default(this),this.epubcfi=new s.default,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}return r(e,[{key:"generate",value:function(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}},{key:"createRange",value:function(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}},{key:"process",value:function(e){return e.load(this.request).then(function(t){var n=new o.defer,i=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout((function(){return n.resolve(i)}),this.pause),n.promise}.bind(this))}},{key:"parse",value:function(e,t,n){var i,r,a=[],l=e.ownerDocument,u=(0,o.qs)(l,"body"),c=0,h=n||this.break;if((0,o.sprint)(u,function(e){var n,o=e.length,l=0;if(0===e.textContent.trim().length)return!1;for(0==c&&((i=this.createRange()).startContainer=e,i.startOffset=0),(n=h-c)>o&&(c+=o,l=o);l<o;)if(n=h-c,0===c&&(l+=1,(i=this.createRange()).startContainer=e,i.startOffset=l),l+n>=o)c+=o-l,l=o;else{l+=n,i.endContainer=e,i.endOffset=l;var u=new s.default(i,t).toString();a.push(u),c=0}r=e}.bind(this)),i&&i.startContainer&&r){i.endContainer=r,i.endOffset=r.length;var f=new s.default(i,t).toString();a.push(f),c=0}return a}},{key:"generateFromWords",value:function(e,t,n){var i=e?new s.default(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(e){e.linear&&(i?e.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),e,t,i,n):this.q.enqueue(this.processWords.bind(this),e,t,i,n))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}},{key:"processWords",value:function(e,t,n,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(r){var a=new o.defer,s=this.parseWords(r,e,t,n),l=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(s.length>=i?s.slice(0,l):s),e.unload(),this.processingTimeout=setTimeout((function(){return a.resolve(s)}),this.pause),a.promise}.bind(this))}},{key:"countWords",value:function(e){return(e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}},{key:"parseWords",value:function(e,t,n,i){var r,a=t.cfiBase,l=[],u=e.ownerDocument,c=(0,o.qs)(u,"body"),h=n,f=!i||i.spinePos!==t.index;i&&t.index===i.spinePos&&(r=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));return(0,o.sprint)(c,function(e){if(!f){if(e!==r)return!1;f=!0}if(e.textContent.length<10&&0===e.textContent.trim().length)return!1;var t,n=this.countWords(e.textContent),i=0;if(0===n)return!1;for((t=h-this._wordCounter)>n&&(this._wordCounter+=n,i=n);i<n;)if(i+(t=h-this._wordCounter)>=n)this._wordCounter+=n-i,i=n;else{i+=t;var o=new s.default(e,a);l.push({cfi:o.toString(),wordCount:this._wordCounter}),this._wordCounter=0}e}.bind(this)),l}},{key:"locationFromCfi",value:function(e){var t;return s.default.prototype.isCfiString(e)&&(e=new s.default(e)),0===this._locations.length?-1:(t=(0,o.locationOf)(e,this._locations,this.epubcfi.compare))>this.total?this.total:t}},{key:"percentageFromCfi",value:function(e){if(0===this._locations.length)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}},{key:"percentageFromLocation",value:function(e){return e&&this.total?e/this.total:0}},{key:"cfiFromLocation",value:function(e){var t=-1;return"number"!=typeof e&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}},{key:"cfiFromPercentage",value:function(e){var t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){var n=new s.default(this._locations[this.total]);return n.collapse(),n.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}},{key:"load",value:function(e){return this._locations="string"===typeof e?JSON.parse(e):e,this.total=this._locations.length-1,this._locations}},{key:"save",value:function(){return JSON.stringify(this._locations)}},{key:"getCurrent",value:function(){return this._current}},{key:"setCurrent",value:function(e){var t;if("string"==typeof e)this._currentCfi=e;else{if("number"!=typeof e)return;this._current=e}0!==this._locations.length&&("string"==typeof e?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(l.EVENTS.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}},{key:"currentLocation",get:function(){return this._current},set:function(e){this.setCurrent(e)}},{key:"length",value:function(){return this._locations.length}},{key:"destroy",value:function(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}]),e}();(0,u.default)(h.prototype);var f=h;t.default=f},8716:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default,o=n(6525).default,a=n(9754).default,s=n(2205).default,l=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=n(5261),c=p(n(8749)),h=p(n(3636)),f=n(4603),d=p(n(8573));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){s(n,e);var t=l(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).name="continuous",r.settings=(0,u.extend)(r.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),(0,u.extend)(r.settings,e.settings||{}),"undefined"!=e.settings.gap&&0===e.settings.gap&&(r.settings.gap=e.settings.gap),r.viewSettings={ignoreClass:r.settings.ignoreClass,axis:r.settings.axis,flow:r.settings.flow,layout:r.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:r.settings.allowScriptedContent,allowPopups:r.settings.allowPopups},r.scrollTop=0,r.scrollLeft=0,r}return r(n,[{key:"display",value:function(e,t){return c.default.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}},{key:"fill",value:function(e){var t=this,n=e||new u.defer;return this.q.enqueue((function(){return t.check()})).then((function(e){e?t.fill(n):n.resolve()})),n.promise}},{key:"moveTo",value:function(e){var t=0,n=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,this.settings.offsetDelta):(n=e.top,e.top,this.settings.offsetDelta),(t>0||n>0)&&this.scrollBy(t,n,!0)}},{key:"afterResized",value:function(e){this.emit(f.EVENTS.MANAGERS.RESIZE,e.section)}},{key:"removeShownListeners",value:function(e){e.onDisplayed=function(){}}},{key:"add",value:function(e){var t=this,n=this.createView(e);return this.views.append(n),n.on(f.EVENTS.VIEWS.RESIZED,(function(e){n.expanded=!0})),n.on(f.EVENTS.VIEWS.AXIS,(function(e){t.updateAxis(e)})),n.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){t.updateWritingMode(e)})),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}},{key:"append",value:function(e){var t=this,n=this.createView(e);return n.on(f.EVENTS.VIEWS.RESIZED,(function(e){n.expanded=!0})),n.on(f.EVENTS.VIEWS.AXIS,(function(e){t.updateAxis(e)})),n.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){t.updateWritingMode(e)})),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}},{key:"prepend",value:function(e){var t=this,n=this.createView(e);return n.on(f.EVENTS.VIEWS.RESIZED,(function(e){t.counter(e),n.expanded=!0})),n.on(f.EVENTS.VIEWS.AXIS,(function(e){t.updateAxis(e)})),n.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){t.updateWritingMode(e)})),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}},{key:"counter",value:function(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}},{key:"update",value:function(e){for(var t,n=this.bounds(),i=this.views.all(),r=i.length,o=[],a="undefined"!=typeof e?e:this.settings.offset||0,s=new u.defer,l=[],c=0;c<r;c++)if(t=i[c],!0===this.isVisible(t,a,a,n)){if(t.displayed)t.show();else{var h=t.display(this.request).then((function(e){e.show()}),(function(e){t.hide()}));l.push(h)}o.push(t)}else this.q.enqueue(t.destroy.bind(t)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch((function(e){s.reject(e)})):(s.resolve(),s.promise)}},{key:"check",value:function(e,t){var n=this,i=new u.defer,r=[],o="horizontal"===this.settings.axis,a=this.settings.offset||0;e&&o&&(a=e),t&&!o&&(a=t);var s=this._bounds,l=o?this.scrollLeft:this.scrollTop,c=o?Math.floor(s.width):s.height,h=o?this.container.scrollWidth:this.container.scrollHeight,f=this.writingMode&&0===this.writingMode.indexOf("vertical")?"vertical":"horizontal",d=this.settings.rtlScrollType,p="rtl"===this.settings.direction;this.settings.fullsize?(o&&p&&"negative"===d||!o&&p&&"default"===d)&&(l*=-1):(p&&"default"===d&&"horizontal"===f&&(l=h-c-l),p&&"negative"===d&&"horizontal"===f&&(l*=-1));var v=l-a;l+c+a>=h&&function(){var e=n.views.last(),t=e&&e.section.next();t&&r.push(n.append(t))}(),v<0&&function(){var e=n.views.first(),t=e&&e.section.prev();t&&r.push(n.prepend(t))}();var m=r.map((function(e){return e.display(n.request)}));return r.length?Promise.all(m).then((function(){return n.check()})).then((function(){return n.update(a)}),(function(e){return e})):(this.q.enqueue(function(){this.update()}.bind(this)),i.resolve(!1),i.promise)}},{key:"trim",value:function(){for(var e=new u.defer,t=this.views.displayed(),n=t[0],i=t[t.length-1],r=this.views.indexOf(n),o=this.views.indexOf(i),a=this.views.slice(0,r),s=this.views.slice(o+1),l=0;l<a.length-1;l++)this.erase(a[l],a);for(var c=1;c<s.length;c++)this.erase(s[c]);return e.resolve(),e.promise}},{key:"erase",value:function(e,t){var n,i;this.settings.fullsize?(n=window.scrollY,i=window.scrollX):(n=this.container.scrollTop,i=this.container.scrollLeft);var r=e.bounds();this.views.remove(e),t&&("vertical"===this.settings.axis?this.scrollTo(0,n-r.height,!0):"rtl"===this.settings.direction?this.settings.fullsize?this.scrollTo(i+Math.floor(r.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(r.width),0,!0))}},{key:"addEventListeners",value:function(e){window.addEventListener("unload",function(e){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new h.default(this,this.settings.snap&&"object"===typeof this.settings.snap&&this.settings.snap))}},{key:"addScrollListeners",value:function(){var e;this.tick=u.requestAnimationFrame;var t="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=(0,d.default)(this.scrolled.bind(this),30),this.didScroll=!1}},{key:"removeEventListeners",value:function(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}},{key:"onScroll",value:function(){var e,t,n="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.settings.fullsize?(e=window.scrollY*n,t=window.scrollX*n):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}},{key:"scrolled",value:function(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(f.EVENTS.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(f.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}},{key:"next",value:function(){var e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}},{key:"prev",value:function(){var e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}},{key:"updateFlow",value:function(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),o(a(n.prototype),"updateFlow",this).call(this,e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new h.default(this,this.settings.snap&&"object"===typeof this.settings.snap&&this.settings.snap))}},{key:"destroy",value:function(){o(a(n.prototype),"destroy",this).call(this),this.snapper&&this.snapper.destroy()}}]),n}(c.default);t.default=v},8749:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(4)),a=n(5261),s=d(n(9858)),l=d(n(4807)),u=d(n(9030)),c=d(n(3350)),h=d(n(3903)),f=n(4603);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){i(this,e),this.name="default",this.optsSettings=t.settings,this.View=t.view,this.request=t.request,this.renditionQueue=t.queue,this.q=new u.default(this),this.settings=(0,a.extend)(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),(0,a.extend)(this.settings,t.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}return r(e,[{key:"render",value:function(e,t){var n=e.tagName;"undefined"!==typeof this.settings.fullsize||!n||"body"!=n.toLowerCase()&&"html"!=n.toLowerCase()||(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=(0,s.default)(),this.stage=new c.default({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new h.default(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}},{key:"addEventListeners",value:function(){var e;window.addEventListener("unload",function(e){this.destroy()}.bind(this)),e=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}},{key:"removeEventListeners",value:function(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}},{key:"destroy",value:function(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}},{key:"onOrientationChange",value:function(e){var t=window.orientation;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(f.EVENTS.MANAGERS.ORIENTATION_CHANGE,t)}.bind(this),500)}},{key:"onResized",value:function(e){this.resize()}},{key:"resize",value:function(e,t,n){var i=this.stage.size(e,t);this.winBounds=(0,a.windowBounds)(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height?this._stageSize=void 0:this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(f.EVENTS.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},n))}},{key:"createView",value:function(e,t){return new this.View(e,(0,a.extend)(this.viewSettings,{forceRight:t}))}},{key:"handleNextPrePaginated",value:function(e,t,n){var i;if("pre-paginated"===this.layout.name&&this.layout.divisor>1){if(e||0===t.index)return;if((i=t.next())&&!i.properties.includes("page-spread-left"))return n.call(this,i)}}},{key:"display",value:function(e,t){var n=new a.defer,i=n.promise;(t===e.href||(0,a.isNumber)(t))&&(t=void 0);var r=this.views.find(e);if(r&&e&&"pre-paginated"!==this.layout.name){var o=r.offset();if("ltr"===this.settings.direction)this.scrollTo(o.left,o.top,!0);else{var s=r.width();this.scrollTo(o.left+s,o.top,!0)}if(t){var l=r.locationOf(t),u=r.width();this.moveTo(l,u)}return n.resolve(),i}this.clear();var c=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(c=!0),this.add(e,c).then(function(e){if(t){var n=e.locationOf(t),i=e.width();this.moveTo(n,i)}}.bind(this),(function(e){n.reject(e)})).then(function(){return this.handleNextPrePaginated(c,e,this.add)}.bind(this)).then(function(){this.views.show(),n.resolve()}.bind(this)),i}},{key:"afterDisplayed",value:function(e){this.emit(f.EVENTS.MANAGERS.ADDED,e)}},{key:"afterResized",value:function(e){this.emit(f.EVENTS.MANAGERS.RESIZE,e.section)}},{key:"moveTo",value:function(e,t){var n=0,i=0;this.isPaginated?((n=Math.floor(e.left/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollWidth&&(n=this.container.scrollWidth-this.layout.delta),(i=Math.floor(e.top/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,"rtl"===this.settings.direction&&(n+=this.layout.delta,n-=t),this.scrollTo(n,i,!0)}},{key:"add",value:function(e,t){var n=this,i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(f.EVENTS.VIEWS.AXIS,(function(e){n.updateAxis(e)})),i.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"append",value:function(e,t){var n=this,i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(f.EVENTS.VIEWS.AXIS,(function(e){n.updateAxis(e)})),i.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"prepend",value:function(e,t){var n=this,i=this.createView(e,t);return i.on(f.EVENTS.VIEWS.RESIZED,(function(e){n.counter(e)})),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(f.EVENTS.VIEWS.AXIS,(function(e){n.updateAxis(e)})),i.on(f.EVENTS.VIEWS.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"counter",value:function(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}},{key:"next",value:function(){var e,t=this.settings.direction;if(this.views.length){if(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t)if(this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t)this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next():this.container.scrollLeft+-1*this.layout.delta>-1*this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next();else if(this.isPaginated&&"vertical"===this.settings.axis){this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()}else e=this.views.last().section.next();else this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft+this.container.offsetWidth+this.layout.delta<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next();if(e){this.clear(),this.updateLayout();var n=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then(function(){return this.handleNextPrePaginated(n,e,this.append)}.bind(this),(function(e){return e})).then(function(){this.isPaginated||"horizontal"!==this.settings.axis||"rtl"!==this.settings.direction||"default"!==this.settings.rtlScrollType||this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}}},{key:"prev",value:function(){var e,t=this.settings.direction;if(this.views.length){if(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t)if(this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t)this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft+this.container.offsetWidth<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev():this.container.scrollLeft<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev();else if(this.isPaginated&&"vertical"===this.settings.axis){this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()}else e=this.views.first().section.prev();else this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev();if(e){this.clear(),this.updateLayout();var n=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!==typeof e.prev()&&(n=!0),this.prepend(e,n).then(function(){var t;if("pre-paginated"===this.layout.name&&this.layout.divisor>1&&(t=e.prev()))return this.prepend(t)}.bind(this),(function(e){return e})).then(function(){this.isPaginated&&"horizontal"===this.settings.axis&&("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?this.scrollTo(0,0,!0):this.scrollTo(-1*this.container.scrollWidth+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}}},{key:"current",value:function(){var e=this.visible();return e.length?e[e.length-1]:null}},{key:"clear",value:function(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}},{key:"currentLocation",value:function(){return this.updateLayout(),this.isPaginated&&"horizontal"===this.settings.axis?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}},{key:"scrolledLocation",value:function(){var e=this,t=this.visible(),n=this.container.getBoundingClientRect(),i=n.height<window.innerHeight?n.height:window.innerHeight,r=n.width<window.innerWidth?n.width:window.innerWidth,o="vertical"===this.settings.axis,a=(this.settings.direction,0);return this.settings.fullsize&&(a=o?window.scrollY:window.scrollX),t.map((function(t){var s,l,u,c,h=t.section,f=h.index,d=h.href,p=t.position(),v=t.width(),m=t.height();o?(l=(s=a+n.top-p.top+0)+i-0,c=e.layout.count(m,i).pages,u=i):(l=(s=a+n.left-p.left+0)+r-0,c=e.layout.count(v,r).pages,u=r);var g=Math.ceil(s/u),y=[],b=Math.ceil(l/u);if("rtl"===e.settings.direction&&!o){var w=g;g=c-b,b=c-w}y=[];for(var k=g;k<=b;k++){var x=k+1;y.push(x)}return{index:f,href:d,pages:y,totalPages:c,mapping:e.mapping.page(t.contents,t.section.cfiBase,s,l)}}))}},{key:"paginatedLocation",value:function(){var e=this,t=this.visible(),n=this.container.getBoundingClientRect(),i=0,r=0;return this.settings.fullsize&&(i=window.scrollX),t.map((function(t){var o,a,s,l,u=t.section,c=u.index,h=u.href,f=t.position(),d=t.width();"rtl"===e.settings.direction?(o=n.right-i,l=Math.min(Math.abs(o-f.left),e.layout.width)-r,a=(s=f.width-(f.right-o)-r)-l):(o=n.left+i,l=Math.min(f.right-o,e.layout.width)-r,s=(a=o-f.left+r)+l),r+=l;var p=e.mapping.page(t.contents,t.section.cfiBase,a,s),v=e.layout.count(d).pages,m=Math.floor(a/e.layout.pageWidth),g=[],y=Math.floor(s/e.layout.pageWidth);if(m<0&&(m=0,y+=1),"rtl"===e.settings.direction){var b=m;m=v-y,y=v-b}for(var w=m+1;w<=y;w++){var k=w;g.push(k)}return{index:c,href:h,pages:g,totalPages:v,mapping:p}}))}},{key:"isVisible",value:function(e,t,n,i){var r=e.position(),o=i||this.bounds();return"horizontal"===this.settings.axis&&r.right>o.left-t&&r.left<o.right+n||"vertical"===this.settings.axis&&r.bottom>o.top-t&&r.top<o.bottom+n}},{key:"visible",value:function(){for(var e,t=this.bounds(),n=this.views.displayed(),i=n.length,r=[],o=0;o<i;o++)e=n[o],!0===this.isVisible(e,0,0,t)&&r.push(e);return r}},{key:"scrollBy",value:function(e,t,n){var i="rtl"===this.settings.direction?-1:1;n&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,t*i):(e&&(this.container.scrollLeft+=e*i),t&&(this.container.scrollTop+=t)),this.scrolled=!0}},{key:"scrollTo",value:function(e,t,n){n&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}},{key:"onScroll",value:function(){var e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(f.EVENTS.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(f.EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}},{key:"bounds",value:function(){var e;return e=this.stage.bounds(),e}},{key:"applyLayout",value:function(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&"pre-paginated"===this.layout.name&&this.display(this.views.first().section)}},{key:"updateLayout",value:function(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}},{key:"setLayout",value:function(e){this.viewSettings.layout=e,this.mapping=new l.default(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach((function(t){t&&t.setLayout(e)}))}},{key:"updateWritingMode",value:function(e){this.writingMode=e}},{key:"updateAxis",value:function(e,t){(t||e!==this.settings.axis)&&(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new l.default(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&("vertical"===e?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}},{key:"updateFlow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n="paginated"===e||"auto"===e;this.isPaginated=n,"scrolled-doc"===e||"scrolled-continuous"===e||"scrolled"===e?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=n?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}},{key:"getContents",value:function(){var e=[];return this.views?(this.views.forEach((function(t){var n=t&&t.contents;n&&e.push(n)})),e):e}},{key:"direction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr";this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}},{key:"isRendered",value:function(){return this.rendered}}]),e}();(0,o.default)(p.prototype);var v=p;t.default=v},3636:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(5261),s=n(4603),l=(o=n(4))&&o.__esModule?o:{default:o};var u=Math.PI/2,c={easeOutSine:function(e){return Math.sin(e*u)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInCubic:function(e){return Math.pow(e,3)}},h=function(){function e(t,n){i(this,e),this.settings=(0,a.extend)({duration:80,minVelocity:.2,minDistance:10,easing:c.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(t)}return r(e,[{key:"setup",value:function(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.settings.axis,this.manager.isPaginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}},{key:"supportsTouch",value:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}},{key:"disableScroll",value:function(){this.element.style.overflow="hidden"}},{key:"enableScroll",value:function(){this.element.style.overflow=""}},{key:"addListeners",value:function(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(s.EVENTS.MANAGERS.ADDED,this._afterDisplayed)}},{key:"removeListeners",value:function(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(s.EVENTS.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}},{key:"afterDisplayed",value:function(e){var t=this,n=e.contents;["touchstart","touchmove","touchend"].forEach((function(e){n.on(e,(function(e){return t.triggerViewEvent(e,n)}))}))}},{key:"triggerViewEvent",value:function(e,t){this.emit(e.type,e,t)}},{key:"onScroll",value:function(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}},{key:"onResize",value:function(e){this.resizeCanceler=!0}},{key:"onTouchStart",value:function(e){var t=e.touches[0],n=t.screenX,i=t.screenY;this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}},{key:"onTouchMove",value:function(e){var t=e.touches[0],n=t.screenX,i=t.screenY,r=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&r<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}},{key:"onTouchEnd",value:function(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;var t=this.wasSwiped();0!==t?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}},{key:"wasSwiped",value:function(){var e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,n=Math.abs(t),i=t/(this.endTime-this.startTime),r=this.settings.minVelocity;return n<=this.settings.minDistance||n>=e?0:i>r?-1:i<-r?1:void 0}},{key:"needsSnap",value:function(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!==0}},{key:"snap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor,i=Math.round(t/n)*n;return e&&(i+=e*n),this.smoothScrollTo(i)}},{key:"smoothScrollTo",value:function(e){var t=new a.defer,n=this.scrollLeft,i=this.now(),r=this.settings.duration,o=this.settings.easing;return this.snapping=!0,function a(){var s=this.now(),l=Math.min(1,(s-i)/r);if(o(l),this.touchCanceler||this.resizeCanceler)return this.resizeCanceler=!1,this.snapping=!1,void t.resolve();l<1?(window.requestAnimationFrame(a.bind(this)),this.scrollTo(n+(e-n)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}.call(this),t.promise}},{key:"scrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}},{key:"now",value:function(){return"now"in window.performance?performance.now():(new Date).getTime()}},{key:"destroy",value:function(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}]),e}();(0,l.default)(h.prototype);var f=h;t.default=f},3350:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(5261),s=(o=n(3038))&&o.__esModule?o:{default:o};var l=function(){function e(t){i(this,e),this.settings=t||{},this.id="epubjs-container-"+(0,a.uuid)(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}return r(e,[{key:"create",value:function(e){var t=e.height,n=e.width,i=e.overflow||!1,r=e.axis||"vertical",o=e.direction;(0,a.extend)(this.settings,e),e.height&&(0,a.isNumber)(e.height)&&(t=e.height+"px"),e.width&&(0,a.isNumber)(e.width)&&(n=e.width+"px");var s=document.createElement("div");return s.id=this.id,s.classList.add("epub-container"),s.style.wordSpacing="0",s.style.lineHeight="0",s.style.verticalAlign="top",s.style.position="relative","horizontal"===r&&(s.style.display="flex",s.style.flexDirection="row",s.style.flexWrap="nowrap"),n&&(s.style.width=n),t&&(s.style.height=t),i&&("scroll"===i&&"vertical"===r?(s.style["overflow-y"]=i,s.style["overflow-x"]="hidden"):"scroll"===i&&"horizontal"===r?(s.style["overflow-y"]="hidden",s.style["overflow-x"]=i):s.style.overflow=i),o&&(s.dir=o,s.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),s}},{key:"wrap",value:function(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}},{key:"getElement",value:function(e){var t;if((0,a.isElement)(e)?t=e:"string"===typeof e&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}},{key:"attachTo",value:function(e){var t,n=this.getElement(e);if(n)return t=this.settings.hidden?this.wrapper:this.container,n.appendChild(t),this.element=n,n}},{key:"getContainer",value:function(){return this.container}},{key:"onResize",value:function(e){(0,a.isNumber)(this.settings.width)&&(0,a.isNumber)(this.settings.height)||(this.resizeFunc=(0,s.default)(e,50),window.addEventListener("resize",this.resizeFunc,!1))}},{key:"onOrientationChange",value:function(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}},{key:"size",value:function(e,t){var n,i=e||this.settings.width,r=t||this.settings.height;null===e?(n=this.element.getBoundingClientRect()).width&&(e=Math.floor(n.width),this.container.style.width=e+"px"):(0,a.isNumber)(e)?this.container.style.width=e+"px":this.container.style.width=e,null===t?(n=n||this.element.getBoundingClientRect()).height&&(t=n.height,this.container.style.height=t+"px"):(0,a.isNumber)(t)?this.container.style.height=t+"px":this.container.style.height=t,(0,a.isNumber)(e)||(e=this.container.clientWidth),(0,a.isNumber)(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};var o=(0,a.windowBounds)(),s=window.getComputedStyle(document.body),l=parseFloat(s["padding-left"])||0,u=parseFloat(s["padding-right"])||0,c=parseFloat(s["padding-top"])||0,h=parseFloat(s["padding-bottom"])||0;return i||(e=o.width-l-u),(this.settings.fullsize&&!r||!r)&&(t=o.height-c-h),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}},{key:"bounds",value:function(){var e;return"visible"!==this.container.style.overflow&&(e=this.container&&this.container.getBoundingClientRect()),e&&e.width&&e.height?e:(0,a.windowBounds)()}},{key:"getSheet",value:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}},{key:"addStyleRules",value:function(e,t){var n="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),t.forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&(i+=t+":"+e[t]+";")})),this.sheet.insertRule(n+e+" {"+i+"}",0)}},{key:"axis",value:function(e){"horizontal"===e?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}},{key:"direction",value:function(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}},{key:"overflow",value:function(e){this.container&&("scroll"===e&&"vertical"===this.settings.axis?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):"scroll"===e&&"horizontal"===this.settings.axis?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}},{key:"destroy",value:function(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}]),e}();t.default=l},3903:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t){i(this,e),this.container=t,this._views=[],this.length=0,this.hidden=!1}return r(e,[{key:"all",value:function(){return this._views}},{key:"first",value:function(){return this._views[0]}},{key:"last",value:function(){return this._views[this._views.length-1]}},{key:"indexOf",value:function(e){return this._views.indexOf(e)}},{key:"slice",value:function(){return this._views.slice.apply(this._views,arguments)}},{key:"get",value:function(e){return this._views[e]}},{key:"append",value:function(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}},{key:"prepend",value:function(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}},{key:"insert",value:function(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}},{key:"remove",value:function(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}},{key:"destroy",value:function(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}},{key:"forEach",value:function(){return this._views.forEach.apply(this._views,arguments)}},{key:"clear",value:function(){var e,t=this.length;if(this.length){for(var n=0;n<t;n++)e=this._views[n],this.destroy(e);this._views=[],this.length=0}}},{key:"find",value:function(e){for(var t,n=this.length,i=0;i<n;i++)if((t=this._views[i]).displayed&&t.section.index==e.index)return t}},{key:"displayed",value:function(){for(var e,t=[],n=this.length,i=0;i<n;i++)(e=this._views[i]).displayed&&t.push(e);return t}},{key:"show",value:function(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.show();this.hidden=!1}},{key:"hide",value:function(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.hide();this.hidden=!0}}]),e}(),a=o;t.default=a},848:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=h(n(4)),a=n(5261),s=h(n(1798)),l=h(n(2172)),u=n(4603),c=n(9849);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){i(this,e),this.settings=(0,a.extend)({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+(0,a.uuid)(),this.section=t,this.index=t.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new s.default,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}return r(e,[{key:"container",value:function(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",t.style.flex=e&&"horizontal"==e?"none":"initial",t}},{key:"create",value:function(){return this.iframe||(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=(0,a.bounds)(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write")),this.iframe}},{key:"render",value:function(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(e){return this.load(e)}.bind(this)).then(function(){var e,t=this,n=this.contents.writingMode();return e="scrolled"===this.settings.flow?0===n.indexOf("vertical")?"horizontal":"vertical":0===n.indexOf("vertical")?"vertical":"horizontal",0===n.indexOf("vertical")&&"paginated"===this.settings.flow&&(this.layout.delta=this.layout.height),this.setAxis(e),this.emit(u.EVENTS.VIEWS.AXIS,e),this.setWritingMode(n),this.emit(u.EVENTS.VIEWS.WRITING_MODE,n),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((function(e,n){t.expand(),t.settings.forceRight&&(t.element.style.marginLeft=t.width()+"px"),e()}))}.bind(this),function(e){return this.emit(u.EVENTS.VIEWS.LOAD_ERROR,e),new Promise((function(t,n){n(e)}))}.bind(this)).then(function(){this.emit(u.EVENTS.VIEWS.RENDERED,this.section)}.bind(this))}},{key:"reset",value:function(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}},{key:"size",value:function(e,t){var n=e||this.settings.width,i=t||this.settings.height;"pre-paginated"===this.layout.name?this.lock("both",n,i):"horizontal"===this.settings.axis?this.lock("height",n,i):this.lock("width",n,i),this.settings.width=n,this.settings.height=i}},{key:"lock",value:function(e,t,n){var i,r=(0,a.borders)(this.element);i=this.iframe?(0,a.borders)(this.iframe):{width:0,height:0},"width"==e&&(0,a.isNumber)(t)&&(this.lockedWidth=t-r.width-i.width),"height"==e&&(0,a.isNumber)(n)&&(this.lockedHeight=n-r.height-i.height),"both"===e&&(0,a.isNumber)(t)&&(0,a.isNumber)(n)&&(this.lockedWidth=t-r.width-i.width,this.lockedHeight=n-r.height-i.height),this.displayed&&this.iframe&&this.expand()}},{key:"expand",value:function(e){var t,n=this.lockedWidth,i=this.lockedHeight;this.iframe&&!this._expanding&&(this._expanding=!0,"pre-paginated"===this.layout.name?(n=this.layout.columnWidth,i=this.layout.height):"horizontal"===this.settings.axis?((n=this.contents.textWidth())%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(t=n/this.layout.pageWidth,this.layout.divisor>1&&"reflowable"===this.layout.name&&t%2>0&&(n+=this.layout.pageWidth))):"vertical"===this.settings.axis&&(i=this.contents.textHeight(),"paginated"===this.settings.flow&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||i!=this._height)&&this.reframe(n,i),this._expanding=!1)}},{key:"reframe",value:function(e,t){var n,i=this;(0,a.isNumber)(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),(0,a.isNumber)(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t),n={width:e,height:t,widthDelta:this.prevBounds?e-this.prevBounds.width:e,heightDelta:this.prevBounds?t-this.prevBounds.height:t},this.pane&&this.pane.render(),requestAnimationFrame((function(){var e;for(var t in i.marks)i.marks.hasOwnProperty(t)&&(e=i.marks[t],i.placeMark(e.element,e.range))})),this.onResize(this,n),this.emit(u.EVENTS.VIEWS.RESIZED,n),this.prevBounds=n,this.elementBounds=(0,a.bounds)(this.element)}},{key:"load",value:function(e){var t=new a.defer,n=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),n;if(this.iframe.onload=function(e){this.onLoad(e,t)}.bind(this),"blobUrl"===this.settings.method)this.blobUrl=(0,a.createBlobUrl)(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.settings.method)this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),n;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction((function(){i.iframe.contentDocument.write(e)}))}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return n}},{key:"onLoad",value:function(e,t){var n=this;this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new l.default(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):((i=this.document.createElement("link")).setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(u.EVENTS.CONTENTS.EXPAND,(function(){n.displayed&&n.iframe&&(n.expand(),n.contents&&n.layout.format(n.contents))})),this.contents.on(u.EVENTS.CONTENTS.RESIZE,(function(e){n.displayed&&n.iframe&&(n.expand(),n.contents&&n.layout.format(n.contents))})),t.resolve(this.contents)}},{key:"setLayout",value:function(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}},{key:"setAxis",value:function(e){this.settings.axis=e,this.element.style.flex="horizontal"==e?"none":"initial",this.size()}},{key:"setWritingMode",value:function(e){this.writingMode=e}},{key:"addListeners",value:function(){}},{key:"removeListeners",value:function(e){}},{key:"display",value:function(e){var t=new a.defer;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(u.EVENTS.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),(function(e){t.reject(e,this)})),t.promise}},{key:"show",value:function(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(u.EVENTS.VIEWS.SHOWN,this)}},{key:"hide",value:function(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(u.EVENTS.VIEWS.HIDDEN,this)}},{key:"offset",value:function(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}},{key:"width",value:function(){return this._width}},{key:"height",value:function(){return this._height}},{key:"position",value:function(){return this.element.getBoundingClientRect()}},{key:"locationOf",value:function(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}},{key:"onDisplayed",value:function(e){}},{key:"onResize",value:function(e,t){}},{key:"bounds",value:function(e){return!e&&this.elementBounds||(this.elementBounds=(0,a.bounds)(this.element)),this.elementBounds}},{key:"highlight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"epubjs-hl",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.contents){var a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},o),s=this.contents.range(e),l=function(){t.emit(u.EVENTS.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new c.Pane(this.iframe,this.element));var h=new c.Highlight(s,r,n,a),f=this.pane.addMark(h);return this.highlights[e]={mark:f,element:f.element,listeners:[l,i]},f.element.setAttribute("ref",r),f.element.addEventListener("click",l),f.element.addEventListener("touchstart",l),i&&(f.element.addEventListener("click",i),f.element.addEventListener("touchstart",i)),f}}},{key:"underline",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"epubjs-ul",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.contents){var a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},o),s=this.contents.range(e),l=function(){t.emit(u.EVENTS.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new c.Pane(this.iframe,this.element));var h=new c.Underline(s,r,n,a),f=this.pane.addMark(h);return this.underlines[e]={mark:f,element:f.element,listeners:[l,i]},f.element.setAttribute("ref",r),f.element.addEventListener("click",l),f.element.addEventListener("touchstart",l),i&&(f.element.addEventListener("click",i),f.element.addEventListener("touchstart",i)),f}}},{key:"mark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(this.contents){if(e in this.marks){var r=this.marks[e];return r}var o=this.contents.range(e);if(o){var a=o.commonAncestorContainer,s=1===a.nodeType?a:a.parentNode,l=function(i){t.emit(u.EVENTS.VIEWS.MARK_CLICKED,e,n)};o.collapsed&&1===a.nodeType?(o=new Range).selectNodeContents(a):o.collapsed&&(o=new Range).selectNodeContents(s);var c=this.document.createElement("a");return c.setAttribute("ref","epubjs-mk"),c.style.position="absolute",c.dataset.epubcfi=e,n&&Object.keys(n).forEach((function(e){c.dataset[e]=n[e]})),i&&(c.addEventListener("click",i),c.addEventListener("touchstart",i)),c.addEventListener("click",l),c.addEventListener("touchstart",l),this.placeMark(c,o),this.element.appendChild(c),this.marks[e]={element:c,range:o,listeners:[l,i]},s}}}},{key:"placeMark",value:function(e,t){var n,i,r;if("pre-paginated"===this.layout.name||"horizontal"!==this.settings.axis){var o=t.getBoundingClientRect();n=o.top,i=o.right}else for(var a,s=t.getClientRects(),l=0;l!=s.length;l++)a=s[l],(!r||a.left<r)&&(r=a.left,i=Math.ceil(r/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,n=a.top);e.style.top="".concat(n,"px"),e.style.left="".concat(i,"px")}},{key:"unhighlight",value:function(e){var t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.highlights[e])}},{key:"ununderline",value:function(e){var t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.underlines[e])}},{key:"unmark",value:function(e){var t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.marks[e])}},{key:"destroy",value:function(){for(var e in this.highlights)this.unhighlight(e);for(var t in this.underlines)this.ununderline(t);for(var n in this.marks)this.unmark(n);this.blobUrl&&(0,a.revokeBlobUrl)(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}]),e}();(0,o.default)(f.prototype);var d=f;t.default=d},4807:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(1798))&&o.__esModule?o:{default:o},s=n(5261);var l=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i(this,e),this.layout=t,this.horizontal="horizontal"===r,this.direction=n||"ltr",this._dev=o}return r(e,[{key:"section",value:function(e){var t=this.findRanges(e);return this.rangeListToCfiList(e.section.cfiBase,t)}},{key:"page",value:function(e,t,n,i){var r,o=!(!e||!e.document)&&e.document.body;if(o){if(r=this.rangePairToCfiPair(t,{start:this.findStart(o,n,i),end:this.findEnd(o,n,i)}),!0===this._dev){var s=e.document,l=new a.default(r.start).toRange(s),u=new a.default(r.end).toRange(s),c=s.defaultView.getSelection(),h=s.createRange();c.removeAllRanges(),h.setStart(l.startContainer,l.startOffset),h.setEnd(u.endContainer,u.endOffset),c.addRange(h)}return r}}},{key:"walk",value:function(e,t){if(!e||e.nodeType!==Node.TEXT_NODE){var n=function(e){return e.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},i=n;i.acceptNode=n;for(var r,o,a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1);(r=a.nextNode())&&!(o=t(r)););return o}}},{key:"findRanges",value:function(e){for(var t,n,i=[],r=e.contents.scrollWidth(),o=Math.ceil(r/this.layout.spreadWidth)*this.layout.divisor,a=this.layout.columnWidth,s=this.layout.gap,l=0;l<o.pages;l++)t=(a+s)*l,n=a*(l+1)+s*l,i.push({start:this.findStart(e.document.body,t,n),end:this.findEnd(e.document.body,t,n)});return i}},{key:"findStart",value:function(e,t,n){for(var i,r,o=this,a=[e],l=e;a.length;)if(i=a.shift(),r=this.walk(i,(function(e){var i,r,u,c,h;if(h=(0,s.nodeBounds)(e),o.horizontal&&"ltr"===o.direction){if(i=o.horizontal?h.left:h.top,r=o.horizontal?h.right:h.bottom,i>=t&&i<=n)return e;if(r>t)return e;l=e,a.push(e)}else if(o.horizontal&&"rtl"===o.direction){if(i=h.left,(r=h.right)<=n&&r>=t)return e;if(i<n)return e;l=e,a.push(e)}else{if(u=h.top,c=h.bottom,u>=t&&u<=n)return e;if(c>t)return e;l=e,a.push(e)}})))return this.findTextStartRange(r,t,n);return this.findTextStartRange(l,t,n)}},{key:"findEnd",value:function(e,t,n){for(var i,r,o=this,a=[e],l=e;a.length;)if(i=a.shift(),r=this.walk(i,(function(e){var i,r,u,c,h;if(h=(0,s.nodeBounds)(e),o.horizontal&&"ltr"===o.direction){if(i=Math.round(h.left),r=Math.round(h.right),i>n&&l)return l;if(r>n)return e;l=e,a.push(e)}else if(o.horizontal&&"rtl"===o.direction){if(i=Math.round(o.horizontal?h.left:h.top),(r=Math.round(o.horizontal?h.right:h.bottom))<t&&l)return l;if(i<t)return e;l=e,a.push(e)}else{if(u=Math.round(h.top),c=Math.round(h.bottom),u>n&&l)return l;if(c>n)return e;l=e,a.push(e)}})))return this.findTextEndRange(r,t,n);return this.findTextEndRange(l,t,n)}},{key:"findTextStartRange",value:function(e,t,n){for(var i,r,o=this.splitTextNodeIntoRanges(e),a=0;a<o.length;a++)if(r=(i=o[a]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(r.left>=t)return i}else if(this.horizontal&&"rtl"===this.direction){if(r.right<=n)return i}else if(r.top>=t)return i;return o[0]}},{key:"findTextEndRange",value:function(e,t,n){for(var i,r,o,a,s,l,u,c=this.splitTextNodeIntoRanges(e),h=0;h<c.length;h++){if(o=(r=c[h]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(a=o.left,s=o.right,a>n&&i)return i;if(s>n)return r}else if(this.horizontal&&"rtl"===this.direction){if(a=o.left,(s=o.right)<t&&i)return i;if(a<t)return r}else{if(l=o.top,u=o.bottom,l>n&&i)return i;if(u>n)return r}i=r}return c[c.length-1]}},{key:"splitTextNodeIntoRanges",value:function(e,t){var n,i=[],r=(e.textContent||"").trim(),o=e.ownerDocument,a=t||" ",s=r.indexOf(a);if(-1===s||e.nodeType!=Node.TEXT_NODE)return(n=o.createRange()).selectNodeContents(e),[n];for((n=o.createRange()).setStart(e,0),n.setEnd(e,s),i.push(n),n=!1;-1!=s;)(s=r.indexOf(a,s+1))>0&&(n&&(n.setEnd(e,s),i.push(n)),(n=o.createRange()).setStart(e,s+1));return n&&(n.setEnd(e,r.length),i.push(n)),i}},{key:"rangePairToCfiPair",value:function(e,t){var n=t.start,i=t.end;return n.collapse(!0),i.collapse(!1),{start:new a.default(n,e).toString(),end:new a.default(i,e).toString()}}},{key:"rangeListToCfiList",value:function(e,t){for(var n,i=[],r=0;r<t.length;r++)n=this.rangePairToCfiPair(e,t[r]),i.push(n);return i}},{key:"axis",value:function(e){return e&&(this.horizontal="horizontal"===e),this.horizontal}}]),e}(),u=l;t.default=u},702:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=function(){function e(t){i(this,e),this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,t&&this.parse(t)}return r(e,[{key:"parse",value:function(e){var t,n,i=e.nodeType;i&&(t=(0,o.qs)(e,"html"),n=(0,o.qs)(e,"ncx")),i?t?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}},{key:"unpack",value:function(e){for(var t,n=0;n<e.length;n++)(t=e[n]).href&&(this.tocByHref[t.href]=n),t.id&&(this.tocById[t.id]=n),this.length++,t.subitems.length&&this.unpack(t.subitems)}},{key:"get",value:function(e){var t;return e?(0===e.indexOf("#")?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}},{key:"getByIndex",value:function(e,t,n){if(0!==n.length){var i=n[t];if(!i||e!==i.id&&e!==i.href){for(var r,o=0;o<n.length&&!(r=this.getByIndex(e,t,n[o].subitems));++o);return r}return i}}},{key:"landmark",value:function(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}},{key:"parseNav",value:function(e){var t=(0,o.querySelectorByType)(e,"nav","toc"),n=[];if(!t)return n;var i=(0,o.filterChildren)(t,"ol",!0);return i?n=this.parseNavList(i):n}},{key:"parseNavList",value:function(e,t){var n=[];if(!e)return n;if(!e.children)return n;for(var i=0;i<e.children.length;i++){var r=this.navItem(e.children[i],t);r&&n.push(r)}return n}},{key:"navItem",value:function(e,t){var n=e.getAttribute("id")||void 0,i=(0,o.filterChildren)(e,"a",!0)||(0,o.filterChildren)(e,"span",!0);if(i){var r=i.getAttribute("href")||"";n||(n=r);var a=i.textContent||"",s=[],l=(0,o.filterChildren)(e,"ol",!0);return l&&(s=this.parseNavList(l,n)),{id:n,href:r,label:a,subitems:s,parent:t}}}},{key:"parseLandmarks",value:function(e){var t,n,i=(0,o.querySelectorByType)(e,"nav","landmarks"),r=i?(0,o.qsa)(i,"li"):[],a=r.length,s=[];if(!r||0===a)return s;for(t=0;t<a;++t)(n=this.landmarkItem(r[t]))&&(s.push(n),this.landmarksByType[n.type]=t);return s}},{key:"landmarkItem",value:function(e){var t=(0,o.filterChildren)(e,"a",!0);if(t){var n=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0;return{href:t.getAttribute("href")||"",label:t.textContent||"",type:n}}}},{key:"parseNcx",value:function(e){var t,n,i=(0,o.qsa)(e,"navPoint"),r=i.length,a={},s=[];if(!i||0===r)return s;for(t=0;t<r;++t)a[(n=this.ncxItem(i[t])).id]=n,n.parent?a[n.parent].subitems.push(n):s.push(n);return s}},{key:"ncxItem",value:function(e){var t,n=e.getAttribute("id")||!1,i=(0,o.qs)(e,"content").getAttribute("src"),r=(0,o.qs)(e,"navLabel"),a=r.textContent?r.textContent:"",s=e.parentNode;return!s||"navPoint"!==s.nodeName&&"navPoint"!==s.nodeName.split(":").slice(-1)[0]||(t=s.getAttribute("id")),{id:n,href:i,label:a,subitems:[],parent:t}}},{key:"load",value:function(e){var t=this;return e.map((function(e){return e.label=e.title,e.subitems=e.children?t.load(e.children):[],e}))}},{key:"forEach",value:function(e){return this.toc.forEach(e)}}]),e}();t.default=a},5466:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=function(){function e(t){i(this,e),this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},t&&this.parse(t)}return r(e,[{key:"parse",value:function(e){var t,n,i;if(!e)throw new Error("Package File Not Found");if(!(t=(0,o.qs)(e,"metadata")))throw new Error("No Metadata Found");if(!(n=(0,o.qs)(e,"manifest")))throw new Error("No Manifest Found");if(!(i=(0,o.qs)(e,"spine")))throw new Error("No Spine Found");return this.manifest=this.parseManifest(n),this.navPath=this.findNavPath(n),this.ncxPath=this.findNcxPath(n,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=(0,o.indexOfElementNode)(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}},{key:"parseMetadata",value:function(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}},{key:"parseManifest",value:function(e){var t={},n=(0,o.qsa)(e,"item");return Array.prototype.slice.call(n).forEach((function(e){var n=e.getAttribute("id"),i=e.getAttribute("href")||"",r=e.getAttribute("media-type")||"",o=e.getAttribute("media-overlay")||"",a=e.getAttribute("properties")||"";t[n]={href:i,type:r,overlay:o,properties:a.length?a.split(" "):[]}})),t}},{key:"parseSpine",value:function(e,t){var n=[],i=(0,o.qsa)(e,"itemref");return Array.prototype.slice.call(i).forEach((function(e,t){var i=e.getAttribute("idref"),r=e.getAttribute("properties")||"",o=r.length?r.split(" "):[],a={id:e.getAttribute("id"),idref:i,linear:e.getAttribute("linear")||"yes",properties:o,index:t};n.push(a)})),n}},{key:"findUniqueIdentifier",value:function(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var n=e.getElementById(t);return n&&"identifier"===n.localName&&"http://purl.org/dc/elements/1.1/"===n.namespaceURI&&n.childNodes.length>0?n.childNodes[0].nodeValue.trim():""}},{key:"findNavPath",value:function(e){var t=(0,o.qsp)(e,"item",{properties:"nav"});return!!t&&t.getAttribute("href")}},{key:"findNcxPath",value:function(e,t){var n,i=(0,o.qsp)(e,"item",{"media-type":"application/x-dtbncx+xml"});return i||(n=t.getAttribute("toc"))&&(i=e.querySelector("#".concat(n))),!!i&&i.getAttribute("href")}},{key:"findCoverPath",value:function(e){(0,o.qs)(e,"package").getAttribute("version");var t=(0,o.qsp)(e,"item",{properties:"cover-image"});if(t)return t.getAttribute("href");var n=(0,o.qsp)(e,"meta",{name:"cover"});if(n){var i=n.getAttribute("content"),r=e.getElementById(i);return r?r.getAttribute("href"):""}return!1}},{key:"getElementText",value:function(e,t){var n,i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t);return i&&0!==i.length&&(n=i[0]).childNodes.length?n.childNodes[0].nodeValue:""}},{key:"getPropertyText",value:function(e,t){var n=(0,o.qsp)(e,"meta",{property:t});return n&&n.childNodes.length?n.childNodes[0].nodeValue:""}},{key:"load",value:function(e){var t=this;this.metadata=e.metadata;var n=e.readingOrder||e.spine;return this.spine=n.map((function(e,t){return e.index=t,e.linear=e.linear||"yes",e})),e.resources.forEach((function(e,n){t.manifest[n]=e,e.rel&&"cover"===e.rel[0]&&(t.coverPath=e.href)})),this.spineNodeIndex=0,this.toc=e.toc.map((function(e,t){return e.label=e.title,e})),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}},{key:"destroy",value:function(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}]),e}();t.default=a},4202:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(1798))&&o.__esModule?o:{default:o},s=n(5261);var l=function(){function e(t){i(this,e),this.pages=[],this.locations=[],this.epubcfi=new a.default,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,t&&(this.pageList=this.parse(t)),this.pageList&&this.pageList.length&&this.process(this.pageList)}return r(e,[{key:"parse",value:function(e){var t=(0,s.qs)(e,"html"),n=(0,s.qs)(e,"ncx");return t?this.parseNav(e):n?this.parseNcx(e):void 0}},{key:"parseNav",value:function(e){var t,n,i=(0,s.querySelectorByType)(e,"nav","page-list"),r=i?(0,s.qsa)(i,"li"):[],o=r.length,a=[];if(!r||0===o)return a;for(t=0;t<o;++t)n=this.item(r[t]),a.push(n);return a}},{key:"parseNcx",value:function(e){var t,n,i,r,o=[],a=0;if(!(n=(0,s.qs)(e,"pageList")))return o;if(r=(i=(0,s.qsa)(n,"pageTarget")).length,!i||0===i.length)return o;for(a=0;a<r;++a)t=this.ncxItem(i[a]),o.push(t);return o}},{key:"ncxItem",value:function(e){var t=(0,s.qs)(e,"navLabel"),n=(0,s.qs)(t,"text").textContent;return{href:(0,s.qs)(e,"content").getAttribute("src"),page:parseInt(n,10)}}},{key:"item",value:function(e){var t,n,i=(0,s.qs)(e,"a"),r=i.getAttribute("href")||"",o=i.textContent||"",a=parseInt(o);return-1!=r.indexOf("epubcfi")?(n=(t=r.split("#"))[0],{cfi:t.length>1&&t[1],href:r,packageUrl:n,page:a}):{href:r,page:a}}},{key:"process",value:function(e){e.forEach((function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)}),this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}},{key:"pageFromCfi",value:function(e){var t=-1;if(0===this.locations.length)return-1;var n=(0,s.indexOfSorted)(e,this.locations,this.epubcfi.compare);return-1!=n?t=this.pages[n]:void 0!==(t=(n=(0,s.locationOf)(e,this.locations,this.epubcfi.compare))-1>=0?this.pages[n-1]:this.pages[0])||(t=-1),t}},{key:"cfiFromPage",value:function(e){var t=-1;"number"!=typeof e&&(e=parseInt(e));var n=this.pages.indexOf(e);return-1!=n&&(t=this.locations[n]),t}},{key:"pageFromPercentage",value:function(e){return Math.round(this.totalPages*e)}},{key:"percentageFromPage",value:function(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(1e3*t)/1e3}},{key:"percentageFromCfi",value:function(e){var t=this.pageFromCfi(e);return this.percentageFromPage(t)}},{key:"destroy",value:function(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}]),e}();t.default=l},8642:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=g(n(4)),a=n(5261),s=g(n(9592)),l=g(n(1798)),u=g(n(9030)),c=g(n(2964)),h=g(n(2208)),f=(g(n(2172)),g(n(5495))),d=n(4603),p=g(n(848)),v=g(n(8749)),m=g(n(8716));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t,n){i(this,e),this.settings=(0,a.extend)(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),(0,a.extend)(this.settings,n),"object"===typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=t,this.hooks={},this.hooks.display=new s.default(this),this.hooks.serialize=new s.default(this),this.hooks.content=new s.default(this),this.hooks.unloaded=new s.default(this),this.hooks.layout=new s.default(this),this.hooks.render=new s.default(this),this.hooks.show=new s.default(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new h.default(this),this.annotations=new f.default(this),this.epubcfi=new l.default,this.q=new u.default(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new a.defer,this.started=this.starting.promise,this.q.enqueue(this.start)}return r(e,[{key:"setManager",value:function(e){this.manager=e}},{key:"requireManager",value:function(e){return"string"===typeof e&&"default"===e?v.default:"string"===typeof e&&"continuous"===e?m.default:e}},{key:"requireView",value:function(e){return"string"==typeof e&&"iframe"===e?p.default:e}},{key:"start",value:function(){switch(this.settings.layout||"pre-paginated"!==this.book.package.metadata.layout&&"true"!==this.book.displayOptions.fixedLayout||(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(d.EVENTS.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(d.EVENTS.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(d.EVENTS.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(d.EVENTS.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(d.EVENTS.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(d.EVENTS.RENDITION.STARTED),this.starting.resolve()}},{key:"attachTo",value:function(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(d.EVENTS.RENDITION.ATTACHED)}.bind(this))}},{key:"display",value:function(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}},{key:"_display",value:function(e){var t=this;if(this.book){this.epubcfi.isCfiString(e);var n,i=new a.defer,r=i.promise;return this.displaying=i,this.book.locations.length()&&(0,a.isFloat)(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),(n=this.book.spine.get(e))?(this.manager.display(n,e).then((function(){i.resolve(n),t.displaying=void 0,t.emit(d.EVENTS.RENDITION.DISPLAYED,n),t.reportLocation()}),(function(e){t.emit(d.EVENTS.RENDITION.DISPLAY_ERROR,e)})),r):(i.reject(new Error("No Section Found")),r)}}},{key:"afterDisplayed",value:function(e){var t=this;e.on(d.EVENTS.VIEWS.MARK_CLICKED,(function(n,i){return t.triggerMarkEvent(n,i,e.contents)})),this.hooks.render.trigger(e,this).then((function(){e.contents?t.hooks.content.trigger(e.contents,t).then((function(){t.emit(d.EVENTS.RENDITION.RENDERED,e.section,e)})):t.emit(d.EVENTS.RENDITION.RENDERED,e.section,e)}))}},{key:"afterRemoved",value:function(e){var t=this;this.hooks.unloaded.trigger(e,this).then((function(){t.emit(d.EVENTS.RENDITION.REMOVED,e.section,e)}))}},{key:"onResized",value:function(e,t){this.emit(d.EVENTS.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}},{key:"onOrientationChange",value:function(e){this.emit(d.EVENTS.RENDITION.ORIENTATION_CHANGE,e)}},{key:"moveTo",value:function(e){this.manager.moveTo(e)}},{key:"resize",value:function(e,t,n){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,n)}},{key:"clear",value:function(){this.manager.clear()}},{key:"next",value:function(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}},{key:"prev",value:function(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}},{key:"determineLayoutProperties",value:function(e){var t=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",i=this.settings.orientation||e.orientation||"auto",r=this.settings.flow||e.flow||"auto",o=e.viewport||"",a=this.settings.minSpreadWidth||e.minSpreadWidth||800,s=this.settings.direction||e.direction||"ltr";return(0===this.settings.width||this.settings.width>0)&&(0===this.settings.height||this.settings.height),{layout:t,spread:n,orientation:i,flow:r,viewport:o,minSpreadWidth:a,direction:s}}},{key:"flow",value:function(e){var t=e;"scrolled"!==e&&"scrolled-doc"!==e&&"scrolled-continuous"!==e||(t="scrolled"),"auto"!==e&&"paginated"!==e||(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}},{key:"layout",value:function(e){var t=this;return e&&(this._layout=new c.default(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(d.EVENTS.LAYOUT.UPDATED,(function(e,n){t.emit(d.EVENTS.RENDITION.LAYOUT,e,n)}))),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}},{key:"spread",value:function(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}},{key:"direction",value:function(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}},{key:"reportLocation",value:function(){return this.q.enqueue(function(){requestAnimationFrame(function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"===typeof e.then)e.then(function(e){var t=this.located(e);t&&t.start&&t.end&&(this.location=t,this.emit(d.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(d.EVENTS.RENDITION.RELOCATED,this.location))}.bind(this));else if(e){var t=this.located(e);if(!t||!t.start||!t.end)return;this.location=t,this.emit(d.EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(d.EVENTS.RENDITION.RELOCATED,this.location)}}.bind(this))}.bind(this))}},{key:"currentLocation",value:function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"===typeof e.then)e.then(function(e){return this.located(e)}.bind(this));else if(e){return this.located(e)}}},{key:"located",value:function(e){if(!e.length)return{};var t=e[0],n=e[e.length-1],i={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:n.index,href:n.href,cfi:n.mapping.end,displayed:{page:n.pages[n.pages.length-1]||1,total:n.totalPages}}},r=this.book.locations.locationFromCfi(t.mapping.start),o=this.book.locations.locationFromCfi(n.mapping.end);null!=r&&(i.start.location=r,i.start.percentage=this.book.locations.percentageFromLocation(r)),null!=o&&(i.end.location=o,i.end.percentage=this.book.locations.percentageFromLocation(o));var a=this.book.pageList.pageFromCfi(t.mapping.start),s=this.book.pageList.pageFromCfi(n.mapping.end);return-1!=a&&(i.start.page=a),-1!=s&&(i.end.page=s),n.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),t.index===this.book.spine.first().index&&1===i.start.displayed.page&&(i.atStart=!0),i}},{key:"destroy",value:function(){this.manager&&this.manager.destroy(),this.book=void 0}},{key:"passEvents",value:function(e){var t=this;d.DOM_EVENTS.forEach((function(n){e.on(n,(function(n){return t.triggerViewEvent(n,e)}))})),e.on(d.EVENTS.CONTENTS.SELECTED,(function(n){return t.triggerSelectedEvent(n,e)}))}},{key:"triggerViewEvent",value:function(e,t){this.emit(e.type,e,t)}},{key:"triggerSelectedEvent",value:function(e,t){this.emit(d.EVENTS.RENDITION.SELECTED,e,t)}},{key:"triggerMarkEvent",value:function(e,t,n){this.emit(d.EVENTS.RENDITION.MARK_CLICKED,e,t,n)}},{key:"getRange",value:function(e,t){var n=new l.default(e),i=this.manager.visible().filter((function(e){if(n.spinePos===e.index)return!0}));if(i.length)return i[0].contents.range(n,t)}},{key:"adjustImages",value:function(e){if("pre-paginated"===this._layout.name)return new Promise((function(e){e()}));var t=e.window.getComputedStyle(e.content,null),n=.95*(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise((function(e,t){setTimeout((function(){e()}),1)}))}},{key:"getContents",value:function(){return this.manager?this.manager.getContents():[]}},{key:"views",value:function(){var e=this.manager?this.manager.views:void 0;return e||[]}},{key:"handleLinks",value:function(e){var t=this;e&&e.on(d.EVENTS.CONTENTS.LINK_CLICKED,(function(e){var n=t.book.path.relative(e);t.display(n)}))}},{key:"injectStylesheet",value:function(e,t){var n=e.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(n)}},{key:"injectScript",value:function(e,t){var n=e.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",this.settings.script),n.textContent=" ",e.getElementsByTagName("head")[0].appendChild(n)}},{key:"injectIdentifier",value:function(e,t){var n=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),n&&i.setAttribute("content",n),e.getElementsByTagName("head")[0].appendChild(i)}}]),e}();(0,o.default)(y.prototype);var b=y;t.default=b},7935:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(3087),a=n(5261),s=h(n(2019)),l=h(n(6198)),u=h(n(8039)),c=h(n(2650));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){i(this,e),this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(t)}return r(e,[{key:"process",value:function(e){this.manifest=e,this.resources=Object.keys(e).map((function(t){return e[t]})),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}},{key:"split",value:function(){this.html=this.resources.filter((function(e){if("application/xhtml+xml"===e.type||"text/html"===e.type)return!0})),this.assets=this.resources.filter((function(e){if("application/xhtml+xml"!==e.type&&"text/html"!==e.type)return!0})),this.css=this.resources.filter((function(e){if("text/css"===e.type)return!0}))}},{key:"splitUrls",value:function(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map((function(e){return e.href}))}},{key:"createUrl",value:function(e){var t=new s.default(e),n=l.default.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:"base64"===this.settings.replacements}):"base64"===this.settings.replacements?this.settings.request(e,"blob").then((function(e){return(0,a.blob2base64)(e)})).then((function(e){return(0,a.createBase64Url)(e,n)})):this.settings.request(e,"blob").then((function(e){return(0,a.createBlobUrl)(e,n)}))}},{key:"replacements",value:function(){var e=this;if("none"===this.settings.replacements)return new Promise(function(e){e(this.urls)}.bind(this));var t=this.urls.map((function(t){var n=e.settings.resolver(t);return e.createUrl(n).catch((function(e){return console.error(e),null}))}));return Promise.all(t).then((function(t){return e.replacementUrls=t.filter((function(e){return"string"===typeof e})),t}))}},{key:"replaceCss",value:function(e,t){var n=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach(function(i){var r=this.createCssFile(i,e,t).then(function(e){var t=this.urls.indexOf(i);t>-1&&(this.replacementUrls[t]=e)}.bind(this));n.push(r)}.bind(this)),Promise.all(n)}},{key:"createCssFile",value:function(e){var t=this;if(c.default.isAbsolute(e))return new Promise((function(e){e()}));var n,i=this.settings.resolver(e);n=this.settings.archive?this.settings.archive.getText(i):this.settings.request(i,"text");var r=this.urls.map((function(e){var n=t.settings.resolver(e);return new u.default(i).relative(n)}));return n?n.then((function(e){return e=(0,o.substitute)(e,r,t.replacementUrls),"base64"===t.settings.replacements?(0,a.createBase64Url)(e,"text/css"):(0,a.createBlobUrl)(e,"text/css")}),(function(e){return new Promise((function(e){e()}))})):new Promise((function(e){e()}))}},{key:"relativeTo",value:function(e,t){return t=t||this.settings.resolver,this.urls.map(function(n){var i=t(n);return new u.default(e).relative(i)}.bind(this))}},{key:"get",value:function(e){var t=this.urls.indexOf(e);if(-1!==t)return this.replacementUrls.length?new Promise(function(e,n){e(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}},{key:"substitute",value:function(e,t){var n;return n=t?this.relativeTo(t):this.urls,(0,o.substitute)(e,n,this.replacementUrls)}},{key:"destroy",value:function(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}]),e}();t.default=f},5295:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=h(n(1798)),s=h(n(9592)),l=n(3087),u=h(n(9893)),c=n(7542);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){i(this,e),this.idref=t.idref,this.linear="yes"===t.linear,this.properties=t.properties,this.index=t.index,this.href=t.href,this.url=t.url,this.canonical=t.canonical,this.next=t.next,this.prev=t.prev,this.cfiBase=t.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new s.default(this),this.hooks.content=new s.default(this)),this.document=void 0,this.contents=void 0,this.output=void 0}return r(e,[{key:"load",value:function(e){var t=e||this.request||u.default,n=new o.defer,i=n.promise;return this.contents?n.resolve(this.contents):t(this.url).then(function(e){return this.document=e,this.contents=e.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){n.resolve(this.contents)}.bind(this)).catch((function(e){n.reject(e)})),i}},{key:"base",value:function(){return(0,l.replaceBase)(this.document,this)}},{key:"render",value:function(e){var t=new o.defer,n=t.promise;return this.output,this.load(e).then(function(e){var t=("undefined"!==typeof navigator&&navigator.userAgent||"").indexOf("Trident")>=0,n=new("undefined"===typeof XMLSerializer||t?c.DOMParser:XMLSerializer);return this.output=n.serializeToString(e),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch((function(e){t.reject(e)})),n}},{key:"find",value:function(e){var t=this,n=[],i=e.toLowerCase(),r=function(e){for(var r,o,a,s=e.textContent.toLowerCase(),l=t.document.createRange(),u=-1;-1!=o;)-1!=(o=s.indexOf(i,u+1))&&((l=t.document.createRange()).setStart(e,o),l.setEnd(e,o+i.length),r=t.cfiFromRange(l),a=e.textContent.length<150?e.textContent:"..."+(a=e.textContent.substring(o-75,o+75))+"...",n.push({cfi:r,excerpt:a})),u=o};return(0,o.sprint)(t.document,(function(e){r(e)})),n}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("undefined"==typeof document.createTreeWalker)return this.find(e);for(var n,i=[],r=150,o=this,a=e.toLowerCase(),s=function(e){var t=e.reduce((function(e,t){return e+t.textContent}),"").toLowerCase().indexOf(a);if(-1!=t){var n=t+a.length,s=0,l=0;if(t<e[0].length){for(var u;s<e.length-1&&!(n<=(l+=e[s].length));)s+=1;var c=e[0],h=e[s],f=o.document.createRange();f.setStart(c,t);var d=e.slice(0,s).reduce((function(e,t){return e+t.textContent.length}),0);f.setEnd(h,d>n?n:n-d),u=o.cfiFromRange(f);var p=e.slice(0,s+1).reduce((function(e,t){return e+t.textContent}),"");p.length>r&&(p="..."+(p=p.substring(t-r/2,t+r/2))+"..."),i.push({cfi:u,excerpt:p})}}},l=document.createTreeWalker(o.document,NodeFilter.SHOW_TEXT,null,!1),u=[];n=l.nextNode();)u.push(n),u.length==t&&(s(u.slice(0,t)),u=u.slice(1,t));return u.length>0&&s(u),i}},{key:"reconcileLayoutSettings",value:function(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach((function(e){var n,i,r=e.replace("rendition:",""),o=r.indexOf("-");-1!=o&&(n=r.slice(0,o),i=r.slice(o+1),t[n]=i)})),t}},{key:"cfiFromRange",value:function(e){return new a.default(e,this.cfiBase).toString()}},{key:"cfiFromElement",value:function(e){return new a.default(e,this.cfiBase).toString()}},{key:"unload",value:function(){this.document=void 0,this.contents=void 0,this.output=void 0}},{key:"destroy",value:function(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}]),e}(),d=f;t.default=d},2669:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(1798)),a=u(n(9592)),s=u(n(5295)),l=n(3087);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){i(this,e),this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new a.default,this.hooks.content=new a.default,this.hooks.content.register(l.replaceBase),this.hooks.content.register(l.replaceCanonical),this.hooks.content.register(l.replaceMeta),this.epubcfi=new o.default,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}return r(e,[{key:"unpack",value:function(e,t,n){var i=this;this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((function(e,r){var o,a=i.manifest[e.idref];e.index=r,e.cfiBase=i.epubcfi.generateChapterComponent(i.spineNodeIndex,e.index,e.id),e.href&&(e.url=t(e.href,!0),e.canonical=n(e.href)),a&&(e.href=a.href,e.url=t(e.href,!0),e.canonical=n(e.href),a.properties.length&&e.properties.push.apply(e.properties,a.properties)),"yes"===e.linear?(e.prev=function(){for(var t=e.index;t>0;){var n=this.get(t-1);if(n&&n.linear)return n;t-=1}}.bind(i),e.next=function(){for(var t=e.index;t<this.spineItems.length-1;){var n=this.get(t+1);if(n&&n.linear)return n;t+=1}}.bind(i)):(e.prev=function(){},e.next=function(){}),o=new s.default(e,i.hooks),i.append(o)})),this.loaded=!0}},{key:"get",value:function(e){var t=0;if("undefined"===typeof e)for(;t<this.spineItems.length;){var n=this.spineItems[t];if(n&&n.linear)break;t+=1}else if(this.epubcfi.isCfiString(e)){t=new o.default(e).spinePos}else"number"===typeof e||!1===isNaN(e)?t=e:"string"===typeof e&&0===e.indexOf("#")?t=this.spineById[e.substring(1)]:"string"===typeof e&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}},{key:"append",value:function(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}},{key:"prepend",value:function(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach((function(e,t){e.index=t})),0}},{key:"remove",value:function(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}},{key:"each",value:function(){return this.spineItems.forEach.apply(this.spineItems,arguments)}},{key:"first",value:function(){var e=0;do{var t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}},{key:"last",value:function(){var e=this.spineItems.length-1;do{var t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}},{key:"destroy",value:function(){this.each((function(e){return e.destroy()})),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}]),e}(),h=c;t.default=h},4114:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(5261),a=h(n(9893)),s=h(n(6198)),l=h(n(8039)),u=h(n(4)),c=h(n(1842));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n,r){i(this,e),this.urlCache={},this.storage=void 0,this.name=t,this.requester=n||a.default,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}return r(e,[{key:"checkRequirements",value:function(){try{var e;"undefined"===typeof c.default&&(e=c.default),this.storage=e.createInstance({name:this.name})}catch(t){throw new Error("localForage lib not loaded")}}},{key:"addListeners",value:function(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}},{key:"removeListeners",value:function(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}},{key:"status",value:function(e){var t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}},{key:"add",value:function(e,t){var n=this,i=e.resources.map((function(e){var i=e.href,r=n.resolver(i),o=window.encodeURIComponent(r);return n.storage.getItem(o).then((function(e){return!e||t?n.requester(r,"binary").then((function(e){return n.storage.setItem(o,e)})):e}))}));return Promise.all(i)}},{key:"put",value:function(e,t,n){var i=this,r=window.encodeURIComponent(e);return this.storage.getItem(r).then((function(o){return o||i.requester(e,"binary",t,n).then((function(e){return i.storage.setItem(r,e)}))}))}},{key:"request",value:function(e,t,n,i){var r=this;return this.online?this.requester(e,t,n,i).then((function(t){return r.put(e),t})):this.retrieve(e,t)}},{key:"retrieve",value:function(e,t){var n=this,i=(new o.defer,new l.default(e));return t||(t=i.extension),("blob"==t?this.getBlob(e):this.getText(e)).then((function(i){var r,a=new o.defer;return i?(r=n.handleResponse(i,t),a.resolve(r)):a.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),a.promise}))}},{key:"handleResponse",value:function(e,t){return"json"==t?JSON.parse(e):(0,o.isXml)(t)?(0,o.parse)(e,"text/xml"):"xhtml"==t?(0,o.parse)(e,"application/xhtml+xml"):"html"==t||"htm"==t?(0,o.parse)(e,"text/html"):e}},{key:"getBlob",value:function(e,t){var n=window.encodeURIComponent(e);return this.storage.getItem(n).then((function(n){if(n)return t=t||s.default.lookup(e),new Blob([n],{type:t})}))}},{key:"getText",value:function(e,t){var n=window.encodeURIComponent(e);return t=t||s.default.lookup(e),this.storage.getItem(n).then((function(e){var n,i=new o.defer,r=new FileReader;if(e)return n=new Blob([e],{type:t}),r.addEventListener("loadend",(function(){i.resolve(r.result)})),r.readAsText(n,t),i.promise}))}},{key:"getBase64",value:function(e,t){var n=window.encodeURIComponent(e);return t=t||s.default.lookup(e),this.storage.getItem(n).then((function(e){var n,i=new o.defer,r=new FileReader;if(e)return n=new Blob([e],{type:t}),r.addEventListener("loadend",(function(){i.resolve(r.result)})),r.readAsDataURL(n,t),i.promise}))}},{key:"createUrl",value:function(e,t){var n,i,r=new o.defer,a=window.URL||window.webkitURL||window.mozURL,s=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(s?(i=this.getBase64(e))&&i.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(i=this.getBlob(e))&&i.then(function(t){n=a.createObjectURL(t),this.urlCache[e]=n,r.resolve(n)}.bind(this)),i||r.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),r.promise)}},{key:"revokeUrl",value:function(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}},{key:"destroy",value:function(){var e=window.URL||window.webkitURL||window.mozURL;for(var t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}]),e}();(0,u.default)(f.prototype);var d=f;t.default=d},2208:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(2019))&&o.__esModule?o:{default:o};var s=function(){function e(t){i(this,e),this.rendition=t,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}return r(e,[{key:"register",value:function(){if(0!==arguments.length)return 1===arguments.length&&"object"===typeof arguments[0]?this.registerThemes(arguments[0]):1===arguments.length&&"string"===typeof arguments[0]?this.default(arguments[0]):2===arguments.length&&"string"===typeof arguments[1]?this.registerUrl(arguments[0],arguments[1]):2===arguments.length&&"object"===typeof arguments[1]?this.registerRules(arguments[0],arguments[1]):void 0}},{key:"default",value:function(e){if(e)return"string"===typeof e?this.registerUrl("default",e):"object"===typeof e?this.registerRules("default",e):void 0}},{key:"registerThemes",value:function(e){for(var t in e)e.hasOwnProperty(t)&&("string"===typeof e[t]?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}},{key:"registerCss",value:function(e,t){this._themes[e]={serialized:t},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"registerUrl",value:function(e,t){var n=new a.default(t);this._themes[e]={url:n.toString()},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"registerRules",value:function(e,t){this._themes[e]={rules:t},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"select",value:function(e){var t=this._current;this._current=e,this.update(e),this.rendition.getContents().forEach((function(n){n.removeClass(t),n.addClass(e)}))}},{key:"update",value:function(e){var t=this;this.rendition.getContents().forEach((function(n){t.add(e,n)}))}},{key:"inject",value:function(e){var t,n=[],i=this._themes;for(var r in i)!i.hasOwnProperty(r)||r!==this._current&&"default"!==r||(((t=i[r]).rules&&Object.keys(t.rules).length>0||t.url&&-1===n.indexOf(t.url))&&this.add(r,e),this._injected.push(r));"default"!=this._current&&e.addClass(this._current)}},{key:"add",value:function(e,t){var n=this._themes[e];n&&t&&(n.url?t.addStylesheet(n.url):n.serialized?(t.addStylesheetCss(n.serialized,e),n.injected=!0):n.rules&&(t.addStylesheetRules(n.rules,e),n.injected=!0))}},{key:"override",value:function(e,t,n){var i=this,r=this.rendition.getContents();this._overrides[e]={value:t,priority:!0===n},r.forEach((function(t){t.css(e,i._overrides[e].value,i._overrides[e].priority)}))}},{key:"removeOverride",value:function(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach((function(t){t.css(e)}))}},{key:"overrides",value:function(e){var t=this._overrides;for(var n in t)t.hasOwnProperty(n)&&e.css(n,t[n].value,t[n].priority)}},{key:"fontSize",value:function(e){this.override("font-size",e)}},{key:"font",value:function(e){this.override("font-family",e,!0)}},{key:"destroy",value:function(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}]),e}(),l=s;t.default=l},4603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=t.EPUBJS_VERSION=t.DOM_EVENTS=void 0;t.EPUBJS_VERSION="0.3";t.DOM_EVENTS=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"];t.EVENTS={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}}},5261:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RangeObject=void 0,t.blob2base64=function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onloadend=function(){t(i.result)}}))},t.borders=function(e){var t=window.getComputedStyle(e),n=0,i=0;return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),{height:i,width:n}},t.bounds=function(e){var t=window.getComputedStyle(e),n=0,i=0;return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),{height:i,width:n}},t.createBase64Url=function(e,t){var n;if("string"!==typeof e)return;return n=btoa(e),"data:"+t+";base64,"+n},t.createBlob=f,t.createBlobUrl=function(e,t){var n=f(e,t);return s.createObjectURL(n)},t.defaults=function(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e},t.defer=function(){var e=this;this.resolve=null,this.reject=null,this.id=l(),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),Object.freeze(this)},t.documentHeight=function(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)},t.extend=function(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){t&&Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))})),e},t.filterChildren=function(e,t,n){for(var i=[],r=e.childNodes,o=0;o<r.length;o++){var a=r[o];if(1===a.nodeType&&a.nodeName.toLowerCase()===t){if(n)return a;i.push(a)}}if(!n)return i},t.findChildren=function(e){for(var t=[],n=e.childNodes,i=0;i<n.length;i++){var r=n[i];1===r.nodeType&&t.push(r)}return t},t.getParentByTagName=function(e,t){var n;if(null===e||""===t)return;n=e.parentNode;for(;1===n.nodeType;){if(n.tagName.toLowerCase()===t)return n;n=n.parentNode}},t.indexOfElementNode=function(e){return h(e,1)},t.indexOfNode=h,t.indexOfSorted=function e(t,n,i,r,o){var a,s=r||0,l=o||n.length,u=parseInt(s+(l-s)/2);i||(i=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0});if(l-s<=0)return-1;if(a=i(n[u],t),l-s===1)return 0===a?u:-1;if(0===a)return u;return-1===a?e(t,n,i,u,l):e(t,n,i,s,u)},t.indexOfTextNode=function(e){return h(e,3)},t.insert=function(e,t,n){var i=c(e,t,n);return t.splice(i,0,e),i},t.isElement=function(e){return!(!e||1!=e.nodeType)},t.isFloat=function(e){var t=parseFloat(e);if(!1===u(e))return!1;if("string"===typeof e&&e.indexOf(".")>-1)return!0;return Math.floor(t)!==t},t.isNumber=u,t.isXml=function(e){return["xml","opf","ncx"].indexOf(e)>-1},t.locationOf=c,t.nodeBounds=function(e){var t,n=e.ownerDocument;if(e.nodeType==Node.TEXT_NODE){var i=n.createRange();i.selectNodeContents(e),t=i.getBoundingClientRect()}else t=e.getBoundingClientRect();return t},t.parents=m,t.parse=function(e,t,n){var i;i="undefined"===typeof DOMParser||n?o.DOMParser:DOMParser;65279===e.charCodeAt(0)&&(e=e.slice(1));return(new i).parseFromString(e,t)},t.prefixed=function(e){var t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],n=e.toLowerCase(),i=["Webkit","webkit","Moz","O","ms"].length;if("undefined"===typeof document||"undefined"!=typeof document.body.style[n])return e;for(var r=0;r<i;r++)if("undefined"!=typeof document.body.style[t[r]+n])return t[r]+n;return e},t.qs=function(e,t){var n;if(!e)throw new Error("No Element Provided");if("undefined"!=typeof e.querySelector)return e.querySelector(t);if((n=e.getElementsByTagName(t)).length)return n[0]},t.qsa=d,t.qsp=function(e,t,n){var i,r;if("undefined"!=typeof e.querySelector){for(var o in t+="[",n)t+=o+"~='"+n[o]+"'";return t+="]",e.querySelector(t)}if(i=e.getElementsByTagName(t),r=Array.prototype.slice.call(i,0).filter((function(e){for(var t in n)if(e.getAttribute(t)===n[t])return!0;return!1})),r)return r[0]},t.querySelectorByType=function(e,t,n){var i;"undefined"!=typeof e.querySelector&&(i=e.querySelector("".concat(t,'[*|type="').concat(n,'"]')));if(i&&0!==i.length)return i;i=d(e,t);for(var r=0;r<i.length;r++)if(i[r].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||i[r].getAttribute("epub:type")===n)return i[r]},t.requestAnimationFrame=void 0,t.revokeBlobUrl=function(e){return s.revokeObjectURL(e)},t.sprint=function(e,t){"undefined"!==typeof(e.ownerDocument||e).createTreeWalker?p(e,t,NodeFilter.SHOW_TEXT):v(e,(function(e){e&&3===e.nodeType&&t(e)}))},t.treeWalker=p,t.type=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.uuid=l,t.walk=v,t.windowBounds=function(){var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}};var o=n(7542),a="undefined"!=typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);t.requestAnimationFrame=a;var s="undefined"!=typeof URL?URL:"undefined"!=typeof window?window.URL||window.webkitURL||window.mozURL:void 0;function l(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}))}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e,t,n,i,r){var o,a=i||0,s=r||t.length,l=parseInt(a+(s-a)/2);return n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-a<=0?l:(o=n(t[l],e),s-a===1?o>=0?l:l+1:0===o?l:-1===o?c(e,t,n,l,s):c(e,t,n,a,l))}function h(e,t){for(var n,i=e.parentNode.childNodes,r=-1,o=0;o<i.length&&((n=i[o]).nodeType===t&&r++,n!=e);o++);return r}function f(e,t){return new Blob([e],{type:t})}function d(e,t){return"undefined"!=typeof e.querySelector?e.querySelectorAll(t):e.getElementsByTagName(t)}function p(e,t,n){for(var i,r=document.createTreeWalker(e,n,null,!1);i=r.nextNode();)t(i)}function v(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(v(e,t))return!0;e=e.nextSibling}while(e)}function m(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t}var g=function(){function e(){i(this,e),this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}return r(e,[{key:"setStart",value:function(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}},{key:"setEnd",value:function(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}},{key:"collapse",value:function(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}},{key:"selectNode",value:function(e){var t=e.parentNode,n=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,n),this.setEnd(t,n+1)}},{key:"selectNodeContents",value:function(e){e.childNodes[e.childNodes-1];var t=3===e.nodeType?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}},{key:"_commonAncestorContainer",value:function(e,t){var n=m(e||this.startContainer),i=m(t||this.endContainer);if(n[0]==i[0])for(var r=0;r<n.length;r++)if(n[r]!=i[r])return n[r-1]}},{key:"_checkCollapsed",value:function(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}},{key:"toString",value:function(){}}]),e}();t.RangeObject=g},9592:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t){i(this,e),this.context=t||this,this.hooks=[]}return r(e,[{key:"register",value:function(){for(var e=0;e<arguments.length;++e)if("function"===typeof arguments[e])this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}},{key:"deregister",value:function(e){for(var t=0;t<this.hooks.length;t++)if(this.hooks[t]===e){this.hooks.splice(t,1);break}}},{key:"trigger",value:function(){var e=arguments,t=this.context,n=[];return this.hooks.forEach((function(i){try{var r=i.apply(t,e)}catch(o){console.log(o)}r&&"function"===typeof r.then&&n.push(r)})),Promise.all(n)}},{key:"list",value:function(){return this.hooks}},{key:"clear",value:function(){return this.hooks=[]}}]),e}(),a=o;t.default=a},6198:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},i=function(){var e,t,i,r,o={};for(e in n)if(n.hasOwnProperty(e))for(t in n[e])if(n[e].hasOwnProperty(t))if("string"==typeof(i=n[e][t]))o[i]=e+"/"+t;else for(r=0;r<i.length;r++)o[i[r]]=e+"/"+t;return o}();var r={lookup:function(e){return e&&i[e.split(".").pop().toLowerCase()]||"text/plain"}};t.default=r},8039:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(2650))&&o.__esModule?o:{default:o};var s=function(){function e(t){var n;i(this,e),t.indexOf("://")>-1&&(t=new URL(t).pathname),n=this.parse(t),this.path=t,this.isDirectory(t)?this.directory=t:this.directory=n.dir+"/",this.filename=n.base,this.extension=n.ext.slice(1)}return r(e,[{key:"parse",value:function(e){return a.default.parse(e)}},{key:"isAbsolute",value:function(e){return a.default.isAbsolute(e||this.path)}},{key:"isDirectory",value:function(e){return"/"===e.charAt(e.length-1)}},{key:"resolve",value:function(e){return a.default.resolve(this.directory,e)}},{key:"relative",value:function(e){return e&&e.indexOf("://")>-1?e:a.default.relative(this.directory,e)}},{key:"splitPath",value:function(e){return this.splitPathRe.exec(e).slice(1)}},{key:"toString",value:function(){return this.path}}]),e}();t.default=s},9030:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Task=void 0;var o=n(5261),a=function(){function e(t){i(this,e),this._q=[],this.context=t,this.tick=o.requestAnimationFrame,this.running=!1,this.paused=!1}return r(e,[{key:"enqueue",value:function(){var e,t,n=[].shift.call(arguments),i=arguments;if(!n)throw new Error("No Task Provided");return t="function"===typeof n?{task:n,args:i,deferred:e=new o.defer,promise:e.promise}:{promise:n},this._q.push(t),0!=this.paused||this.running||this.run(),t.promise}},{key:"dequeue",value:function(){var e,t,n;return!this._q.length||this.paused?((e=new o.defer).deferred.resolve(),e.promise):(t=(e=this._q.shift()).task)?(n=t.apply(this.context,e.args))&&"function"===typeof n.then?n.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,n),e.promise):e.promise?e.promise:void 0}},{key:"dump",value:function(){for(;this._q.length;)this.dequeue()}},{key:"run",value:function(){var e=this;return this.running||(this.running=!0,this.defered=new o.defer),this.tick.call(window,(function(){e._q.length?e.dequeue().then(function(){this.run()}.bind(e)):(e.defered.resolve(),e.running=void 0)})),1==this.paused&&(this.paused=!1),this.defered.promise}},{key:"flush",value:function(){return this.running?this.running:this._q.length?(this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running):void 0}},{key:"clear",value:function(){this._q=[]}},{key:"length",value:function(){return this._q.length}},{key:"pause",value:function(){this.paused=!0}},{key:"stop",value:function(){this._q=[],this.running=!1,this.paused=!0}}]),e}(),s=r((function e(t,n,r){return i(this,e),function(){var e=this,n=arguments||[];return new Promise((function(i,o){n.push((function(e,t){!e&&t?o(t):i(e)})),t.apply(r||e,n)}))}}));t.Task=s;var l=a;t.default=l},3087:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceBase=function(e,t){var n,r,o=t.url,a=o.indexOf("://")>-1;if(!e)return;r=(0,i.qs)(e,"head"),(n=(0,i.qs)(r,"base"))||(n=e.createElement("base"),r.insertBefore(n,r.firstChild));!a&&window&&window.location&&(o=window.location.origin+o);n.setAttribute("href",o)},t.replaceCanonical=function(e,t){var n,r,o=t.canonical;if(!e)return;n=(0,i.qs)(e,"head"),(r=(0,i.qs)(n,"link[rel='canonical']"))?r.setAttribute("href",o):((r=e.createElement("link")).setAttribute("rel","canonical"),r.setAttribute("href",o),n.appendChild(r))},t.replaceLinks=function(e,t){var n=e.querySelectorAll("a[href]");if(!n.length)return;for(var o=(0,i.qs)(e.ownerDocument,"base"),a=o?o.getAttribute("href"):void 0,s=function(e){var n=e.getAttribute("href");if(0!==n.indexOf("mailto:"))if(n.indexOf("://")>-1)e.setAttribute("target","_blank");else{var i;try{i=new r.default(n,a)}catch(o){}e.onclick=function(){return i&&i.hash?t(i.Path.path+i.hash):t(i?i.Path.path:n),!1}}}.bind(this),l=0;l<n.length;l++)s(n[l])},t.replaceMeta=function(e,t){var n,r,o=t.idref;if(!e)return;n=(0,i.qs)(e,"head"),(r=(0,i.qs)(n,"link[property='dc.identifier']"))?r.setAttribute("content",o):((r=e.createElement("meta")).setAttribute("name","dc.identifier"),r.setAttribute("content",o),n.appendChild(r))},t.substitute=function(e,t,n){return t.forEach((function(t,i){t&&n[i]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),e=e.replace(new RegExp(t,"g"),n[i]))})),e};var i=n(5261),r=o(n(2019));o(n(8039));function o(e){return e&&e.__esModule?e:{default:e}}},9893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=n(5261),o=(i=n(8039))&&i.__esModule?i:{default:i};var a=function(e,t,n,i){var a,s="undefined"!=typeof window&&window.URL,l=s?"blob":"arraybuffer",u=new r.defer,c=new XMLHttpRequest,h=XMLHttpRequest.prototype;for(a in"overrideMimeType"in h||Object.defineProperty(h,"overrideMimeType",{value:function(){}}),n&&(c.withCredentials=!0),c.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var e=!1;if(""!==this.responseType&&"document"!==this.responseType||(e=this.responseXML),200===this.status||0===this.status||e){var n;if(!this.response&&!e)return u.reject({status:this.status,message:"Empty Response",stack:(new Error).stack}),u.promise;if(403===this.status)return u.reject({status:this.status,response:this.response,message:"Forbidden",stack:(new Error).stack}),u.promise;n=e?this.responseXML:(0,r.isXml)(t)?(0,r.parse)(this.response,"text/xml"):"xhtml"==t?(0,r.parse)(this.response,"application/xhtml+xml"):"html"==t||"htm"==t?(0,r.parse)(this.response,"text/html"):"json"==t?JSON.parse(this.response):"blob"==t?s?this.response:new Blob([this.response]):this.response,u.resolve(n)}else u.reject({status:this.status,message:this.response,stack:(new Error).stack})}},c.onerror=function(e){u.reject(e)},c.open("GET",e,!0),i)c.setRequestHeader(a,i[a]);return"json"==t&&c.setRequestHeader("Accept","application/json"),t||(t=new o.default(e).extension),"blob"==t&&(c.responseType=l),(0,r.isXml)(t)&&c.overrideMimeType("text/xml"),"binary"==t&&(c.responseType="arraybuffer"),c.send(),u.promise};t.default=a},9858:function(e,t){"use strict";function n(){var e=document.createElement("div");e.dir="rtl",e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="0px",e.style.left="0px",e.style.overflow="hidden";var t=document.createElement("div");t.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",t.appendChild(n),t.appendChild(i),e.appendChild(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.createDefiner=n,t.default=function(){var e="reverse",t=n();document.body.appendChild(t),t.scrollLeft>0?e="default":"undefined"!==typeof Element&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(e="negative")):(t.scrollLeft=1,0===t.scrollLeft&&(e="negative"));return document.body.removeChild(t),e}},2019:function(e,t,n){"use strict";var i=n(4575).default,r=n(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(8039)),a=s(n(2650));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){i(this,e);var r=t.indexOf("://")>-1,a=t;if(this.Url=void 0,this.href=t,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&!1!==n&&"string"!==typeof n&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(t,this.base):this.Url=new URL(t),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,a=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(s){this.Url=void 0,this.base&&(a=new o.default(this.base).resolve(a))}this.Path=new o.default(a),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}return r(e,[{key:"path",value:function(){return this.Path}},{key:"resolve",value:function(e){var t;return e.indexOf("://")>-1?e:(t=a.default.resolve(this.directory,e),this.origin+t)}},{key:"relative",value:function(e){return a.default.relative(e,this.directory)}},{key:"toString",value:function(){return this.href}}]),e}();t.default=l},4189:function(e,t,n){"use strict";n.r(t),n.d(t,{Book:function(){return Ht},Contents:function(){return Ze},EpubCFI:function(){return ne},Layout:function(){return Fe},Rendition:function(){return Tt},default:function(){return Yt}});var i={};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(i),n.d(i,{RangeObject:function(){return $},blob2base64:function(){return q},borders:function(){return E},bounds:function(){return _},createBase64Url:function(){return A},createBlob:function(){return L},createBlobUrl:function(){return P},defaults:function(){return y},defer:function(){return V},documentHeight:function(){return d},extend:function(){return b},filterChildren:function(){return G},findChildren:function(){return X},getParentByTagName:function(){return Z},indexOfElementNode:function(){return O},indexOfNode:function(){return T},indexOfSorted:function(){return x},indexOfTextNode:function(){return N},insert:function(){return w},isElement:function(){return p},isFloat:function(){return m},isNumber:function(){return v},isXml:function(){return R},locationOf:function(){return k},nodeBounds:function(){return S},parents:function(){return Y},parse:function(){return j},prefixed:function(){return g},qs:function(){return D},qsa:function(){return M},qsp:function(){return B},querySelectorByType:function(){return H},requestAnimationFrame:function(){return c},revokeBlobUrl:function(){return I},sprint:function(){return F},treeWalker:function(){return U},type:function(){return z},uuid:function(){return f},walk:function(){return W},windowBounds:function(){return C}});var s=n(4),l=n.n(s),u=n(7542),c="undefined"!=typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),h="undefined"!=typeof URL?URL:"undefined"!=typeof window?window.URL||window.webkitURL||window.mozURL:void 0;function f(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}))}function d(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function p(e){return!(!e||1!=e.nodeType)}function v(e){return!isNaN(parseFloat(e))&&isFinite(e)}function m(e){var t=parseFloat(e);return!1!==v(e)&&("string"===typeof e&&e.indexOf(".")>-1||Math.floor(t)!==t)}function g(e){var t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],n=e.toLowerCase(),i=["Webkit","webkit","Moz","O","ms"].length;if("undefined"===typeof document||"undefined"!=typeof document.body.style[n])return e;for(var r=0;r<i;r++)if("undefined"!=typeof document.body.style[t[r]+n])return t[r]+n;return e}function y(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e}function b(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){t&&Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))})),e}function w(e,t,n){var i=k(e,t,n);return t.splice(i,0,e),i}function k(e,t,n,i,r){var o,a=i||0,s=r||t.length,l=parseInt(a+(s-a)/2);return n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-a<=0?l:(o=n(t[l],e),s-a===1?o>=0?l:l+1:0===o?l:-1===o?k(e,t,n,l,s):k(e,t,n,a,l))}function x(e,t,n,i,r){var o,a=i||0,s=r||t.length,l=parseInt(a+(s-a)/2);return n||(n=function(e,t){return e>t?1:e<t?-1:e==t?0:void 0}),s-a<=0?-1:(o=n(t[l],e),s-a===1?0===o?l:-1:0===o?l:-1===o?x(e,t,n,l,s):x(e,t,n,a,l))}function _(e){var t=window.getComputedStyle(e),n=0,i=0;return["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),{height:i,width:n}}function E(e){var t=window.getComputedStyle(e),n=0,i=0;return["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"].forEach((function(e){n+=parseFloat(t[e])||0})),["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"].forEach((function(e){i+=parseFloat(t[e])||0})),{height:i,width:n}}function S(e){var t,n=e.ownerDocument;if(e.nodeType==Node.TEXT_NODE){var i=n.createRange();i.selectNodeContents(e),t=i.getBoundingClientRect()}else t=e.getBoundingClientRect();return t}function C(){var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function T(e,t){for(var n,i=e.parentNode.childNodes,r=-1,o=0;o<i.length&&((n=i[o]).nodeType===t&&r++,n!=e);o++);return r}function N(e){return T(e,3)}function O(e){return T(e,1)}function R(e){return["xml","opf","ncx"].indexOf(e)>-1}function L(e,t){return new Blob([e],{type:t})}function P(e,t){var n=L(e,t);return h.createObjectURL(n)}function I(e){return h.revokeObjectURL(e)}function A(e,t){if("string"===typeof e)return"data:"+t+";base64,"+btoa(e)}function z(e){return Object.prototype.toString.call(e).slice(8,-1)}function j(e,t,n){var i;return i="undefined"===typeof DOMParser||n?u.DOMParser:DOMParser,65279===e.charCodeAt(0)&&(e=e.slice(1)),(new i).parseFromString(e,t)}function D(e,t){var n;if(!e)throw new Error("No Element Provided");return"undefined"!=typeof e.querySelector?e.querySelector(t):(n=e.getElementsByTagName(t)).length?n[0]:void 0}function M(e,t){return"undefined"!=typeof e.querySelector?e.querySelectorAll(t):e.getElementsByTagName(t)}function B(e,t,n){var i,r;if("undefined"!=typeof e.querySelector){for(var o in t+="[",n)t+=o+"~='"+n[o]+"'";return t+="]",e.querySelector(t)}if(i=e.getElementsByTagName(t),r=Array.prototype.slice.call(i,0).filter((function(e){for(var t in n)if(e.getAttribute(t)===n[t])return!0;return!1})),r)return r[0]}function F(e,t){"undefined"!==typeof(e.ownerDocument||e).createTreeWalker?U(e,t,NodeFilter.SHOW_TEXT):W(e,(function(e){e&&3===e.nodeType&&t(e)}))}function U(e,t,n){for(var i,r=document.createTreeWalker(e,n,null,!1);i=r.nextNode();)t(i)}function W(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(W(e,t))return!0;e=e.nextSibling}while(e)}function q(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onloadend=function(){t(i.result)}}))}function V(){var e=this;this.resolve=null,this.reject=null,this.id=f(),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),Object.freeze(this)}function H(e,t,n){var i;if("undefined"!=typeof e.querySelector&&(i=e.querySelector("".concat(t,'[*|type="').concat(n,'"]'))),i&&0!==i.length)return i;i=M(e,t);for(var r=0;r<i.length;r++)if(i[r].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||i[r].getAttribute("epub:type")===n)return i[r]}function X(e){for(var t=[],n=e.childNodes,i=0;i<n.length;i++){var r=n[i];1===r.nodeType&&t.push(r)}return t}function Y(e){for(var t=[e];e;e=e.parentNode)t.unshift(e);return t}function G(e,t,n){for(var i=[],r=e.childNodes,o=0;o<r.length;o++){var a=r[o];if(1===a.nodeType&&a.nodeName.toLowerCase()===t){if(n)return a;i.push(a)}}if(!n)return i}function Z(e,t){var n;if(null!==e&&""!==t)for(n=e.parentNode;1===n.nodeType;){if(n.tagName.toLowerCase()===t)return n;n=n.parentNode}}var $=function(){function e(){r(this,e),this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}return a(e,[{key:"setStart",value:function(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}},{key:"setEnd",value:function(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}},{key:"collapse",value:function(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}},{key:"selectNode",value:function(e){var t=e.parentNode,n=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,n),this.setEnd(t,n+1)}},{key:"selectNodeContents",value:function(e){e.childNodes[e.childNodes-1];var t=3===e.nodeType?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}},{key:"_commonAncestorContainer",value:function(e,t){var n=Y(e||this.startContainer),i=Y(t||this.endContainer);if(n[0]==i[0])for(var r=0;r<n.length;r++)if(n[r]!=i[r])return n[r-1]}},{key:"_checkCollapsed",value:function(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}},{key:"toString",value:function(){}}]),e}(),K=n(2650),Q=n.n(K),J=function(){function e(t){var n;r(this,e),t.indexOf("://")>-1&&(t=new URL(t).pathname),n=this.parse(t),this.path=t,this.isDirectory(t)?this.directory=t:this.directory=n.dir+"/",this.filename=n.base,this.extension=n.ext.slice(1)}return a(e,[{key:"parse",value:function(e){return Q().parse(e)}},{key:"isAbsolute",value:function(e){return Q().isAbsolute(e||this.path)}},{key:"isDirectory",value:function(e){return"/"===e.charAt(e.length-1)}},{key:"resolve",value:function(e){return Q().resolve(this.directory,e)}},{key:"relative",value:function(e){return e&&e.indexOf("://")>-1?e:Q().relative(this.directory,e)}},{key:"splitPath",value:function(e){return this.splitPathRe.exec(e).slice(1)}},{key:"toString",value:function(){return this.path}}]),e}(),ee=function(){function e(t,n){r(this,e);var i=t.indexOf("://")>-1,o=t;if(this.Url=void 0,this.href=t,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!i&&!1!==n&&"string"!==typeof n&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(t,this.base):this.Url=new URL(t),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,o=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch(a){this.Url=void 0,this.base&&(o=new J(this.base).resolve(o))}this.Path=new J(o),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}return a(e,[{key:"path",value:function(){return this.Path}},{key:"resolve",value:function(e){var t;return e.indexOf("://")>-1?e:(t=Q().resolve(this.directory,e),this.origin+t)}},{key:"relative",value:function(e){return Q().relative(e,this.directory)}},{key:"toString",value:function(){return this.href}}]),e}(),te=function(){function e(t,n,i){var o;if(r(this,e),this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof e))return new e(t,n,i);if("string"===typeof n?this.base=this.parseComponent(n):"object"===typeof n&&n.steps&&(this.base=n),"string"===(o=this.checkType(t)))return this.str=t,b(this,this.parse(t));if("range"===o)return b(this,this.fromRange(t,this.base,i));if("node"===o)return b(this,this.fromNode(t,this.base,i));if("EpubCFI"===o&&t.path)return t;if(t)throw new TypeError("not a valid argument for EpubCFI");return this}return a(e,[{key:"checkType",value:function(t){return this.isCfiString(t)?"string":!t||"object"!==typeof t||"Range"!==z(t)&&"undefined"==typeof t.startContainer?t&&"object"===typeof t&&"undefined"!=typeof t.nodeType?"node":!!(t&&"object"===typeof t&&t instanceof e)&&"EpubCFI":"range"}},{key:"parse",value:function(e){var t,n,i,r={spinePos:-1,range:!1,base:{},path:{},start:null,end:null};return"string"!==typeof e?{spinePos:-1}:(0===e.indexOf("epubcfi(")&&")"===e[e.length-1]&&(e=e.slice(8,e.length-1)),(t=this.getChapterComponent(e))?(r.base=this.parseComponent(t),n=this.getPathComponent(e),r.path=this.parseComponent(n),(i=this.getRange(e))&&(r.range=!0,r.start=this.parseComponent(i[0]),r.end=this.parseComponent(i[1])),r.spinePos=r.base.steps[1].index,r):{spinePos:-1})}},{key:"parseComponent",value:function(e){var t,n={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),r=i[0].split("/");return i.length>1&&(t=i[1],n.terminal=this.parseTerminal(t)),""===r[0]&&r.shift(),n.steps=r.map(function(e){return this.parseStep(e)}.bind(this)),n}},{key:"parseStep",value:function(e){var t,n,i,r,o;if((r=e.match(/\[(.*)\]/))&&r[1]&&(o=r[1]),n=parseInt(e),!isNaN(n))return n%2===0?(t="element",i=n/2-1):(t="text",i=(n-1)/2),{type:t,index:i,id:o||null}}},{key:"parseTerminal",value:function(e){var t,n,i=e.match(/\[(.*)\]/);return i&&i[1]?(t=parseInt(e.split("[")[0]),n=i[1]):t=parseInt(e),v(t)||(t=null),{offset:t,assertion:n}}},{key:"getChapterComponent",value:function(e){return e.split("!")[0]}},{key:"getPathComponent",value:function(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}},{key:"getRange",value:function(e){var t=e.split(",");return 3===t.length&&[t[1],t[2]]}},{key:"getCharecterOffsetComponent",value:function(e){return e.split(":")[1]||""}},{key:"joinSteps",value:function(e){return e?e.map((function(e){var t="";return"element"===e.type&&(t+=2*(e.index+1)),"text"===e.type&&(t+=1+2*e.index),e.id&&(t+="["+e.id+"]"),t})).join("/"):""}},{key:"segmentString",value:function(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&null!=e.terminal.offset&&(t+=":"+e.terminal.offset),e.terminal&&null!=e.terminal.assertion&&(t+="["+e.terminal.assertion+"]"),t}},{key:"toString",value:function(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")"}},{key:"compare",value:function(t,n){var i,r,o,a;if("string"===typeof t&&(t=new e(t)),"string"===typeof n&&(n=new e(n)),t.spinePos>n.spinePos)return 1;if(t.spinePos<n.spinePos)return-1;t.range?(i=t.path.steps.concat(t.start.steps),o=t.start.terminal):(i=t.path.steps,o=t.path.terminal),n.range?(r=n.path.steps.concat(n.start.steps),a=n.start.terminal):(r=n.path.steps,a=n.path.terminal);for(var s=0;s<i.length;s++){if(!i[s])return-1;if(!r[s])return 1;if(i[s].index>r[s].index)return 1;if(i[s].index<r[s].index)return-1}return i.length<r.length?-1:o.offset>a.offset?1:o.offset<a.offset?-1:0}},{key:"step",value:function(e){var t=3===e.nodeType?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}},{key:"filteredStep",value:function(e,t){var n,i=this.filter(e,t);if(i)return n=3===i.nodeType?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}},{key:"pathTo",value:function(e,t,n){for(var i,r={steps:[],terminal:{offset:null,assertion:null}},o=e;o&&o.parentNode&&9!=o.parentNode.nodeType;)(i=n?this.filteredStep(o,n):this.step(o))&&r.steps.unshift(i),o=o.parentNode;return null!=t&&t>=0&&(r.terminal.offset=t,"text"!=r.steps[r.steps.length-1].type&&r.steps.push({type:"text",index:0})),r}},{key:"equalStep",value:function(e,t){return!(!e||!t)&&(e.index===t.index&&e.id===t.id&&e.type===t.type)}},{key:"fromRange",value:function(e,t,n){var i={range:!1,base:{},path:{},start:null,end:null},r=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,l=!1;if(n&&(l=null!=r.ownerDocument.querySelector("."+n)),"string"===typeof t?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):"object"===typeof t&&(i.base=t),e.collapsed)l&&(a=this.patchOffset(r,a,n)),i.path=this.pathTo(r,a,n);else{i.range=!0,l&&(a=this.patchOffset(r,a,n)),i.start=this.pathTo(r,a,n),l&&(s=this.patchOffset(o,s,n)),i.end=this.pathTo(o,s,n),i.path={steps:[],terminal:null};var u,c=i.start.steps.length;for(u=0;u<c&&this.equalStep(i.start.steps[u],i.end.steps[u]);u++)u===c-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[u]),i.range=!1):i.path.steps.push(i.start.steps[u]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}},{key:"fromNode",value:function(e,t,n){var i={range:!1,base:{},path:{},start:null,end:null};return"string"===typeof t?(i.base=this.parseComponent(t),i.spinePos=i.base.steps[1].index):"object"===typeof t&&(i.base=t),i.path=this.pathTo(e,null,n),i}},{key:"filter",value:function(e,t){var n,i,r,o,a,s=!1;return 3===e.nodeType?(s=!0,r=e.parentNode,n=e.parentNode.classList.contains(t)):(s=!1,n=e.classList.contains(t)),n&&s?(o=r.previousSibling,a=r.nextSibling,o&&3===o.nodeType?i=o:a&&3===a.nodeType&&(i=a),i||e):!(n&&!s)&&e}},{key:"patchOffset",value:function(e,t,n){if(3!=e.nodeType)throw new Error("Anchor must be a text node");var i=e,r=t;for(e.parentNode.classList.contains(n)&&(i=e.parentNode);i.previousSibling;){if(1===i.previousSibling.nodeType){if(!i.previousSibling.classList.contains(n))break;r+=i.previousSibling.textContent.length}else r+=i.previousSibling.textContent.length;i=i.previousSibling}return r}},{key:"normalizedMap",value:function(e,t,n){var i,r,o,a={},s=-1,l=e.length;for(i=0;i<l;i++)1===(r=e[i].nodeType)&&e[i].classList.contains(n)&&(r=3),i>0&&3===r&&3===o?a[i]=s:t===r&&(s+=1,a[i]=s),o=r;return a}},{key:"position",value:function(e){var t,n;return 1===e.nodeType?((t=e.parentNode.children)||(t=X(e.parentNode)),n=Array.prototype.indexOf.call(t,e)):n=(t=this.textNodes(e.parentNode)).indexOf(e),n}},{key:"filteredPosition",value:function(e,t){var n,i;return 1===e.nodeType?(n=e.parentNode.children,i=this.normalizedMap(n,1,t)):(n=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(n=(e=e.parentNode).parentNode.childNodes),i=this.normalizedMap(n,3,t)),i[Array.prototype.indexOf.call(n,e)]}},{key:"stepsToXpath",value:function(e){var t=[".","*"];return e.forEach((function(e){var n=e.index+1;e.id?t.push("*[position()="+n+" and @id='"+e.id+"']"):"text"===e.type?t.push("text()["+n+"]"):t.push("*["+n+"]")})),t.join("/")}},{key:"stepsToQuerySelector",value:function(e){var t=["html"];return e.forEach((function(e){var n=e.index+1;e.id?t.push("#"+e.id):"text"===e.type||t.push("*:nth-child("+n+")")})),t.join(">")}},{key:"textNodes",value:function(e,t){return Array.prototype.slice.call(e.childNodes).filter((function(e){return 3===e.nodeType||!(!t||!e.classList.contains(t))}))}},{key:"walkToNode",value:function(e,t,n){var i,r,o=t||document,a=o.documentElement,s=e.length;for(r=0;r<s&&("element"===(i=e[r]).type?a=i.id?o.getElementById(i.id):(a.children||X(a))[i.index]:"text"===i.type&&(a=this.textNodes(a,n)[i.index]),a);r++);return a}},{key:"findNode",value:function(e,t,n){var i,r,o=t||document;return n||"undefined"==typeof o.evaluate?i=n?this.walkToNode(e,o,n):this.walkToNode(e,o):(r=this.stepsToXpath(e),i=o.evaluate(r,o,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),i}},{key:"fixMiss",value:function(e,t,n,i){var r,o,a=this.findNode(e.slice(0,-1),n,i),s=a.childNodes,l=this.normalizedMap(s,3,i),u=e[e.length-1].index;for(var c in l){if(!l.hasOwnProperty(c))return;if(l[c]===u){if(!(t>(o=(r=s[c]).textContent.length))){a=1===r.nodeType?r.childNodes[0]:r;break}t-=o}}return{container:a,offset:t}}},{key:"toRange",value:function(e,t){var n,i,r,o,a,s,l,u,c=e||document,h=this,f=!!t&&null!=c.querySelector("."+t);if(n="undefined"!==typeof c.createRange?c.createRange():new $,h.range?(i=h.start,s=h.path.steps.concat(i.steps),o=this.findNode(s,c,f?t:null),r=h.end,l=h.path.steps.concat(r.steps),a=this.findNode(l,c,f?t:null)):(i=h.path,s=h.path.steps,o=this.findNode(h.path.steps,c,f?t:null)),!o)return console.log("No startContainer found for",this.toString()),null;try{null!=i.terminal.offset?n.setStart(o,i.terminal.offset):n.setStart(o,0)}catch(d){u=this.fixMiss(s,i.terminal.offset,c,f?t:null),n.setStart(u.container,u.offset)}if(a)try{null!=r.terminal.offset?n.setEnd(a,r.terminal.offset):n.setEnd(a,0)}catch(d){u=this.fixMiss(l,h.end.terminal.offset,c,f?t:null),n.setEnd(u.container,u.offset)}return n}},{key:"isCfiString",value:function(e){return"string"===typeof e&&0===e.indexOf("epubcfi(")&&")"===e[e.length-1]}},{key:"generateChapterComponent",value:function(e,t,n){var i="/"+2*(e+1)+"/";return i+=2*(parseInt(t)+1),n&&(i+="["+n+"]"),i}},{key:"collapse",value:function(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}]),e}(),ne=te,ie=function(){function e(t){r(this,e),this.context=t||this,this.hooks=[]}return a(e,[{key:"register",value:function(){for(var e=0;e<arguments.length;++e)if("function"===typeof arguments[e])this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}},{key:"deregister",value:function(e){for(var t=0;t<this.hooks.length;t++)if(this.hooks[t]===e){this.hooks.splice(t,1);break}}},{key:"trigger",value:function(){var e=arguments,t=this.context,n=[];return this.hooks.forEach((function(i){try{var r=i.apply(t,e)}catch(o){console.log(o)}r&&"function"===typeof r.then&&n.push(r)})),Promise.all(n)}},{key:"list",value:function(){return this.hooks}},{key:"clear",value:function(){return this.hooks=[]}}]),e}(),re=ie;function oe(e,t){var n,i,r=t.url,o=r.indexOf("://")>-1;e&&(i=D(e,"head"),(n=D(i,"base"))||(n=e.createElement("base"),i.insertBefore(n,i.firstChild)),!o&&window&&window.location&&(r=window.location.origin+r),n.setAttribute("href",r))}function ae(e,t){var n,i,r=t.canonical;e&&(n=D(e,"head"),(i=D(n,"link[rel='canonical']"))?i.setAttribute("href",r):((i=e.createElement("link")).setAttribute("rel","canonical"),i.setAttribute("href",r),n.appendChild(i)))}function se(e,t){var n,i,r=t.idref;e&&(n=D(e,"head"),(i=D(n,"link[property='dc.identifier']"))?i.setAttribute("content",r):((i=e.createElement("meta")).setAttribute("name","dc.identifier"),i.setAttribute("content",r),n.appendChild(i)))}function le(e,t,n){return t.forEach((function(t,i){t&&n[i]&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),e=e.replace(new RegExp(t,"g"),n[i]))})),e}var ue=function(e,t,n,i){var r,o="undefined"!=typeof window&&window.URL,a=o?"blob":"arraybuffer",s=new V,l=new XMLHttpRequest,u=XMLHttpRequest.prototype;for(r in"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),n&&(l.withCredentials=!0),l.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var e=!1;if(""!==this.responseType&&"document"!==this.responseType||(e=this.responseXML),200===this.status||0===this.status||e){var n;if(!this.response&&!e)return s.reject({status:this.status,message:"Empty Response",stack:(new Error).stack}),s.promise;if(403===this.status)return s.reject({status:this.status,response:this.response,message:"Forbidden",stack:(new Error).stack}),s.promise;n=e?this.responseXML:R(t)?j(this.response,"text/xml"):"xhtml"==t?j(this.response,"application/xhtml+xml"):"html"==t||"htm"==t?j(this.response,"text/html"):"json"==t?JSON.parse(this.response):"blob"==t?o?this.response:new Blob([this.response]):this.response,s.resolve(n)}else s.reject({status:this.status,message:this.response,stack:(new Error).stack})}},l.onerror=function(e){s.reject(e)},l.open("GET",e,!0),i)l.setRequestHeader(r,i[r]);return"json"==t&&l.setRequestHeader("Accept","application/json"),t||(t=new J(e).extension),"blob"==t&&(l.responseType=a),R(t)&&l.overrideMimeType("text/xml"),"binary"==t&&(l.responseType="arraybuffer"),l.send(),s.promise},ce=function(){function e(t,n){r(this,e),this.idref=t.idref,this.linear="yes"===t.linear,this.properties=t.properties,this.index=t.index,this.href=t.href,this.url=t.url,this.canonical=t.canonical,this.next=t.next,this.prev=t.prev,this.cfiBase=t.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new re(this),this.hooks.content=new re(this)),this.document=void 0,this.contents=void 0,this.output=void 0}return a(e,[{key:"load",value:function(e){var t=e||this.request||ue,n=new V,i=n.promise;return this.contents?n.resolve(this.contents):t(this.url).then(function(e){return this.document=e,this.contents=e.documentElement,this.hooks.content.trigger(this.document,this)}.bind(this)).then(function(){n.resolve(this.contents)}.bind(this)).catch((function(e){n.reject(e)})),i}},{key:"base",value:function(){return oe(this.document,this)}},{key:"render",value:function(e){var t=new V,n=t.promise;return this.output,this.load(e).then(function(e){var t=("undefined"!==typeof navigator&&navigator.userAgent||"").indexOf("Trident")>=0,n=new("undefined"===typeof XMLSerializer||t?u.DOMParser:XMLSerializer);return this.output=n.serializeToString(e),this.output}.bind(this)).then(function(){return this.hooks.serialize.trigger(this.output,this)}.bind(this)).then(function(){t.resolve(this.output)}.bind(this)).catch((function(e){t.reject(e)})),n}},{key:"find",value:function(e){var t=this,n=[],i=e.toLowerCase(),r=function(e){for(var r,o,a,s=e.textContent.toLowerCase(),l=t.document.createRange(),u=-1;-1!=o;)-1!=(o=s.indexOf(i,u+1))&&((l=t.document.createRange()).setStart(e,o),l.setEnd(e,o+i.length),r=t.cfiFromRange(l),a=e.textContent.length<150?e.textContent:"..."+(a=e.textContent.substring(o-75,o+75))+"...",n.push({cfi:r,excerpt:a})),u=o};return F(t.document,(function(e){r(e)})),n}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("undefined"==typeof document.createTreeWalker)return this.find(e);for(var n,i=[],r=150,o=this,a=e.toLowerCase(),s=function(e){var t=e.reduce((function(e,t){return e+t.textContent}),"").toLowerCase().indexOf(a);if(-1!=t){var n=t+a.length,s=0,l=0;if(t<e[0].length){for(var u;s<e.length-1&&!(n<=(l+=e[s].length));)s+=1;var c=e[0],h=e[s],f=o.document.createRange();f.setStart(c,t);var d=e.slice(0,s).reduce((function(e,t){return e+t.textContent.length}),0);f.setEnd(h,d>n?n:n-d),u=o.cfiFromRange(f);var p=e.slice(0,s+1).reduce((function(e,t){return e+t.textContent}),"");p.length>r&&(p="..."+(p=p.substring(t-r/2,t+r/2))+"..."),i.push({cfi:u,excerpt:p})}}},l=document.createTreeWalker(o.document,NodeFilter.SHOW_TEXT,null,!1),u=[];n=l.nextNode();)u.push(n),u.length==t&&(s(u.slice(0,t)),u=u.slice(1,t));return u.length>0&&s(u),i}},{key:"reconcileLayoutSettings",value:function(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach((function(e){var n,i,r=e.replace("rendition:",""),o=r.indexOf("-");-1!=o&&(n=r.slice(0,o),i=r.slice(o+1),t[n]=i)})),t}},{key:"cfiFromRange",value:function(e){return new ne(e,this.cfiBase).toString()}},{key:"cfiFromElement",value:function(e){return new ne(e,this.cfiBase).toString()}},{key:"unload",value:function(){this.document=void 0,this.contents=void 0,this.output=void 0}},{key:"destroy",value:function(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}]),e}(),he=ce,fe=function(){function e(){r(this,e),this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new re,this.hooks.content=new re,this.hooks.content.register(oe),this.hooks.content.register(ae),this.hooks.content.register(se),this.epubcfi=new ne,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}return a(e,[{key:"unpack",value:function(e,t,n){var i=this;this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((function(e,r){var o,a=i.manifest[e.idref];e.index=r,e.cfiBase=i.epubcfi.generateChapterComponent(i.spineNodeIndex,e.index,e.id),e.href&&(e.url=t(e.href,!0),e.canonical=n(e.href)),a&&(e.href=a.href,e.url=t(e.href,!0),e.canonical=n(e.href),a.properties.length&&e.properties.push.apply(e.properties,a.properties)),"yes"===e.linear?(e.prev=function(){for(var t=e.index;t>0;){var n=this.get(t-1);if(n&&n.linear)return n;t-=1}}.bind(i),e.next=function(){for(var t=e.index;t<this.spineItems.length-1;){var n=this.get(t+1);if(n&&n.linear)return n;t+=1}}.bind(i)):(e.prev=function(){},e.next=function(){}),o=new he(e,i.hooks),i.append(o)})),this.loaded=!0}},{key:"get",value:function(e){var t=0;if("undefined"===typeof e)for(;t<this.spineItems.length;){var n=this.spineItems[t];if(n&&n.linear)break;t+=1}else if(this.epubcfi.isCfiString(e)){t=new ne(e).spinePos}else"number"===typeof e||!1===isNaN(e)?t=e:"string"===typeof e&&0===e.indexOf("#")?t=this.spineById[e.substring(1)]:"string"===typeof e&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}},{key:"append",value:function(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}},{key:"prepend",value:function(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach((function(e,t){e.index=t})),0}},{key:"remove",value:function(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}},{key:"each",value:function(){return this.spineItems.forEach.apply(this.spineItems,arguments)}},{key:"first",value:function(){var e=0;do{var t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}},{key:"last",value:function(){var e=this.spineItems.length-1;do{var t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}},{key:"destroy",value:function(){this.each((function(e){return e.destroy()})),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}]),e}(),de=fe,pe=function(){function e(t){r(this,e),this._q=[],this.context=t,this.tick=c,this.running=!1,this.paused=!1}return a(e,[{key:"enqueue",value:function(){var e,t,n=[].shift.call(arguments),i=arguments;if(!n)throw new Error("No Task Provided");return t="function"===typeof n?{task:n,args:i,deferred:e=new V,promise:e.promise}:{promise:n},this._q.push(t),0!=this.paused||this.running||this.run(),t.promise}},{key:"dequeue",value:function(){var e,t,n;return!this._q.length||this.paused?((e=new V).deferred.resolve(),e.promise):(t=(e=this._q.shift()).task)?(n=t.apply(this.context,e.args))&&"function"===typeof n.then?n.then(function(){e.deferred.resolve.apply(this.context,arguments)}.bind(this),function(){e.deferred.reject.apply(this.context,arguments)}.bind(this)):(e.deferred.resolve.apply(this.context,n),e.promise):e.promise?e.promise:void 0}},{key:"dump",value:function(){for(;this._q.length;)this.dequeue()}},{key:"run",value:function(){var e=this;return this.running||(this.running=!0,this.defered=new V),this.tick.call(window,(function(){e._q.length?e.dequeue().then(function(){this.run()}.bind(e)):(e.defered.resolve(),e.running=void 0)})),1==this.paused&&(this.paused=!1),this.defered.promise}},{key:"flush",value:function(){return this.running?this.running:this._q.length?(this.running=this.dequeue().then(function(){return this.running=void 0,this.flush()}.bind(this)),this.running):void 0}},{key:"clear",value:function(){this._q=[]}},{key:"length",value:function(){return this._q.length}},{key:"pause",value:function(){this.paused=!0}},{key:"stop",value:function(){this._q=[],this.running=!1,this.paused=!0}}]),e}(),ve=pe,me="0.3",ge=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],ye={OPEN_FAILED:"openFailed"},be={EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},we={CHANGED:"changed"},ke={RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},xe={AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},_e={STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},Ee={UPDATED:"updated"},Se={ATTACH:"attach",DETACH:"detach"},Ce=function(){function e(t,n,i){r(this,e),this.spine=t,this.request=n,this.pause=i||100,this.q=new ve(this),this.epubcfi=new ne,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}return a(e,[{key:"generate",value:function(e){return e&&(this.break=e),this.q.pause(),this.spine.each(function(e){e.linear&&this.q.enqueue(this.process.bind(this),e)}.bind(this)),this.q.run().then(function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}.bind(this))}},{key:"createRange",value:function(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}},{key:"process",value:function(e){return e.load(this.request).then(function(t){var n=new V,i=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout((function(){return n.resolve(i)}),this.pause),n.promise}.bind(this))}},{key:"parse",value:function(e,t,n){var i,r,o=[],a=D(e.ownerDocument,"body"),s=0,l=n||this.break;if(F(a,function(e){var n,a=e.length,u=0;if(0===e.textContent.trim().length)return!1;for(0==s&&((i=this.createRange()).startContainer=e,i.startOffset=0),(n=l-s)>a&&(s+=a,u=a);u<a;)if(n=l-s,0===s&&(u+=1,(i=this.createRange()).startContainer=e,i.startOffset=u),u+n>=a)s+=a-u,u=a;else{u+=n,i.endContainer=e,i.endOffset=u;var c=new ne(i,t).toString();o.push(c),s=0}r=e}.bind(this)),i&&i.startContainer&&r){i.endContainer=r,i.endOffset=r.length;var u=new ne(i,t).toString();o.push(u),s=0}return o}},{key:"generateFromWords",value:function(e,t,n){var i=e?new ne(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each(function(e){e.linear&&(i?e.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),e,t,i,n):this.q.enqueue(this.processWords.bind(this),e,t,i,n))}.bind(this)),this.q.run().then(function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}.bind(this))}},{key:"processWords",value:function(e,t,n,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then(function(r){var o=new V,a=this.parseWords(r,e,t,n),s=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(a.length>=i?a.slice(0,s):a),e.unload(),this.processingTimeout=setTimeout((function(){return o.resolve(a)}),this.pause),o.promise}.bind(this))}},{key:"countWords",value:function(e){return(e=(e=(e=e.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n")).split(" ").length}},{key:"parseWords",value:function(e,t,n,i){var r,o=t.cfiBase,a=[],s=D(e.ownerDocument,"body"),l=n,u=!i||i.spinePos!==t.index;i&&t.index===i.spinePos&&(r=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));return F(s,function(e){if(!u){if(e!==r)return!1;u=!0}if(e.textContent.length<10&&0===e.textContent.trim().length)return!1;var t,n=this.countWords(e.textContent),i=0;if(0===n)return!1;for((t=l-this._wordCounter)>n&&(this._wordCounter+=n,i=n);i<n;)if(i+(t=l-this._wordCounter)>=n)this._wordCounter+=n-i,i=n;else{i+=t;var s=new ne(e,o);a.push({cfi:s.toString(),wordCount:this._wordCounter}),this._wordCounter=0}e}.bind(this)),a}},{key:"locationFromCfi",value:function(e){var t;return ne.prototype.isCfiString(e)&&(e=new ne(e)),0===this._locations.length?-1:(t=k(e,this._locations,this.epubcfi.compare))>this.total?this.total:t}},{key:"percentageFromCfi",value:function(e){if(0===this._locations.length)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}},{key:"percentageFromLocation",value:function(e){return e&&this.total?e/this.total:0}},{key:"cfiFromLocation",value:function(e){var t=-1;return"number"!=typeof e&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}},{key:"cfiFromPercentage",value:function(e){var t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){var n=new ne(this._locations[this.total]);return n.collapse(),n.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}},{key:"load",value:function(e){return this._locations="string"===typeof e?JSON.parse(e):e,this.total=this._locations.length-1,this._locations}},{key:"save",value:function(){return JSON.stringify(this._locations)}},{key:"getCurrent",value:function(){return this._current}},{key:"setCurrent",value:function(e){var t;if("string"==typeof e)this._currentCfi=e;else{if("number"!=typeof e)return;this._current=e}0!==this._locations.length&&("string"==typeof e?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(we.CHANGED,{percentage:this.percentageFromLocation(t)}))}},{key:"currentLocation",get:function(){return this._current},set:function(e){this.setCurrent(e)}},{key:"length",value:function(){return this._locations.length}},{key:"destroy",value:function(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}]),e}();l()(Ce.prototype);var Te=Ce,Ne=function(){function e(t){r(this,e),this.packagePath="",this.directory="",this.encoding="",t&&this.parse(t)}return a(e,[{key:"parse",value:function(e){var t;if(!e)throw new Error("Container File Not Found");if(!(t=D(e,"rootfile")))throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Q().dirname(this.packagePath),this.encoding=e.xmlEncoding}},{key:"destroy",value:function(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}]),e}(),Oe=function(){function e(t){r(this,e),this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},t&&this.parse(t)}return a(e,[{key:"parse",value:function(e){var t,n,i;if(!e)throw new Error("Package File Not Found");if(!(t=D(e,"metadata")))throw new Error("No Metadata Found");if(!(n=D(e,"manifest")))throw new Error("No Manifest Found");if(!(i=D(e,"spine")))throw new Error("No Spine Found");return this.manifest=this.parseManifest(n),this.navPath=this.findNavPath(n),this.ncxPath=this.findNcxPath(n,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=O(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}},{key:"parseMetadata",value:function(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}},{key:"parseManifest",value:function(e){var t={},n=M(e,"item");return Array.prototype.slice.call(n).forEach((function(e){var n=e.getAttribute("id"),i=e.getAttribute("href")||"",r=e.getAttribute("media-type")||"",o=e.getAttribute("media-overlay")||"",a=e.getAttribute("properties")||"";t[n]={href:i,type:r,overlay:o,properties:a.length?a.split(" "):[]}})),t}},{key:"parseSpine",value:function(e,t){var n=[],i=M(e,"itemref");return Array.prototype.slice.call(i).forEach((function(e,t){var i=e.getAttribute("idref"),r=e.getAttribute("properties")||"",o=r.length?r.split(" "):[],a={id:e.getAttribute("id"),idref:i,linear:e.getAttribute("linear")||"yes",properties:o,index:t};n.push(a)})),n}},{key:"findUniqueIdentifier",value:function(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var n=e.getElementById(t);return n&&"identifier"===n.localName&&"http://purl.org/dc/elements/1.1/"===n.namespaceURI&&n.childNodes.length>0?n.childNodes[0].nodeValue.trim():""}},{key:"findNavPath",value:function(e){var t=B(e,"item",{properties:"nav"});return!!t&&t.getAttribute("href")}},{key:"findNcxPath",value:function(e,t){var n,i=B(e,"item",{"media-type":"application/x-dtbncx+xml"});return i||(n=t.getAttribute("toc"))&&(i=e.querySelector("#".concat(n))),!!i&&i.getAttribute("href")}},{key:"findCoverPath",value:function(e){D(e,"package").getAttribute("version");var t=B(e,"item",{properties:"cover-image"});if(t)return t.getAttribute("href");var n=B(e,"meta",{name:"cover"});if(n){var i=n.getAttribute("content"),r=e.getElementById(i);return r?r.getAttribute("href"):""}return!1}},{key:"getElementText",value:function(e,t){var n,i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t);return i&&0!==i.length&&(n=i[0]).childNodes.length?n.childNodes[0].nodeValue:""}},{key:"getPropertyText",value:function(e,t){var n=B(e,"meta",{property:t});return n&&n.childNodes.length?n.childNodes[0].nodeValue:""}},{key:"load",value:function(e){var t=this;this.metadata=e.metadata;var n=e.readingOrder||e.spine;return this.spine=n.map((function(e,t){return e.index=t,e.linear=e.linear||"yes",e})),e.resources.forEach((function(e,n){t.manifest[n]=e,e.rel&&"cover"===e.rel[0]&&(t.coverPath=e.href)})),this.spineNodeIndex=0,this.toc=e.toc.map((function(e,t){return e.label=e.title,e})),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}},{key:"destroy",value:function(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}]),e}(),Re=Oe,Le=function(){function e(t){r(this,e),this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,t&&this.parse(t)}return a(e,[{key:"parse",value:function(e){var t,n,i=e.nodeType;i&&(t=D(e,"html"),n=D(e,"ncx")),i?t?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}},{key:"unpack",value:function(e){for(var t,n=0;n<e.length;n++)(t=e[n]).href&&(this.tocByHref[t.href]=n),t.id&&(this.tocById[t.id]=n),this.length++,t.subitems.length&&this.unpack(t.subitems)}},{key:"get",value:function(e){var t;return e?(0===e.indexOf("#")?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}},{key:"getByIndex",value:function(e,t,n){if(0!==n.length){var i=n[t];if(!i||e!==i.id&&e!==i.href){for(var r,o=0;o<n.length&&!(r=this.getByIndex(e,t,n[o].subitems));++o);return r}return i}}},{key:"landmark",value:function(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}},{key:"parseNav",value:function(e){var t=H(e,"nav","toc"),n=[];if(!t)return n;var i=G(t,"ol",!0);return i?n=this.parseNavList(i):n}},{key:"parseNavList",value:function(e,t){var n=[];if(!e)return n;if(!e.children)return n;for(var i=0;i<e.children.length;i++){var r=this.navItem(e.children[i],t);r&&n.push(r)}return n}},{key:"navItem",value:function(e,t){var n=e.getAttribute("id")||void 0,i=G(e,"a",!0)||G(e,"span",!0);if(i){var r=i.getAttribute("href")||"";n||(n=r);var o=i.textContent||"",a=[],s=G(e,"ol",!0);return s&&(a=this.parseNavList(s,n)),{id:n,href:r,label:o,subitems:a,parent:t}}}},{key:"parseLandmarks",value:function(e){var t,n,i=H(e,"nav","landmarks"),r=i?M(i,"li"):[],o=r.length,a=[];if(!r||0===o)return a;for(t=0;t<o;++t)(n=this.landmarkItem(r[t]))&&(a.push(n),this.landmarksByType[n.type]=t);return a}},{key:"landmarkItem",value:function(e){var t=G(e,"a",!0);if(t){var n=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0;return{href:t.getAttribute("href")||"",label:t.textContent||"",type:n}}}},{key:"parseNcx",value:function(e){var t,n,i=M(e,"navPoint"),r=i.length,o={},a=[];if(!i||0===r)return a;for(t=0;t<r;++t)o[(n=this.ncxItem(i[t])).id]=n,n.parent?o[n.parent].subitems.push(n):a.push(n);return a}},{key:"ncxItem",value:function(e){var t,n=e.getAttribute("id")||!1,i=D(e,"content").getAttribute("src"),r=D(e,"navLabel"),o=r.textContent?r.textContent:"",a=e.parentNode;return!a||"navPoint"!==a.nodeName&&"navPoint"!==a.nodeName.split(":").slice(-1)[0]||(t=a.getAttribute("id")),{id:n,href:i,label:o,subitems:[],parent:t}}},{key:"load",value:function(e){var t=this;return e.map((function(e){return e.label=e.title,e.subitems=e.children?t.load(e.children):[],e}))}},{key:"forEach",value:function(e){return this.toc.forEach(e)}}]),e}(),Pe=Le,Ie={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},Ae=function(){var e,t,n,i,r={};for(e in Ie)if(Ie.hasOwnProperty(e))for(t in Ie[e])if(Ie[e].hasOwnProperty(t))if("string"==typeof(n=Ie[e][t]))r[n]=e+"/"+t;else for(i=0;i<n.length;i++)r[n[i]]=e+"/"+t;return r}();var ze={lookup:function(e){return e&&Ae[e.split(".").pop().toLowerCase()]||"text/plain"}},je=function(){function e(t,n){r(this,e),this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(t)}return a(e,[{key:"process",value:function(e){this.manifest=e,this.resources=Object.keys(e).map((function(t){return e[t]})),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}},{key:"split",value:function(){this.html=this.resources.filter((function(e){if("application/xhtml+xml"===e.type||"text/html"===e.type)return!0})),this.assets=this.resources.filter((function(e){if("application/xhtml+xml"!==e.type&&"text/html"!==e.type)return!0})),this.css=this.resources.filter((function(e){if("text/css"===e.type)return!0}))}},{key:"splitUrls",value:function(){this.urls=this.assets.map(function(e){return e.href}.bind(this)),this.cssUrls=this.css.map((function(e){return e.href}))}},{key:"createUrl",value:function(e){var t=new ee(e),n=ze.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:"base64"===this.settings.replacements}):"base64"===this.settings.replacements?this.settings.request(e,"blob").then((function(e){return q(e)})).then((function(e){return A(e,n)})):this.settings.request(e,"blob").then((function(e){return P(e,n)}))}},{key:"replacements",value:function(){var e=this;if("none"===this.settings.replacements)return new Promise(function(e){e(this.urls)}.bind(this));var t=this.urls.map((function(t){var n=e.settings.resolver(t);return e.createUrl(n).catch((function(e){return console.error(e),null}))}));return Promise.all(t).then((function(t){return e.replacementUrls=t.filter((function(e){return"string"===typeof e})),t}))}},{key:"replaceCss",value:function(e,t){var n=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach(function(i){var r=this.createCssFile(i,e,t).then(function(e){var t=this.urls.indexOf(i);t>-1&&(this.replacementUrls[t]=e)}.bind(this));n.push(r)}.bind(this)),Promise.all(n)}},{key:"createCssFile",value:function(e){var t=this;if(Q().isAbsolute(e))return new Promise((function(e){e()}));var n,i=this.settings.resolver(e);n=this.settings.archive?this.settings.archive.getText(i):this.settings.request(i,"text");var r=this.urls.map((function(e){var n=t.settings.resolver(e);return new J(i).relative(n)}));return n?n.then((function(e){return e=le(e,r,t.replacementUrls),"base64"===t.settings.replacements?A(e,"text/css"):P(e,"text/css")}),(function(e){return new Promise((function(e){e()}))})):new Promise((function(e){e()}))}},{key:"relativeTo",value:function(e,t){return t=t||this.settings.resolver,this.urls.map(function(n){var i=t(n);return new J(e).relative(i)}.bind(this))}},{key:"get",value:function(e){var t=this.urls.indexOf(e);if(-1!==t)return this.replacementUrls.length?new Promise(function(e,n){e(this.replacementUrls[t])}.bind(this)):this.createUrl(e)}},{key:"substitute",value:function(e,t){return le(e,t?this.relativeTo(t):this.urls,this.replacementUrls)}},{key:"destroy",value:function(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}]),e}(),De=je,Me=function(){function e(t){r(this,e),this.pages=[],this.locations=[],this.epubcfi=new ne,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,t&&(this.pageList=this.parse(t)),this.pageList&&this.pageList.length&&this.process(this.pageList)}return a(e,[{key:"parse",value:function(e){var t=D(e,"html"),n=D(e,"ncx");return t?this.parseNav(e):n?this.parseNcx(e):void 0}},{key:"parseNav",value:function(e){var t,n,i=H(e,"nav","page-list"),r=i?M(i,"li"):[],o=r.length,a=[];if(!r||0===o)return a;for(t=0;t<o;++t)n=this.item(r[t]),a.push(n);return a}},{key:"parseNcx",value:function(e){var t,n,i,r,o=[],a=0;if(!(n=D(e,"pageList")))return o;if(r=(i=M(n,"pageTarget")).length,!i||0===i.length)return o;for(a=0;a<r;++a)t=this.ncxItem(i[a]),o.push(t);return o}},{key:"ncxItem",value:function(e){var t=D(e,"navLabel"),n=D(t,"text").textContent;return{href:D(e,"content").getAttribute("src"),page:parseInt(n,10)}}},{key:"item",value:function(e){var t,n,i=D(e,"a"),r=i.getAttribute("href")||"",o=i.textContent||"",a=parseInt(o);return-1!=r.indexOf("epubcfi")?(n=(t=r.split("#"))[0],{cfi:t.length>1&&t[1],href:r,packageUrl:n,page:a}):{href:r,page:a}}},{key:"process",value:function(e){e.forEach((function(e){this.pages.push(e.page),e.cfi&&this.locations.push(e.cfi)}),this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}},{key:"pageFromCfi",value:function(e){var t=-1;if(0===this.locations.length)return-1;var n=x(e,this.locations,this.epubcfi.compare);return-1!=n?t=this.pages[n]:void 0!==(t=(n=k(e,this.locations,this.epubcfi.compare))-1>=0?this.pages[n-1]:this.pages[0])||(t=-1),t}},{key:"cfiFromPage",value:function(e){var t=-1;"number"!=typeof e&&(e=parseInt(e));var n=this.pages.indexOf(e);return-1!=n&&(t=this.locations[n]),t}},{key:"pageFromPercentage",value:function(e){return Math.round(this.totalPages*e)}},{key:"percentageFromPage",value:function(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(1e3*t)/1e3}},{key:"percentageFromCfi",value:function(e){var t=this.pageFromCfi(e);return this.percentageFromPage(t)}},{key:"destroy",value:function(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}]),e}(),Be=function(){function e(t){r(this,e),this.settings=t,this.name=t.layout||"reflowable",this._spread="none"!==t.spread,this._minSpreadWidth=t.minSpreadWidth||800,this._evenSpreads=t.evenSpreads||!1,"scrolled"===t.flow||"scrolled-continuous"===t.flow||"scrolled-doc"===t.flow?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}return a(e,[{key:"flow",value:function(e){return"undefined"!=typeof e&&(this._flow="scrolled"===e||"scrolled-continuous"===e||"scrolled-doc"===e?"scrolled":"paginated",this.update({flow:this._flow})),this._flow}},{key:"spread",value:function(e,t){return e&&(this._spread="none"!==e,this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}},{key:"calculate",value:function(e,t,n){var i,r,o,a,s=1,l=n||0,u=e,c=t,h=Math.floor(u/12);s=this._spread&&u>=this._minSpreadWidth?2:1,"reflowable"!==this.name||"paginated"!==this._flow||n>=0||(l=h%2===0?h:h-1),"pre-paginated"===this.name&&(l=0),s>1?o=(i=u/s-l)+l:(i=u,o=u),"pre-paginated"===this.name&&s>1&&(u=i),r=i*s+l,a=u,this.width=u,this.height=c,this.spreadWidth=r,this.pageWidth=o,this.delta=a,this.columnWidth=i,this.gap=l,this.divisor=s,this.update({width:u,height:c,spreadWidth:r,pageWidth:o,delta:a,columnWidth:i,gap:l,divisor:s})}},{key:"format",value:function(e,t,n){return"pre-paginated"===this.name?e.fit(this.columnWidth,this.height,t):"paginated"===this._flow?e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):n&&"horizontal"===n?e.size(null,this.height):e.size(this.width,null)}},{key:"count",value:function(e,t){var n,i;return"pre-paginated"===this.name?(n=1,i=1):"paginated"===this._flow?(t=t||this.delta,i=(n=Math.ceil(e/t))*this.divisor):(t=t||this.height,i=n=Math.ceil(e/t)),{spreads:n,pages:i}}},{key:"update",value:function(e){var t=this;if(Object.keys(e).forEach((function(n){t.props[n]===e[n]&&delete e[n]})),Object.keys(e).length>0){var n=b(this.props,e);this.emit(Ee.UPDATED,n,e)}}}]),e}();l()(Be.prototype);var Fe=Be,Ue=function(){function e(t){r(this,e),this.rendition=t,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}return a(e,[{key:"register",value:function(){if(0!==arguments.length)return 1===arguments.length&&"object"===typeof arguments[0]?this.registerThemes(arguments[0]):1===arguments.length&&"string"===typeof arguments[0]?this.default(arguments[0]):2===arguments.length&&"string"===typeof arguments[1]?this.registerUrl(arguments[0],arguments[1]):2===arguments.length&&"object"===typeof arguments[1]?this.registerRules(arguments[0],arguments[1]):void 0}},{key:"default",value:function(e){if(e)return"string"===typeof e?this.registerUrl("default",e):"object"===typeof e?this.registerRules("default",e):void 0}},{key:"registerThemes",value:function(e){for(var t in e)e.hasOwnProperty(t)&&("string"===typeof e[t]?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}},{key:"registerCss",value:function(e,t){this._themes[e]={serialized:t},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"registerUrl",value:function(e,t){var n=new ee(t);this._themes[e]={url:n.toString()},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"registerRules",value:function(e,t){this._themes[e]={rules:t},(this._injected[e]||"default"==e)&&this.update(e)}},{key:"select",value:function(e){var t=this._current;this._current=e,this.update(e),this.rendition.getContents().forEach((function(n){n.removeClass(t),n.addClass(e)}))}},{key:"update",value:function(e){var t=this;this.rendition.getContents().forEach((function(n){t.add(e,n)}))}},{key:"inject",value:function(e){var t,n=[],i=this._themes;for(var r in i)!i.hasOwnProperty(r)||r!==this._current&&"default"!==r||(((t=i[r]).rules&&Object.keys(t.rules).length>0||t.url&&-1===n.indexOf(t.url))&&this.add(r,e),this._injected.push(r));"default"!=this._current&&e.addClass(this._current)}},{key:"add",value:function(e,t){var n=this._themes[e];n&&t&&(n.url?t.addStylesheet(n.url):n.serialized?(t.addStylesheetCss(n.serialized,e),n.injected=!0):n.rules&&(t.addStylesheetRules(n.rules,e),n.injected=!0))}},{key:"override",value:function(e,t,n){var i=this,r=this.rendition.getContents();this._overrides[e]={value:t,priority:!0===n},r.forEach((function(t){t.css(e,i._overrides[e].value,i._overrides[e].priority)}))}},{key:"removeOverride",value:function(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach((function(t){t.css(e)}))}},{key:"overrides",value:function(e){var t=this._overrides;for(var n in t)t.hasOwnProperty(n)&&e.css(n,t[n].value,t[n].priority)}},{key:"fontSize",value:function(e){this.override("font-size",e)}},{key:"font",value:function(e){this.override("font-family",e,!0)}},{key:"destroy",value:function(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}]),e}(),We=Ue,qe=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e),this.layout=t,this.horizontal="horizontal"===i,this.direction=n||"ltr",this._dev=o}return a(e,[{key:"section",value:function(e){var t=this.findRanges(e);return this.rangeListToCfiList(e.section.cfiBase,t)}},{key:"page",value:function(e,t,n,i){var r,o=!(!e||!e.document)&&e.document.body;if(o){if(r=this.rangePairToCfiPair(t,{start:this.findStart(o,n,i),end:this.findEnd(o,n,i)}),!0===this._dev){var a=e.document,s=new ne(r.start).toRange(a),l=new ne(r.end).toRange(a),u=a.defaultView.getSelection(),c=a.createRange();u.removeAllRanges(),c.setStart(s.startContainer,s.startOffset),c.setEnd(l.endContainer,l.endOffset),u.addRange(c)}return r}}},{key:"walk",value:function(e,t){if(!e||e.nodeType!==Node.TEXT_NODE){var n=function(e){return e.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},i=n;i.acceptNode=n;for(var r,o,a=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1);(r=a.nextNode())&&!(o=t(r)););return o}}},{key:"findRanges",value:function(e){for(var t,n,i=[],r=e.contents.scrollWidth(),o=Math.ceil(r/this.layout.spreadWidth)*this.layout.divisor,a=this.layout.columnWidth,s=this.layout.gap,l=0;l<o.pages;l++)t=(a+s)*l,n=a*(l+1)+s*l,i.push({start:this.findStart(e.document.body,t,n),end:this.findEnd(e.document.body,t,n)});return i}},{key:"findStart",value:function(e,t,n){for(var i,r,o=this,a=[e],s=e;a.length;)if(i=a.shift(),r=this.walk(i,(function(e){var i,r,l,u,c;if(c=S(e),o.horizontal&&"ltr"===o.direction){if(i=o.horizontal?c.left:c.top,r=o.horizontal?c.right:c.bottom,i>=t&&i<=n)return e;if(r>t)return e;s=e,a.push(e)}else if(o.horizontal&&"rtl"===o.direction){if(i=c.left,(r=c.right)<=n&&r>=t)return e;if(i<n)return e;s=e,a.push(e)}else{if(l=c.top,u=c.bottom,l>=t&&l<=n)return e;if(u>t)return e;s=e,a.push(e)}})))return this.findTextStartRange(r,t,n);return this.findTextStartRange(s,t,n)}},{key:"findEnd",value:function(e,t,n){for(var i,r,o=this,a=[e],s=e;a.length;)if(i=a.shift(),r=this.walk(i,(function(e){var i,r,l,u,c;if(c=S(e),o.horizontal&&"ltr"===o.direction){if(i=Math.round(c.left),r=Math.round(c.right),i>n&&s)return s;if(r>n)return e;s=e,a.push(e)}else if(o.horizontal&&"rtl"===o.direction){if(i=Math.round(o.horizontal?c.left:c.top),(r=Math.round(o.horizontal?c.right:c.bottom))<t&&s)return s;if(i<t)return e;s=e,a.push(e)}else{if(l=Math.round(c.top),u=Math.round(c.bottom),l>n&&s)return s;if(u>n)return e;s=e,a.push(e)}})))return this.findTextEndRange(r,t,n);return this.findTextEndRange(s,t,n)}},{key:"findTextStartRange",value:function(e,t,n){for(var i,r,o=this.splitTextNodeIntoRanges(e),a=0;a<o.length;a++)if(r=(i=o[a]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(r.left>=t)return i}else if(this.horizontal&&"rtl"===this.direction){if(r.right<=n)return i}else if(r.top>=t)return i;return o[0]}},{key:"findTextEndRange",value:function(e,t,n){for(var i,r,o,a,s,l,u,c=this.splitTextNodeIntoRanges(e),h=0;h<c.length;h++){if(o=(r=c[h]).getBoundingClientRect(),this.horizontal&&"ltr"===this.direction){if(a=o.left,s=o.right,a>n&&i)return i;if(s>n)return r}else if(this.horizontal&&"rtl"===this.direction){if(a=o.left,(s=o.right)<t&&i)return i;if(a<t)return r}else{if(l=o.top,u=o.bottom,l>n&&i)return i;if(u>n)return r}i=r}return c[c.length-1]}},{key:"splitTextNodeIntoRanges",value:function(e,t){var n,i=[],r=(e.textContent||"").trim(),o=e.ownerDocument,a=t||" ",s=r.indexOf(a);if(-1===s||e.nodeType!=Node.TEXT_NODE)return(n=o.createRange()).selectNodeContents(e),[n];for((n=o.createRange()).setStart(e,0),n.setEnd(e,s),i.push(n),n=!1;-1!=s;)(s=r.indexOf(a,s+1))>0&&(n&&(n.setEnd(e,s),i.push(n)),(n=o.createRange()).setStart(e,s+1));return n&&(n.setEnd(e,r.length),i.push(n)),i}},{key:"rangePairToCfiPair",value:function(e,t){var n=t.start,i=t.end;return n.collapse(!0),i.collapse(!1),{start:new ne(n,e).toString(),end:new ne(i,e).toString()}}},{key:"rangeListToCfiList",value:function(e,t){for(var n,i=[],r=0;r<t.length;r++)n=this.rangePairToCfiPair(e,t[r]),i.push(n);return i}},{key:"axis",value:function(e){return e&&(this.horizontal="horizontal"===e),this.horizontal}}]),e}(),Ve=qe,He="undefined"!==typeof navigator,Xe=He&&/Chrome/.test(navigator.userAgent),Ye=He&&!Xe&&/AppleWebKit/.test(navigator.userAgent),Ge=function(){function e(t,n,i,o){r(this,e),this.epubcfi=new ne,this.document=t,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=o||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",me),this.called=0,this.active=!0,this.listeners()}return a(e,[{key:"width",value:function(e){var t=this.content;return e&&v(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}},{key:"height",value:function(e){var t=this.content;return e&&v(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}},{key:"contentWidth",value:function(e){var t=this.content||this.document.body;return e&&v(e)&&(e+="px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}},{key:"contentHeight",value:function(e){var t=this.content||this.document.body;return e&&v(e)&&(e+="px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}},{key:"textWidth",value:function(){var e,t=this.document.createRange(),n=this.content||this.document.body,i=E(n);return t.selectNodeContents(n),e=t.getBoundingClientRect().width,i&&i.width&&(e+=i.width),Math.round(e)}},{key:"textHeight",value:function(){var e,t=this.document.createRange(),n=this.content||this.document.body;return t.selectNodeContents(n),e=t.getBoundingClientRect().bottom,Math.round(e)}},{key:"scrollWidth",value:function(){return this.documentElement.scrollWidth}},{key:"scrollHeight",value:function(){return this.documentElement.scrollHeight}},{key:"overflow",value:function(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}},{key:"overflowX",value:function(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}},{key:"overflowY",value:function(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}},{key:"css",value:function(e,t,n){var i=this.content||this.document.body;return t?i.style.setProperty(e,t,n?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}},{key:"viewport",value:function(e){var t,n=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},r=[];if(n&&n.hasAttribute("content")){var o=n.getAttribute("content"),a=o.match(/width\s*=\s*([^,]*)/),s=o.match(/height\s*=\s*([^,]*)/),l=o.match(/initial-scale\s*=\s*([^,]*)/),u=o.match(/minimum-scale\s*=\s*([^,]*)/),c=o.match(/maximum-scale\s*=\s*([^,]*)/),h=o.match(/user-scalable\s*=\s*([^,]*)/);a&&a.length&&"undefined"!==typeof a[1]&&(i.width=a[1]),s&&s.length&&"undefined"!==typeof s[1]&&(i.height=s[1]),l&&l.length&&"undefined"!==typeof l[1]&&(i.scale=l[1]),u&&u.length&&"undefined"!==typeof u[1]&&(i.minimum=u[1]),c&&c.length&&"undefined"!==typeof c[1]&&(i.maximum=c[1]),h&&h.length&&"undefined"!==typeof h[1]&&(i.scalable=h[1])}return t=y(e||{},i),e&&(t.width&&r.push("width="+t.width),t.height&&r.push("height="+t.height),t.scale&&r.push("initial-scale="+t.scale),"no"===t.scalable?(r.push("minimum-scale="+t.scale),r.push("maximum-scale="+t.scale),r.push("user-scalable="+t.scalable)):(t.scalable&&r.push("user-scalable="+t.scalable),t.minimum&&r.push("minimum-scale="+t.minimum),t.maximum&&r.push("minimum-scale="+t.maximum)),n||((n=this.document.createElement("meta")).setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",r.join(", ")),this.window.scrollTo(0,0)),t}},{key:"expand",value:function(){this.emit(be.EXPAND)}},{key:"listeners",value:function(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),"undefined"===typeof ResizeObserver?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}},{key:"removeListeners",value:function(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}},{key:"resizeCheck",value:function(){var e=this.textWidth(),t=this.textHeight();e==this._size.width&&t==this._size.height||(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(be.RESIZE,this._size))}},{key:"resizeListeners",value:function(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}},{key:"visibilityListeners",value:function(){var e=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&!1===e.active?(e.active=!0,e.resizeListeners()):(e.active=!1,clearTimeout(e.expanding))}))}},{key:"transitionListeners",value:function(){var e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}},{key:"mediaQueryListeners",value:function(){for(var e=this.document.styleSheets,t=function(e){e.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}.bind(this),n=0;n<e.length;n+=1){var i;try{i=e[n].cssRules}catch(o){return}if(!i)return;for(var r=0;r<i.length;r+=1){if(i[r].media)this.window.matchMedia(i[r].media.mediaText).addListener(t)}}}},{key:"resizeObservers",value:function(){var e=this;this.observer=new ResizeObserver((function(t){requestAnimationFrame(e.resizeCheck.bind(e))})),this.observer.observe(this.document.documentElement)}},{key:"mutationObservers",value:function(){var e=this;this.observer=new MutationObserver((function(t){e.resizeCheck()}));this.observer.observe(this.document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},{key:"imageLoadListeners",value:function(){for(var e,t=this.document.querySelectorAll("img"),n=0;n<t.length;n++)"undefined"!==typeof(e=t[n]).naturalWidth&&0===e.naturalWidth&&(e.onload=this.expand.bind(this))}},{key:"fontLoadListeners",value:function(){this.document&&this.document.fonts&&this.document.fonts.ready.then(function(){this.resizeCheck()}.bind(this))}},{key:"root",value:function(){return this.document?this.document.documentElement:null}},{key:"locationOf",value:function(e,t){var n,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){var r=new ne(e).toRange(this.document,t);if(r){try{if(!r.endContainer||r.startContainer==r.endContainer&&r.startOffset==r.endOffset){var o=r.startContainer.textContent.indexOf(" ",r.startOffset);-1==o&&(o=r.startContainer.textContent.length),r.setEnd(r.startContainer,o)}}catch(h){console.error("setting end offset to start container length failed",h)}if(r.startContainer.nodeType===Node.ELEMENT_NODE)n=r.startContainer.getBoundingClientRect(),i.left=n.left,i.top=n.top;else if(Ye){var a=r.startContainer,s=new Range;try{1===a.nodeType?n=a.getBoundingClientRect():r.startOffset+2<a.length?(s.setStart(a,r.startOffset),s.setEnd(a,r.startOffset+2),n=s.getBoundingClientRect()):r.startOffset-2>0?(s.setStart(a,r.startOffset-2),s.setEnd(a,r.startOffset),n=s.getBoundingClientRect()):n=a.parentNode.getBoundingClientRect()}catch(h){console.error(h,h.stack)}}else n=r.getBoundingClientRect()}}else if("string"===typeof e&&e.indexOf("#")>-1){var l=e.substring(e.indexOf("#")+1),u=this.document.getElementById(l);if(u)if(Ye){var c=new Range;c.selectNode(u),n=c.getBoundingClientRect()}else n=u.getBoundingClientRect()}return n&&(i.left=n.left,i.top=n.top),i}},{key:"addStylesheet",value:function(e){return new Promise(function(t,n){var i,r=!1;this.document?(i=this.document.querySelector("link[href='"+e+"']"))?t(!0):((i=this.document.createElement("link")).type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((function(){t(!0)}),1))},this.document.head.appendChild(i)):t(!1)}.bind(this))}},{key:"_getStylesheetNode",value:function(e){var t;return e="epubjs-inserted-css-"+(e||""),!!this.document&&((t=this.document.getElementById(e))||((t=this.document.createElement("style")).id=e,this.document.head.appendChild(t)),t)}},{key:"addStylesheetCss",value:function(e,t){return!(!this.document||!e)&&(this._getStylesheetNode(t).innerHTML=e,!0)}},{key:"addStylesheetRules",value:function(e,t){var n;if(this.document&&e&&0!==e.length)if(n=this._getStylesheetNode(t).sheet,"[object Array]"===Object.prototype.toString.call(e))for(var i=0,r=e.length;i<r;i++){var o=1,a=e[i],s=e[i][0],l="";"[object Array]"===Object.prototype.toString.call(a[1][0])&&(a=a[1],o=0);for(var u=a.length;o<u;o++){var c=a[o];l+=c[0]+":"+c[1]+(c[2]?" !important":"")+";\n"}n.insertRule(s+"{"+l+"}",n.cssRules.length)}else Object.keys(e).forEach((function(t){var i=e[t];if(Array.isArray(i))i.forEach((function(e){var i=Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t])})).join(";");n.insertRule("".concat(t,"{").concat(i,"}"),n.cssRules.length)}));else{var r=Object.keys(i).map((function(e){return"".concat(e,":").concat(i[e])})).join(";");n.insertRule("".concat(t,"{").concat(r,"}"),n.cssRules.length)}}))}},{key:"addScript",value:function(e){return new Promise(function(t,n){var i,r=!1;this.document?((i=this.document.createElement("script")).type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,setTimeout((function(){t(!0)}),1))},this.document.head.appendChild(i)):t(!1)}.bind(this))}},{key:"addClass",value:function(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.add(e)}},{key:"removeClass",value:function(e){var t;this.document&&(t=this.content||this.document.body)&&t.classList.remove(e)}},{key:"addEventListeners",value:function(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),ge.forEach((function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})}),this))}},{key:"removeEventListeners",value:function(){this.document&&(ge.forEach((function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})}),this),this._triggerEvent=void 0)}},{key:"triggerEvent",value:function(e){this.emit(e.type,e)}},{key:"addSelectionListeners",value:function(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}},{key:"removeSelectionListeners",value:function(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}},{key:"onSelectionChange",value:function(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){var e=this.window.getSelection();this.triggerSelectedEvent(e)}.bind(this),250)}},{key:"triggerSelectedEvent",value:function(e){var t,n;e&&e.rangeCount>0&&((t=e.getRangeAt(0)).collapsed||(n=new ne(t,this.cfiBase).toString(),this.emit(be.SELECTED,n),this.emit(be.SELECTED_RANGE,t)))}},{key:"range",value:function(e,t){return new ne(e).toRange(this.document,t)}},{key:"cfiFromRange",value:function(e,t){return new ne(e,this.cfiBase,t).toString()}},{key:"cfiFromNode",value:function(e,t){return new ne(e,this.cfiBase,t).toString()}},{key:"map",value:function(e){var t=new Ve(e);return t.section()}},{key:"size",value:function(e,t){var n={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),n.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),n.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(n)}},{key:"columns",value:function(e,t,n,i,r){var o=g("column-axis"),a=g("column-gap"),s=g("column-width"),l=g("column-fill"),u=0===this.writingMode().indexOf("vertical")?"vertical":"horizontal";this.layoutStyle("paginated"),"rtl"===r&&"horizontal"===u&&this.direction(r),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),"vertical"===u?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(a,i+"px"),this.css(s,n+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}},{key:"scaler",value:function(e,t,n){var i="scale("+e+")",r="";this.css("transform-origin","top left"),(t>=0||n>=0)&&(r=" translate("+(t||0)+"px, "+(n||0)+"px )"),this.css("transform",i+r)}},{key:"fit",value:function(e,t,n){var i=this.viewport(),r=parseInt(i.width),o=parseInt(i.height),a=e/r,s=t/o,l=a<s?a:s;if(this.layoutStyle("paginated"),this.width(r),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",r*l+"px "+o*l+"px"),this.css("background-color","transparent"),n&&n.properties.includes("page-spread-left")){var u=e-r*l;this.css("margin-left",u+"px")}}},{key:"direction",value:function(e){this.documentElement&&(this.documentElement.style.direction=e)}},{key:"mapPage",value:function(e,t,n,i,r){return new Ve(t,r).page(this,e,n,i)}},{key:"linksHandler",value:function(){var e=this;!function(e,t){var n=e.querySelectorAll("a[href]");if(n.length)for(var i=D(e.ownerDocument,"base"),r=i?i.getAttribute("href"):void 0,o=function(e){var n=e.getAttribute("href");if(0!==n.indexOf("mailto:"))if(n.indexOf("://")>-1)e.setAttribute("target","_blank");else{var i;try{i=new ee(n,r)}catch(o){}e.onclick=function(){return i&&i.hash?t(i.Path.path+i.hash):t(i?i.Path.path:n),!1}}}.bind(this),a=0;a<n.length;a++)o(n[a])}(this.content,(function(t){e.emit(be.LINK_CLICKED,t)}))}},{key:"writingMode",value:function(e){var t=g("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}},{key:"layoutStyle",value:function(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}},{key:"epubReadingSystem",value:function(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(e){switch(e){case"dom-manipulation":case"layout-changes":case"touch-events":case"mouse-events":case"keyboard-events":return!0;default:return!1}}},navigator.epubReadingSystem}},{key:"destroy",value:function(){this.removeListeners()}}],[{key:"listenedEvents",get:function(){return ge}}]),e}();l()(Ge.prototype);var Ze=Ge,$e=function(){function e(t){r(this,e),this.rendition=t,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}return a(e,[{key:"add",value:function(e,t,n,i,r,o){var a=encodeURI(t+e),s=new ne(t).spinePos,l=new Ke({type:e,cfiRange:t,data:n,sectionIndex:s,cb:i,className:r,styles:o});return this._annotations[a]=l,s in this._annotationsBySectionIndex?this._annotationsBySectionIndex[s].push(a):this._annotationsBySectionIndex[s]=[a],this.rendition.views().forEach((function(e){l.sectionIndex===e.index&&l.attach(e)})),l}},{key:"remove",value:function(e,t){var n=this,i=encodeURI(e+t);if(i in this._annotations){var r=this._annotations[i];if(t&&r.type!==t)return;this.rendition.views().forEach((function(e){n._removeFromAnnotationBySectionIndex(r.sectionIndex,i),r.sectionIndex===e.index&&r.detach(e)})),delete this._annotations[i]}}},{key:"_removeFromAnnotationBySectionIndex",value:function(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter((function(e){return e!==t}))}},{key:"_annotationsAt",value:function(e){return this._annotationsBySectionIndex[e]}},{key:"highlight",value:function(e,t,n,i,r){return this.add("highlight",e,t,n,i,r)}},{key:"underline",value:function(e,t,n,i,r){return this.add("underline",e,t,n,i,r)}},{key:"mark",value:function(e,t,n){return this.add("mark",e,t,n)}},{key:"each",value:function(){return this._annotations.forEach.apply(this._annotations,arguments)}},{key:"inject",value:function(e){var t=this,n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach((function(n){t._annotations[n].attach(e)}))}},{key:"clear",value:function(e){var t=this,n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach((function(n){t._annotations[n].detach(e)}))}},{key:"show",value:function(){}},{key:"hide",value:function(){}}]),e}(),Ke=function(){function e(t){var n=t.type,i=t.cfiRange,o=t.data,a=t.sectionIndex,s=t.cb,l=t.className,u=t.styles;r(this,e),this.type=n,this.cfiRange=i,this.data=o,this.sectionIndex=a,this.mark=void 0,this.cb=s,this.className=l,this.styles=u}return a(e,[{key:"update",value:function(e){this.data=e}},{key:"attach",value:function(e){var t,n=this.cfiRange,i=this.data,r=this.type,o=(this.mark,this.cb),a=this.className,s=this.styles;return"highlight"===r?t=e.highlight(n,i,o,a,s):"underline"===r?t=e.underline(n,i,o,a,s):"mark"===r&&(t=e.mark(n,i,o)),this.mark=t,this.emit(Se.ATTACH,t),t}},{key:"detach",value:function(e){var t,n=this.cfiRange,i=this.type;return e&&("highlight"===i?t=e.unhighlight(n):"underline"===i?t=e.ununderline(n):"mark"===i&&(t=e.unmark(n))),this.mark=void 0,this.emit(Se.DETACH,t),t}},{key:"text",value:function(){}}]),e}();l()(Ke.prototype);var Qe=$e,Je=n(9849),et=function(){function e(t,n){r(this,e),this.settings=b({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+f(),this.section=t,this.index=t.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new ne,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}return a(e,[{key:"container",value:function(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",t.style.flex=e&&"horizontal"==e?"none":"initial",t}},{key:"create",value:function(){return this.iframe||(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=_(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write")),this.iframe}},{key:"render",value:function(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then(function(e){return this.load(e)}.bind(this)).then(function(){var e,t=this,n=this.contents.writingMode();return e="scrolled"===this.settings.flow?0===n.indexOf("vertical")?"horizontal":"vertical":0===n.indexOf("vertical")?"vertical":"horizontal",0===n.indexOf("vertical")&&"paginated"===this.settings.flow&&(this.layout.delta=this.layout.height),this.setAxis(e),this.emit(xe.AXIS,e),this.setWritingMode(n),this.emit(xe.WRITING_MODE,n),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((function(e,n){t.expand(),t.settings.forceRight&&(t.element.style.marginLeft=t.width()+"px"),e()}))}.bind(this),function(e){return this.emit(xe.LOAD_ERROR,e),new Promise((function(t,n){n(e)}))}.bind(this)).then(function(){this.emit(xe.RENDERED,this.section)}.bind(this))}},{key:"reset",value:function(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}},{key:"size",value:function(e,t){var n=e||this.settings.width,i=t||this.settings.height;"pre-paginated"===this.layout.name?this.lock("both",n,i):"horizontal"===this.settings.axis?this.lock("height",n,i):this.lock("width",n,i),this.settings.width=n,this.settings.height=i}},{key:"lock",value:function(e,t,n){var i,r=E(this.element);i=this.iframe?E(this.iframe):{width:0,height:0},"width"==e&&v(t)&&(this.lockedWidth=t-r.width-i.width),"height"==e&&v(n)&&(this.lockedHeight=n-r.height-i.height),"both"===e&&v(t)&&v(n)&&(this.lockedWidth=t-r.width-i.width,this.lockedHeight=n-r.height-i.height),this.displayed&&this.iframe&&this.expand()}},{key:"expand",value:function(e){var t,n=this.lockedWidth,i=this.lockedHeight;this.iframe&&!this._expanding&&(this._expanding=!0,"pre-paginated"===this.layout.name?(n=this.layout.columnWidth,i=this.layout.height):"horizontal"===this.settings.axis?((n=this.contents.textWidth())%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(t=n/this.layout.pageWidth,this.layout.divisor>1&&"reflowable"===this.layout.name&&t%2>0&&(n+=this.layout.pageWidth))):"vertical"===this.settings.axis&&(i=this.contents.textHeight(),"paginated"===this.settings.flow&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||i!=this._height)&&this.reframe(n,i),this._expanding=!1)}},{key:"reframe",value:function(e,t){var n,i=this;v(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),v(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t),n={width:e,height:t,widthDelta:this.prevBounds?e-this.prevBounds.width:e,heightDelta:this.prevBounds?t-this.prevBounds.height:t},this.pane&&this.pane.render(),requestAnimationFrame((function(){var e;for(var t in i.marks)i.marks.hasOwnProperty(t)&&(e=i.marks[t],i.placeMark(e.element,e.range))})),this.onResize(this,n),this.emit(xe.RESIZED,n),this.prevBounds=n,this.elementBounds=_(this.element)}},{key:"load",value:function(e){var t=new V,n=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),n;if(this.iframe.onload=function(e){this.onLoad(e,t)}.bind(this),"blobUrl"===this.settings.method)this.blobUrl=P(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if("srcdoc"===this.settings.method)this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),n;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction((function(){i.iframe.contentDocument.write(e)}))}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return n}},{key:"onLoad",value:function(e,t){var n=this;this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Ze(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):((i=this.document.createElement("link")).setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(be.EXPAND,(function(){n.displayed&&n.iframe&&(n.expand(),n.contents&&n.layout.format(n.contents))})),this.contents.on(be.RESIZE,(function(e){n.displayed&&n.iframe&&(n.expand(),n.contents&&n.layout.format(n.contents))})),t.resolve(this.contents)}},{key:"setLayout",value:function(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}},{key:"setAxis",value:function(e){this.settings.axis=e,this.element.style.flex="horizontal"==e?"none":"initial",this.size()}},{key:"setWritingMode",value:function(e){this.writingMode=e}},{key:"addListeners",value:function(){}},{key:"removeListeners",value:function(e){}},{key:"display",value:function(e){var t=new V;return this.displayed?t.resolve(this):this.render(e).then(function(){this.emit(xe.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}.bind(this),(function(e){t.reject(e,this)})),t.promise}},{key:"show",value:function(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(xe.SHOWN,this)}},{key:"hide",value:function(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(xe.HIDDEN,this)}},{key:"offset",value:function(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}},{key:"width",value:function(){return this._width}},{key:"height",value:function(){return this._height}},{key:"position",value:function(){return this.element.getBoundingClientRect()}},{key:"locationOf",value:function(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}},{key:"onDisplayed",value:function(e){}},{key:"onResize",value:function(e,t){}},{key:"bounds",value:function(e){return!e&&this.elementBounds||(this.elementBounds=_(this.element)),this.elementBounds}},{key:"highlight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"epubjs-hl",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.contents){var a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},o),s=this.contents.range(e),l=function(){t.emit(xe.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Je.Pane(this.iframe,this.element));var u=new Je.Highlight(s,r,n,a),c=this.pane.addMark(u);return this.highlights[e]={mark:c,element:c.element,listeners:[l,i]},c.element.setAttribute("ref",r),c.element.addEventListener("click",l),c.element.addEventListener("touchstart",l),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}}},{key:"underline",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"epubjs-ul",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.contents){var a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},o),s=this.contents.range(e),l=function(){t.emit(xe.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Je.Pane(this.iframe,this.element));var u=new Je.Underline(s,r,n,a),c=this.pane.addMark(u);return this.underlines[e]={mark:c,element:c.element,listeners:[l,i]},c.element.setAttribute("ref",r),c.element.addEventListener("click",l),c.element.addEventListener("touchstart",l),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}}},{key:"mark",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(this.contents){if(e in this.marks){var r=this.marks[e];return r}var o=this.contents.range(e);if(o){var a=o.commonAncestorContainer,s=1===a.nodeType?a:a.parentNode,l=function(i){t.emit(xe.MARK_CLICKED,e,n)};o.collapsed&&1===a.nodeType?(o=new Range).selectNodeContents(a):o.collapsed&&(o=new Range).selectNodeContents(s);var u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,n&&Object.keys(n).forEach((function(e){u.dataset[e]=n[e]})),i&&(u.addEventListener("click",i),u.addEventListener("touchstart",i)),u.addEventListener("click",l),u.addEventListener("touchstart",l),this.placeMark(u,o),this.element.appendChild(u),this.marks[e]={element:u,range:o,listeners:[l,i]},s}}}},{key:"placeMark",value:function(e,t){var n,i,r;if("pre-paginated"===this.layout.name||"horizontal"!==this.settings.axis){var o=t.getBoundingClientRect();n=o.top,i=o.right}else for(var a,s=t.getClientRects(),l=0;l!=s.length;l++)a=s[l],(!r||a.left<r)&&(r=a.left,i=Math.ceil(r/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,n=a.top);e.style.top="".concat(n,"px"),e.style.left="".concat(i,"px")}},{key:"unhighlight",value:function(e){var t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.highlights[e])}},{key:"ununderline",value:function(e){var t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.underlines[e])}},{key:"unmark",value:function(e){var t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach((function(e){e&&(t.element.removeEventListener("click",e),t.element.removeEventListener("touchstart",e))})),delete this.marks[e])}},{key:"destroy",value:function(){for(var e in this.highlights)this.unhighlight(e);for(var t in this.underlines)this.ununderline(t);for(var n in this.marks)this.unmark(n);this.blobUrl&&I(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}]),e}();l()(et.prototype);var tt=et;function nt(){var e="reverse",t=function(){var e=document.createElement("div");e.dir="rtl",e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="0px",e.style.left="0px",e.style.overflow="hidden";var t=document.createElement("div");t.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",t.appendChild(n),t.appendChild(i),e.appendChild(t),e}();return document.body.appendChild(t),t.scrollLeft>0?e="default":"undefined"!==typeof Element&&Element.prototype.scrollIntoView?(t.children[0].children[1].scrollIntoView(),t.scrollLeft<0&&(e="negative")):(t.scrollLeft=1,0===t.scrollLeft&&(e="negative")),document.body.removeChild(t),e}var it=n(3038),rt=n.n(it),ot=function(){function e(t){r(this,e),this.settings=t||{},this.id="epubjs-container-"+f(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}return a(e,[{key:"create",value:function(e){var t=e.height,n=e.width,i=e.overflow||!1,r=e.axis||"vertical",o=e.direction;b(this.settings,e),e.height&&v(e.height)&&(t=e.height+"px"),e.width&&v(e.width)&&(n=e.width+"px");var a=document.createElement("div");return a.id=this.id,a.classList.add("epub-container"),a.style.wordSpacing="0",a.style.lineHeight="0",a.style.verticalAlign="top",a.style.position="relative","horizontal"===r&&(a.style.display="flex",a.style.flexDirection="row",a.style.flexWrap="nowrap"),n&&(a.style.width=n),t&&(a.style.height=t),i&&("scroll"===i&&"vertical"===r?(a.style["overflow-y"]=i,a.style["overflow-x"]="hidden"):"scroll"===i&&"horizontal"===r?(a.style["overflow-y"]="hidden",a.style["overflow-x"]=i):a.style.overflow=i),o&&(a.dir=o,a.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),a}},{key:"wrap",value:function(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}},{key:"getElement",value:function(e){var t;if(p(e)?t=e:"string"===typeof e&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}},{key:"attachTo",value:function(e){var t,n=this.getElement(e);if(n)return t=this.settings.hidden?this.wrapper:this.container,n.appendChild(t),this.element=n,n}},{key:"getContainer",value:function(){return this.container}},{key:"onResize",value:function(e){v(this.settings.width)&&v(this.settings.height)||(this.resizeFunc=rt()(e,50),window.addEventListener("resize",this.resizeFunc,!1))}},{key:"onOrientationChange",value:function(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}},{key:"size",value:function(e,t){var n,i=e||this.settings.width,r=t||this.settings.height;null===e?(n=this.element.getBoundingClientRect()).width&&(e=Math.floor(n.width),this.container.style.width=e+"px"):v(e)?this.container.style.width=e+"px":this.container.style.width=e,null===t?(n=n||this.element.getBoundingClientRect()).height&&(t=n.height,this.container.style.height=t+"px"):v(t)?this.container.style.height=t+"px":this.container.style.height=t,v(e)||(e=this.container.clientWidth),v(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};var o=C(),a=window.getComputedStyle(document.body),s=parseFloat(a["padding-left"])||0,l=parseFloat(a["padding-right"])||0,u=parseFloat(a["padding-top"])||0,c=parseFloat(a["padding-bottom"])||0;return i||(e=o.width-s-l),(this.settings.fullsize&&!r||!r)&&(t=o.height-u-c),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}},{key:"bounds",value:function(){var e;return"visible"!==this.container.style.overflow&&(e=this.container&&this.container.getBoundingClientRect()),e&&e.width&&e.height?e:C()}},{key:"getSheet",value:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}},{key:"addStyleRules",value:function(e,t){var n="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),t.forEach((function(e){for(var t in e)e.hasOwnProperty(t)&&(i+=t+":"+e[t]+";")})),this.sheet.insertRule(n+e+" {"+i+"}",0)}},{key:"axis",value:function(e){"horizontal"===e?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}},{key:"direction",value:function(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}},{key:"overflow",value:function(e){this.container&&("scroll"===e&&"vertical"===this.settings.axis?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):"scroll"===e&&"horizontal"===this.settings.axis?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}},{key:"destroy",value:function(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}]),e}(),at=ot,st=function(){function e(t){r(this,e),this.container=t,this._views=[],this.length=0,this.hidden=!1}return a(e,[{key:"all",value:function(){return this._views}},{key:"first",value:function(){return this._views[0]}},{key:"last",value:function(){return this._views[this._views.length-1]}},{key:"indexOf",value:function(e){return this._views.indexOf(e)}},{key:"slice",value:function(){return this._views.slice.apply(this._views,arguments)}},{key:"get",value:function(e){return this._views[e]}},{key:"append",value:function(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}},{key:"prepend",value:function(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}},{key:"insert",value:function(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}},{key:"remove",value:function(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}},{key:"destroy",value:function(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}},{key:"forEach",value:function(){return this._views.forEach.apply(this._views,arguments)}},{key:"clear",value:function(){var e,t=this.length;if(this.length){for(var n=0;n<t;n++)e=this._views[n],this.destroy(e);this._views=[],this.length=0}}},{key:"find",value:function(e){for(var t,n=this.length,i=0;i<n;i++)if((t=this._views[i]).displayed&&t.section.index==e.index)return t}},{key:"displayed",value:function(){for(var e,t=[],n=this.length,i=0;i<n;i++)(e=this._views[i]).displayed&&t.push(e);return t}},{key:"show",value:function(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.show();this.hidden=!1}},{key:"hide",value:function(){for(var e,t=this.length,n=0;n<t;n++)(e=this._views[n]).displayed&&e.hide();this.hidden=!0}}]),e}(),lt=st,ut=function(){function e(t){r(this,e),this.name="default",this.optsSettings=t.settings,this.View=t.view,this.request=t.request,this.renditionQueue=t.queue,this.q=new ve(this),this.settings=b(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),b(this.settings,t.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}return a(e,[{key:"render",value:function(e,t){var n=e.tagName;"undefined"!==typeof this.settings.fullsize||!n||"body"!=n.toLowerCase()&&"html"!=n.toLowerCase()||(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=nt(),this.stage=new at({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new lt(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}},{key:"addEventListeners",value:function(){var e;window.addEventListener("unload",function(e){this.destroy()}.bind(this)),e=this.settings.fullsize?window:this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}},{key:"removeEventListeners",value:function(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}},{key:"destroy",value:function(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}},{key:"onOrientationChange",value:function(e){var t=window.orientation;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(ke.ORIENTATION_CHANGE,t)}.bind(this),500)}},{key:"onResized",value:function(e){this.resize()}},{key:"resize",value:function(e,t,n){var i=this.stage.size(e,t);this.winBounds=C(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height?this._stageSize=void 0:this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(ke.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},n))}},{key:"createView",value:function(e,t){return new this.View(e,b(this.viewSettings,{forceRight:t}))}},{key:"handleNextPrePaginated",value:function(e,t,n){var i;if("pre-paginated"===this.layout.name&&this.layout.divisor>1){if(e||0===t.index)return;if((i=t.next())&&!i.properties.includes("page-spread-left"))return n.call(this,i)}}},{key:"display",value:function(e,t){var n=new V,i=n.promise;(t===e.href||v(t))&&(t=void 0);var r=this.views.find(e);if(r&&e&&"pre-paginated"!==this.layout.name){var o=r.offset();if("ltr"===this.settings.direction)this.scrollTo(o.left,o.top,!0);else{var a=r.width();this.scrollTo(o.left+a,o.top,!0)}if(t){var s=r.locationOf(t),l=r.width();this.moveTo(s,l)}return n.resolve(),i}this.clear();var u=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(u=!0),this.add(e,u).then(function(e){if(t){var n=e.locationOf(t),i=e.width();this.moveTo(n,i)}}.bind(this),(function(e){n.reject(e)})).then(function(){return this.handleNextPrePaginated(u,e,this.add)}.bind(this)).then(function(){this.views.show(),n.resolve()}.bind(this)),i}},{key:"afterDisplayed",value:function(e){this.emit(ke.ADDED,e)}},{key:"afterResized",value:function(e){this.emit(ke.RESIZE,e.section)}},{key:"moveTo",value:function(e,t){var n=0,i=0;this.isPaginated?((n=Math.floor(e.left/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollWidth&&(n=this.container.scrollWidth-this.layout.delta),(i=Math.floor(e.top/this.layout.delta)*this.layout.delta)+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,"rtl"===this.settings.direction&&(n+=this.layout.delta,n-=t),this.scrollTo(n,i,!0)}},{key:"add",value:function(e,t){var n=this,i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.AXIS,(function(e){n.updateAxis(e)})),i.on(xe.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"append",value:function(e,t){var n=this,i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.AXIS,(function(e){n.updateAxis(e)})),i.on(xe.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"prepend",value:function(e,t){var n=this,i=this.createView(e,t);return i.on(xe.RESIZED,(function(e){n.counter(e)})),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.AXIS,(function(e){n.updateAxis(e)})),i.on(xe.WRITING_MODE,(function(e){n.updateWritingMode(e)})),i.display(this.request)}},{key:"counter",value:function(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}},{key:"next",value:function(){var e,t=this.settings.direction;if(this.views.length){if(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t)if(this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t)this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next():this.container.scrollLeft+-1*this.layout.delta>-1*this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next();else if(this.isPaginated&&"vertical"===this.settings.axis){this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()}else e=this.views.last().section.next();else this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft+this.container.offsetWidth+this.layout.delta<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next();if(e){this.clear(),this.updateLayout();var n=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then(function(){return this.handleNextPrePaginated(n,e,this.append)}.bind(this),(function(e){return e})).then(function(){this.isPaginated||"horizontal"!==this.settings.axis||"rtl"!==this.settings.direction||"default"!==this.settings.rtlScrollType||this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}.bind(this))}}}},{key:"prev",value:function(){var e,t=this.settings.direction;if(this.views.length){if(!this.isPaginated||"horizontal"!==this.settings.axis||t&&"ltr"!==t)if(this.isPaginated&&"horizontal"===this.settings.axis&&"rtl"===t)this.scrollLeft=this.container.scrollLeft,"default"===this.settings.rtlScrollType?this.container.scrollLeft+this.container.offsetWidth<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev():this.container.scrollLeft<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev();else if(this.isPaginated&&"vertical"===this.settings.axis){this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()}else e=this.views.first().section.prev();else this.scrollLeft=this.container.scrollLeft,this.container.scrollLeft>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev();if(e){this.clear(),this.updateLayout();var n=!1;return"pre-paginated"===this.layout.name&&2===this.layout.divisor&&"object"!==typeof e.prev()&&(n=!0),this.prepend(e,n).then(function(){var t;if("pre-paginated"===this.layout.name&&this.layout.divisor>1&&(t=e.prev()))return this.prepend(t)}.bind(this),(function(e){return e})).then(function(){this.isPaginated&&"horizontal"===this.settings.axis&&("rtl"===this.settings.direction?"default"===this.settings.rtlScrollType?this.scrollTo(0,0,!0):this.scrollTo(-1*this.container.scrollWidth+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}.bind(this))}}}},{key:"current",value:function(){var e=this.visible();return e.length?e[e.length-1]:null}},{key:"clear",value:function(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}},{key:"currentLocation",value:function(){return this.updateLayout(),this.isPaginated&&"horizontal"===this.settings.axis?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}},{key:"scrolledLocation",value:function(){var e=this,t=this.visible(),n=this.container.getBoundingClientRect(),i=n.height<window.innerHeight?n.height:window.innerHeight,r=n.width<window.innerWidth?n.width:window.innerWidth,o="vertical"===this.settings.axis,a=(this.settings.direction,0);return this.settings.fullsize&&(a=o?window.scrollY:window.scrollX),t.map((function(t){var s,l,u,c,h=t.section,f=h.index,d=h.href,p=t.position(),v=t.width(),m=t.height();o?(l=(s=a+n.top-p.top+0)+i-0,c=e.layout.count(m,i).pages,u=i):(l=(s=a+n.left-p.left+0)+r-0,c=e.layout.count(v,r).pages,u=r);var g=Math.ceil(s/u),y=[],b=Math.ceil(l/u);if("rtl"===e.settings.direction&&!o){var w=g;g=c-b,b=c-w}y=[];for(var k=g;k<=b;k++){var x=k+1;y.push(x)}return{index:f,href:d,pages:y,totalPages:c,mapping:e.mapping.page(t.contents,t.section.cfiBase,s,l)}}))}},{key:"paginatedLocation",value:function(){var e=this,t=this.visible(),n=this.container.getBoundingClientRect(),i=0,r=0;return this.settings.fullsize&&(i=window.scrollX),t.map((function(t){var o,a,s,l,u=t.section,c=u.index,h=u.href,f=t.position(),d=t.width();"rtl"===e.settings.direction?(o=n.right-i,l=Math.min(Math.abs(o-f.left),e.layout.width)-r,a=(s=f.width-(f.right-o)-r)-l):(o=n.left+i,l=Math.min(f.right-o,e.layout.width)-r,s=(a=o-f.left+r)+l),r+=l;var p=e.mapping.page(t.contents,t.section.cfiBase,a,s),v=e.layout.count(d).pages,m=Math.floor(a/e.layout.pageWidth),g=[],y=Math.floor(s/e.layout.pageWidth);if(m<0&&(m=0,y+=1),"rtl"===e.settings.direction){var b=m;m=v-y,y=v-b}for(var w=m+1;w<=y;w++){var k=w;g.push(k)}return{index:c,href:h,pages:g,totalPages:v,mapping:p}}))}},{key:"isVisible",value:function(e,t,n,i){var r=e.position(),o=i||this.bounds();return"horizontal"===this.settings.axis&&r.right>o.left-t&&r.left<o.right+n||"vertical"===this.settings.axis&&r.bottom>o.top-t&&r.top<o.bottom+n}},{key:"visible",value:function(){for(var e,t=this.bounds(),n=this.views.displayed(),i=n.length,r=[],o=0;o<i;o++)e=n[o],!0===this.isVisible(e,0,0,t)&&r.push(e);return r}},{key:"scrollBy",value:function(e,t,n){var i="rtl"===this.settings.direction?-1:1;n&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,t*i):(e&&(this.container.scrollLeft+=e*i),t&&(this.container.scrollTop+=t)),this.scrolled=!0}},{key:"scrollTo",value:function(e,t,n){n&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}},{key:"onScroll",value:function(){var e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(ke.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.emit(ke.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),20))}},{key:"bounds",value:function(){var e;return e=this.stage.bounds(),e}},{key:"applyLayout",value:function(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&"pre-paginated"===this.layout.name&&this.display(this.views.first().section)}},{key:"updateLayout",value:function(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}},{key:"setLayout",value:function(e){this.viewSettings.layout=e,this.mapping=new Ve(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach((function(t){t&&t.setLayout(e)}))}},{key:"updateWritingMode",value:function(e){this.writingMode=e}},{key:"updateAxis",value:function(e,t){(t||e!==this.settings.axis)&&(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Ve(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&("vertical"===e?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}},{key:"updateFlow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n="paginated"===e||"auto"===e;this.isPaginated=n,"scrolled-doc"===e||"scrolled-continuous"===e||"scrolled"===e?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=n?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}},{key:"getContents",value:function(){var e=[];return this.views?(this.views.forEach((function(t){var n=t&&t.contents;n&&e.push(n)})),e):e}},{key:"direction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ltr";this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}},{key:"isRendered",value:function(){return this.rendered}}]),e}();l()(ut.prototype);var ct=ut;function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function ft(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ht(e)););return e}function dt(){return dt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=ft(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},dt.apply(this,arguments)}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function mt(e,t){if(t&&("object"===vt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ht(e);if(t){var r=ht(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return mt(this,n)}}var yt=Math.PI/2,bt={easeOutSine:function(e){return Math.sin(e*yt)},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInCubic:function(e){return Math.pow(e,3)}},wt=function(){function e(t,n){r(this,e),this.settings=b({duration:80,minVelocity:.2,minDistance:10,easing:bt.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(t)}return a(e,[{key:"setup",value:function(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=2*this.settings.duration,this.isVertical="vertical"===this.manager.settings.axis,this.manager.isPaginated&&!this.isVertical&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}},{key:"supportsTouch",value:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}},{key:"disableScroll",value:function(){this.element.style.overflow="hidden"}},{key:"enableScroll",value:function(){this.element.style.overflow=""}},{key:"addListeners",value:function(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(ke.ADDED,this._afterDisplayed)}},{key:"removeListeners",value:function(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(ke.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}},{key:"afterDisplayed",value:function(e){var t=this,n=e.contents;["touchstart","touchmove","touchend"].forEach((function(e){n.on(e,(function(e){return t.triggerViewEvent(e,n)}))}))}},{key:"triggerViewEvent",value:function(e,t){this.emit(e.type,e,t)}},{key:"onScroll",value:function(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}},{key:"onResize",value:function(e){this.resizeCanceler=!0}},{key:"onTouchStart",value:function(e){var t=e.touches[0],n=t.screenX,i=t.screenY;this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}},{key:"onTouchMove",value:function(e){var t=e.touches[0],n=t.screenX,i=t.screenY,r=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&r<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}},{key:"onTouchEnd",value:function(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;var t=this.wasSwiped();0!==t?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}},{key:"wasSwiped",value:function(){var e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,n=Math.abs(t),i=t/(this.endTime-this.startTime),r=this.settings.minVelocity;return n<=this.settings.minDistance||n>=e?0:i>r?-1:i<-r?1:void 0}},{key:"needsSnap",value:function(){return this.scrollLeft%(this.layout.pageWidth*this.layout.divisor)!==0}},{key:"snap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor,i=Math.round(t/n)*n;return e&&(i+=e*n),this.smoothScrollTo(i)}},{key:"smoothScrollTo",value:function(e){var t=new V,n=this.scrollLeft,i=this.now(),r=this.settings.duration,o=this.settings.easing;return this.snapping=!0,function a(){var s=this.now(),l=Math.min(1,(s-i)/r);if(o(l),this.touchCanceler||this.resizeCanceler)return this.resizeCanceler=!1,this.snapping=!1,void t.resolve();l<1?(window.requestAnimationFrame(a.bind(this)),this.scrollTo(n+(e-n)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}.call(this),t.promise}},{key:"scrollTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}},{key:"now",value:function(){return"now"in window.performance?performance.now():(new Date).getTime()}},{key:"destroy",value:function(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}]),e}();l()(wt.prototype);var kt=wt,xt=n(8573),_t=n.n(xt),Et=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(n,e);var t=gt(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).name="continuous",i.settings=b(i.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),b(i.settings,e.settings||{}),"undefined"!=e.settings.gap&&0===e.settings.gap&&(i.settings.gap=e.settings.gap),i.viewSettings={ignoreClass:i.settings.ignoreClass,axis:i.settings.axis,flow:i.settings.flow,layout:i.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:i.settings.allowScriptedContent,allowPopups:i.settings.allowPopups},i.scrollTop=0,i.scrollLeft=0,i}return a(n,[{key:"display",value:function(e,t){return ct.prototype.display.call(this,e,t).then(function(){return this.fill()}.bind(this))}},{key:"fill",value:function(e){var t=this,n=e||new V;return this.q.enqueue((function(){return t.check()})).then((function(e){e?t.fill(n):n.resolve()})),n.promise}},{key:"moveTo",value:function(e){var t=0,n=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,this.settings.offsetDelta):(n=e.top,e.top,this.settings.offsetDelta),(t>0||n>0)&&this.scrollBy(t,n,!0)}},{key:"afterResized",value:function(e){this.emit(ke.RESIZE,e.section)}},{key:"removeShownListeners",value:function(e){e.onDisplayed=function(){}}},{key:"add",value:function(e){var t=this,n=this.createView(e);return this.views.append(n),n.on(xe.RESIZED,(function(e){n.expanded=!0})),n.on(xe.AXIS,(function(e){t.updateAxis(e)})),n.on(xe.WRITING_MODE,(function(e){t.updateWritingMode(e)})),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}},{key:"append",value:function(e){var t=this,n=this.createView(e);return n.on(xe.RESIZED,(function(e){n.expanded=!0})),n.on(xe.AXIS,(function(e){t.updateAxis(e)})),n.on(xe.WRITING_MODE,(function(e){t.updateWritingMode(e)})),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}},{key:"prepend",value:function(e){var t=this,n=this.createView(e);return n.on(xe.RESIZED,(function(e){t.counter(e),n.expanded=!0})),n.on(xe.AXIS,(function(e){t.updateAxis(e)})),n.on(xe.WRITING_MODE,(function(e){t.updateWritingMode(e)})),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}},{key:"counter",value:function(e){"vertical"===this.settings.axis?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}},{key:"update",value:function(e){for(var t,n=this.bounds(),i=this.views.all(),r=i.length,o=[],a="undefined"!=typeof e?e:this.settings.offset||0,s=new V,l=[],u=0;u<r;u++)if(t=i[u],!0===this.isVisible(t,a,a,n)){if(t.displayed)t.show();else{var c=t.display(this.request).then((function(e){e.show()}),(function(e){t.hide()}));l.push(c)}o.push(t)}else this.q.enqueue(t.destroy.bind(t)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout(function(){this.q.enqueue(this.trim.bind(this))}.bind(this),250);return l.length?Promise.all(l).catch((function(e){s.reject(e)})):(s.resolve(),s.promise)}},{key:"check",value:function(e,t){var n=this,i=new V,r=[],o="horizontal"===this.settings.axis,a=this.settings.offset||0;e&&o&&(a=e),t&&!o&&(a=t);var s=this._bounds,l=o?this.scrollLeft:this.scrollTop,u=o?Math.floor(s.width):s.height,c=o?this.container.scrollWidth:this.container.scrollHeight,h=this.writingMode&&0===this.writingMode.indexOf("vertical")?"vertical":"horizontal",f=this.settings.rtlScrollType,d="rtl"===this.settings.direction;this.settings.fullsize?(o&&d&&"negative"===f||!o&&d&&"default"===f)&&(l*=-1):(d&&"default"===f&&"horizontal"===h&&(l=c-u-l),d&&"negative"===f&&"horizontal"===h&&(l*=-1));var p=l-a;l+u+a>=c&&function(){var e=n.views.last(),t=e&&e.section.next();t&&r.push(n.append(t))}(),p<0&&function(){var e=n.views.first(),t=e&&e.section.prev();t&&r.push(n.prepend(t))}();var v=r.map((function(e){return e.display(n.request)}));return r.length?Promise.all(v).then((function(){return n.check()})).then((function(){return n.update(a)}),(function(e){return e})):(this.q.enqueue(function(){this.update()}.bind(this)),i.resolve(!1),i.promise)}},{key:"trim",value:function(){for(var e=new V,t=this.views.displayed(),n=t[0],i=t[t.length-1],r=this.views.indexOf(n),o=this.views.indexOf(i),a=this.views.slice(0,r),s=this.views.slice(o+1),l=0;l<a.length-1;l++)this.erase(a[l],a);for(var u=1;u<s.length;u++)this.erase(s[u]);return e.resolve(),e.promise}},{key:"erase",value:function(e,t){var n,i;this.settings.fullsize?(n=window.scrollY,i=window.scrollX):(n=this.container.scrollTop,i=this.container.scrollLeft);var r=e.bounds();this.views.remove(e),t&&("vertical"===this.settings.axis?this.scrollTo(0,n-r.height,!0):"rtl"===this.settings.direction?this.settings.fullsize?this.scrollTo(i+Math.floor(r.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(r.width),0,!0))}},{key:"addEventListeners",value:function(e){window.addEventListener("unload",function(e){this.ignore=!0,this.destroy()}.bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new kt(this,this.settings.snap&&"object"===typeof this.settings.snap&&this.settings.snap))}},{key:"addScrollListeners",value:function(){var e;this.tick=c;var t="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=_t()(this.scrolled.bind(this),30),this.didScroll=!1}},{key:"removeEventListeners",value:function(){(this.settings.fullsize?window:this.container).removeEventListener("scroll",this._onScroll),this._onScroll=void 0}},{key:"onScroll",value:function(){var e,t,n="rtl"===this.settings.direction&&"default"===this.settings.rtlScrollType?-1:1;this.settings.fullsize?(e=window.scrollY*n,t=window.scrollX*n):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}.bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}},{key:"scrolled",value:function(){this.q.enqueue(function(){return this.check()}.bind(this)),this.emit(ke.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout(function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(ke.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}.bind(this),this.settings.afterScrolledTimeout)}},{key:"next",value:function(){var e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}},{key:"prev",value:function(){var e="pre-paginated"===this.layout.props.name&&this.layout.props.spread?2*this.layout.props.delta:this.layout.props.delta;this.views.length&&(this.isPaginated&&"horizontal"===this.settings.axis?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue(function(){return this.check()}.bind(this)))}},{key:"updateFlow",value:function(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),dt(ht(n.prototype),"updateFlow",this).call(this,e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new kt(this,this.settings.snap&&"object"===typeof this.settings.snap&&this.settings.snap))}},{key:"destroy",value:function(){dt(ht(n.prototype),"destroy",this).call(this),this.snapper&&this.snapper.destroy()}}]),n}(ct),St=Et,Ct=function(){function e(t,n){r(this,e),this.settings=b(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),b(this.settings,n),"object"===typeof this.settings.manager&&(this.manager=this.settings.manager),this.book=t,this.hooks={},this.hooks.display=new re(this),this.hooks.serialize=new re(this),this.hooks.content=new re(this),this.hooks.unloaded=new re(this),this.hooks.layout=new re(this),this.hooks.render=new re(this),this.hooks.show=new re(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new We(this),this.annotations=new Qe(this),this.epubcfi=new ne,this.q=new ve(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new V,this.started=this.starting.promise,this.q.enqueue(this.start)}return a(e,[{key:"setManager",value:function(e){this.manager=e}},{key:"requireManager",value:function(e){return"string"===typeof e&&"default"===e?ct:"string"===typeof e&&"continuous"===e?St:e}},{key:"requireView",value:function(e){return"string"==typeof e&&"iframe"===e?tt:e}},{key:"start",value:function(){switch(this.settings.layout||"pre-paginated"!==this.book.package.metadata.layout&&"true"!==this.book.displayOptions.fixedLayout||(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(ke.ADDED,this.afterDisplayed.bind(this)),this.manager.on(ke.REMOVED,this.afterRemoved.bind(this)),this.manager.on(ke.RESIZED,this.onResized.bind(this)),this.manager.on(ke.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(ke.SCROLLED,this.reportLocation.bind(this)),this.emit(_e.STARTED),this.starting.resolve()}},{key:"attachTo",value:function(e){return this.q.enqueue(function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(_e.ATTACHED)}.bind(this))}},{key:"display",value:function(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}},{key:"_display",value:function(e){var t=this;if(this.book){this.epubcfi.isCfiString(e);var n,i=new V,r=i.promise;return this.displaying=i,this.book.locations.length()&&m(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),(n=this.book.spine.get(e))?(this.manager.display(n,e).then((function(){i.resolve(n),t.displaying=void 0,t.emit(_e.DISPLAYED,n),t.reportLocation()}),(function(e){t.emit(_e.DISPLAY_ERROR,e)})),r):(i.reject(new Error("No Section Found")),r)}}},{key:"afterDisplayed",value:function(e){var t=this;e.on(xe.MARK_CLICKED,(function(n,i){return t.triggerMarkEvent(n,i,e.contents)})),this.hooks.render.trigger(e,this).then((function(){e.contents?t.hooks.content.trigger(e.contents,t).then((function(){t.emit(_e.RENDERED,e.section,e)})):t.emit(_e.RENDERED,e.section,e)}))}},{key:"afterRemoved",value:function(e){var t=this;this.hooks.unloaded.trigger(e,this).then((function(){t.emit(_e.REMOVED,e.section,e)}))}},{key:"onResized",value:function(e,t){this.emit(_e.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}},{key:"onOrientationChange",value:function(e){this.emit(_e.ORIENTATION_CHANGE,e)}},{key:"moveTo",value:function(e){this.manager.moveTo(e)}},{key:"resize",value:function(e,t,n){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,n)}},{key:"clear",value:function(){this.manager.clear()}},{key:"next",value:function(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}},{key:"prev",value:function(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}},{key:"determineLayoutProperties",value:function(e){var t=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",i=this.settings.orientation||e.orientation||"auto",r=this.settings.flow||e.flow||"auto",o=e.viewport||"",a=this.settings.minSpreadWidth||e.minSpreadWidth||800,s=this.settings.direction||e.direction||"ltr";return(0===this.settings.width||this.settings.width>0)&&(0===this.settings.height||this.settings.height),{layout:t,spread:n,orientation:i,flow:r,viewport:o,minSpreadWidth:a,direction:s}}},{key:"flow",value:function(e){var t=e;"scrolled"!==e&&"scrolled-doc"!==e&&"scrolled-continuous"!==e||(t="scrolled"),"auto"!==e&&"paginated"!==e||(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}},{key:"layout",value:function(e){var t=this;return e&&(this._layout=new Fe(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Ee.UPDATED,(function(e,n){t.emit(_e.LAYOUT,e,n)}))),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}},{key:"spread",value:function(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}},{key:"direction",value:function(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}},{key:"reportLocation",value:function(){return this.q.enqueue(function(){requestAnimationFrame(function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"===typeof e.then)e.then(function(e){var t=this.located(e);t&&t.start&&t.end&&(this.location=t,this.emit(_e.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(_e.RELOCATED,this.location))}.bind(this));else if(e){var t=this.located(e);if(!t||!t.start||!t.end)return;this.location=t,this.emit(_e.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(_e.RELOCATED,this.location)}}.bind(this))}.bind(this))}},{key:"currentLocation",value:function(){var e=this.manager.currentLocation();if(e&&e.then&&"function"===typeof e.then)e.then(function(e){return this.located(e)}.bind(this));else if(e){return this.located(e)}}},{key:"located",value:function(e){if(!e.length)return{};var t=e[0],n=e[e.length-1],i={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:n.index,href:n.href,cfi:n.mapping.end,displayed:{page:n.pages[n.pages.length-1]||1,total:n.totalPages}}},r=this.book.locations.locationFromCfi(t.mapping.start),o=this.book.locations.locationFromCfi(n.mapping.end);null!=r&&(i.start.location=r,i.start.percentage=this.book.locations.percentageFromLocation(r)),null!=o&&(i.end.location=o,i.end.percentage=this.book.locations.percentageFromLocation(o));var a=this.book.pageList.pageFromCfi(t.mapping.start),s=this.book.pageList.pageFromCfi(n.mapping.end);return-1!=a&&(i.start.page=a),-1!=s&&(i.end.page=s),n.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),t.index===this.book.spine.first().index&&1===i.start.displayed.page&&(i.atStart=!0),i}},{key:"destroy",value:function(){this.manager&&this.manager.destroy(),this.book=void 0}},{key:"passEvents",value:function(e){var t=this;ge.forEach((function(n){e.on(n,(function(n){return t.triggerViewEvent(n,e)}))})),e.on(be.SELECTED,(function(n){return t.triggerSelectedEvent(n,e)}))}},{key:"triggerViewEvent",value:function(e,t){this.emit(e.type,e,t)}},{key:"triggerSelectedEvent",value:function(e,t){this.emit(_e.SELECTED,e,t)}},{key:"triggerMarkEvent",value:function(e,t,n){this.emit(_e.MARK_CLICKED,e,t,n)}},{key:"getRange",value:function(e,t){var n=new ne(e),i=this.manager.visible().filter((function(e){if(n.spinePos===e.index)return!0}));if(i.length)return i[0].contents.range(n,t)}},{key:"adjustImages",value:function(e){if("pre-paginated"===this._layout.name)return new Promise((function(e){e()}));var t=e.window.getComputedStyle(e.content,null),n=.95*(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom))),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise((function(e,t){setTimeout((function(){e()}),1)}))}},{key:"getContents",value:function(){return this.manager?this.manager.getContents():[]}},{key:"views",value:function(){var e=this.manager?this.manager.views:void 0;return e||[]}},{key:"handleLinks",value:function(e){var t=this;e&&e.on(be.LINK_CLICKED,(function(e){var n=t.book.path.relative(e);t.display(n)}))}},{key:"injectStylesheet",value:function(e,t){var n=e.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(n)}},{key:"injectScript",value:function(e,t){var n=e.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",this.settings.script),n.textContent=" ",e.getElementsByTagName("head")[0].appendChild(n)}},{key:"injectIdentifier",value:function(e,t){var n=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),n&&i.setAttribute("content",n),e.getElementsByTagName("head")[0].appendChild(i)}}]),e}();l()(Ct.prototype);var Tt=Ct,Nt=n(2304),Ot=n.n(Nt),Rt=function(){function e(){r(this,e),this.zip=void 0,this.urlCache={},this.checkRequirements()}return a(e,[{key:"checkRequirements",value:function(){try{this.zip=new(Ot())}catch(e){throw new Error("JSZip lib not loaded")}}},{key:"open",value:function(e,t){return this.zip.loadAsync(e,{base64:t})}},{key:"openUrl",value:function(e,t){return ue(e,"binary").then(function(e){return this.zip.loadAsync(e,{base64:t})}.bind(this))}},{key:"request",value:function(e,t){var n,i=new V,r=new J(e);return t||(t=r.extension),(n="blob"==t?this.getBlob(e):this.getText(e))?n.then(function(e){var n=this.handleResponse(e,t);i.resolve(n)}.bind(this)):i.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),i.promise}},{key:"handleResponse",value:function(e,t){return"json"==t?JSON.parse(e):R(t)?j(e,"text/xml"):"xhtml"==t?j(e,"application/xhtml+xml"):"html"==t||"htm"==t?j(e,"text/html"):e}},{key:"getBlob",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return t=t||ze.lookup(i.name),i.async("uint8array").then((function(e){return new Blob([e],{type:t})}))}},{key:"getText",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return i.async("string").then((function(e){return e}))}},{key:"getBase64",value:function(e,t){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return t=t||ze.lookup(i.name),i.async("base64").then((function(e){return"data:"+t+";base64,"+e}))}},{key:"createUrl",value:function(e,t){var n,i,r=new V,o=window.URL||window.webkitURL||window.mozURL,a=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(i=this.getBase64(e))&&i.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(i=this.getBlob(e))&&i.then(function(t){n=o.createObjectURL(t),this.urlCache[e]=n,r.resolve(n)}.bind(this)),i||r.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),r.promise)}},{key:"revokeUrl",value:function(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}},{key:"destroy",value:function(){var e=window.URL||window.webkitURL||window.mozURL;for(var t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}]),e}(),Lt=Rt,Pt=n(1842),It=n.n(Pt),At=function(){function e(t,n,i){r(this,e),this.urlCache={},this.storage=void 0,this.name=t,this.requester=n||ue,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}return a(e,[{key:"checkRequirements",value:function(){try{var e;"undefined"===typeof It()&&(e=It()),this.storage=e.createInstance({name:this.name})}catch(t){throw new Error("localForage lib not loaded")}}},{key:"addListeners",value:function(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}},{key:"removeListeners",value:function(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}},{key:"status",value:function(e){var t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}},{key:"add",value:function(e,t){var n=this,i=e.resources.map((function(e){var i=e.href,r=n.resolver(i),o=window.encodeURIComponent(r);return n.storage.getItem(o).then((function(e){return!e||t?n.requester(r,"binary").then((function(e){return n.storage.setItem(o,e)})):e}))}));return Promise.all(i)}},{key:"put",value:function(e,t,n){var i=this,r=window.encodeURIComponent(e);return this.storage.getItem(r).then((function(o){return o||i.requester(e,"binary",t,n).then((function(e){return i.storage.setItem(r,e)}))}))}},{key:"request",value:function(e,t,n,i){var r=this;return this.online?this.requester(e,t,n,i).then((function(t){return r.put(e),t})):this.retrieve(e,t)}},{key:"retrieve",value:function(e,t){var n=this,i=(new V,new J(e));return t||(t=i.extension),("blob"==t?this.getBlob(e):this.getText(e)).then((function(i){var r,o=new V;return i?(r=n.handleResponse(i,t),o.resolve(r)):o.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),o.promise}))}},{key:"handleResponse",value:function(e,t){return"json"==t?JSON.parse(e):R(t)?j(e,"text/xml"):"xhtml"==t?j(e,"application/xhtml+xml"):"html"==t||"htm"==t?j(e,"text/html"):e}},{key:"getBlob",value:function(e,t){var n=window.encodeURIComponent(e);return this.storage.getItem(n).then((function(n){if(n)return t=t||ze.lookup(e),new Blob([n],{type:t})}))}},{key:"getText",value:function(e,t){var n=window.encodeURIComponent(e);return t=t||ze.lookup(e),this.storage.getItem(n).then((function(e){var n,i=new V,r=new FileReader;if(e)return n=new Blob([e],{type:t}),r.addEventListener("loadend",(function(){i.resolve(r.result)})),r.readAsText(n,t),i.promise}))}},{key:"getBase64",value:function(e,t){var n=window.encodeURIComponent(e);return t=t||ze.lookup(e),this.storage.getItem(n).then((function(e){var n,i=new V,r=new FileReader;if(e)return n=new Blob([e],{type:t}),r.addEventListener("loadend",(function(){i.resolve(r.result)})),r.readAsDataURL(n,t),i.promise}))}},{key:"createUrl",value:function(e,t){var n,i,r=new V,o=window.URL||window.webkitURL||window.mozURL,a=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(a?(i=this.getBase64(e))&&i.then(function(t){this.urlCache[e]=t,r.resolve(t)}.bind(this)):(i=this.getBlob(e))&&i.then(function(t){n=o.createObjectURL(t),this.urlCache[e]=n,r.resolve(n)}.bind(this)),i||r.reject({message:"File not found in storage: "+e,stack:(new Error).stack}),r.promise)}},{key:"revokeUrl",value:function(e){var t=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&t.revokeObjectURL(n)}},{key:"destroy",value:function(){var e=window.URL||window.webkitURL||window.mozURL;for(var t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}]),e}();l()(At.prototype);var zt=At,jt=function(){function e(t){r(this,e),this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",t&&this.parse(t)}return a(e,[{key:"parse",value:function(e){var t=this;if(!e)return this;var n=D(e,"display_options");return n?(M(n,"option").forEach((function(e){var n="";switch(e.childNodes.length&&(n=e.childNodes[0].nodeValue),e.attributes.name.value){case"interactive":t.interactive=n;break;case"fixed-layout":t.fixedLayout=n;break;case"open-to-spread":t.openToSpread=n;break;case"orientation-lock":t.orientationLock=n}})),this):this}},{key:"destroy",value:function(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}]),e}(),Dt="META-INF/container.xml",Mt="binary",Bt="base64",Ft="epub",Ut="opf",Wt="json",qt="directory",Vt=function(){function e(t,n){var i=this;r(this,e),"undefined"===typeof n&&"string"!==typeof t&&t instanceof Blob===!1&&t instanceof ArrayBuffer===!1&&(n=t,t=void 0),this.settings=b(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),b(this.settings,n),this.opening=new V,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new V,spine:new V,metadata:new V,cover:new V,navigation:new V,pageList:new V,resources:new V,displayOptions:new V},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||ue,this.spine=new de,this.locations=new Te(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),t&&this.open(t,this.settings.openAs).catch((function(e){var n=new Error("Cannot load book at "+t);i.emit(ye.OPEN_FAILED,n)}))}return a(e,[{key:"open",value:function(e,t){var n,i=t||this.determineType(e);return i===Mt?(this.archived=!0,this.url=new ee("/",""),n=this.openEpub(e)):i===Bt?(this.archived=!0,this.url=new ee("/",""),n=this.openEpub(e,i)):i===Ft?(this.archived=!0,this.url=new ee("/",""),n=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==Ut?(this.url=new ee(e),n=this.openPackaging(this.url.Path.toString())):i==Wt?(this.url=new ee(e),n=this.openManifest(this.url.Path.toString())):(this.url=new ee(e),n=this.openContainer(Dt).then(this.openPackaging.bind(this))),n}},{key:"openEpub",value:function(e,t){var n=this;return this.unarchive(e,t||this.settings.encoding).then((function(){return n.openContainer(Dt)})).then((function(e){return n.openPackaging(e)}))}},{key:"openContainer",value:function(e){var t=this;return this.load(e).then((function(e){return t.container=new Ne(e),t.resolve(t.container.packagePath)}))}},{key:"openPackaging",value:function(e){var t=this;return this.path=new J(e),this.load(e).then((function(e){return t.packaging=new Re(e),t.unpack(t.packaging)}))}},{key:"openManifest",value:function(e){var t=this;return this.path=new J(e),this.load(e).then((function(e){return t.packaging=new Re,t.packaging.load(e),t.unpack(t.packaging)}))}},{key:"load",value:function(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}},{key:"resolve",value:function(e,t){if(e){var n=e;return e.indexOf("://")>-1?e:(this.path&&(n=this.path.resolve(e)),0!=t&&this.url&&(n=this.url.resolve(n)),n)}}},{key:"canonical",value:function(e){return e?this.settings.canonical?this.settings.canonical(e):this.resolve(e,!0):""}},{key:"determineType",value:function(e){var t;return"base64"===this.settings.encoding?Bt:"string"!=typeof e?Mt:((t=new ee(e).path().extension)&&(t=t.replace(/\?.*$/,"")),t?"epub"===t?Ft:"opf"===t?Ut:"json"===t?Wt:void 0:qt)}},{key:"unpack",value:function(e){var t=this;this.package=e,""===this.packaging.metadata.layout?this.load(this.url.resolve("META-INF/com.apple.ibooks.display-options.xml")).then((function(e){t.displayOptions=new jt(e),t.loading.displayOptions.resolve(t.displayOptions)})).catch((function(e){t.displayOptions=new jt,t.loading.displayOptions.resolve(t.displayOptions)})):(this.displayOptions=new jt,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new De(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then((function(){t.loading.navigation.resolve(t.navigation)})),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&"none"!=this.settings.replacements?this.replacements().then((function(){t.loaded.displayOptions.then((function(){t.opening.resolve(t)}))})).catch((function(e){console.error(e)})):this.loaded.displayOptions.then((function(){t.opening.resolve(t)}))}},{key:"loadNavigation",value:function(e){var t=this,n=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((function(n,r){t.navigation=new Pe(i),e.pageList&&(t.pageList=new Me(e.pageList)),n(t.navigation)})):n?this.load(n,"xml").then((function(e){return t.navigation=new Pe(e),t.pageList=new Me(e),t.navigation})):new Promise((function(e,n){t.navigation=new Pe,t.pageList=new Me,e(t.navigation)}))}},{key:"section",value:function(e){return this.spine.get(e)}},{key:"renderTo",value:function(e,t){return this.rendition=new Tt(this,t),this.rendition.attachTo(e),this.rendition}},{key:"setRequestCredentials",value:function(e){this.settings.requestCredentials=e}},{key:"setRequestHeaders",value:function(e){this.settings.requestHeaders=e}},{key:"unarchive",value:function(e,t){return this.archive=new Lt,this.archive.open(e,t)}},{key:"store",value:function(e){var t=this,n=this.settings.replacements&&"none"!==this.settings.replacements,i=this.url,r=this.settings.requestMethod||ue.bind(this);return this.storage=new zt(e,r,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then((function(){t.archived&&(t.storage.requester=t.archive.request.bind(t.archive));var e=function(e,n){n.output=t.resources.substitute(e,n.url)};t.resources.settings.replacements=n||"blobUrl",t.resources.replacements().then((function(){return t.resources.replaceCss()})),t.storage.on("offline",(function(){t.url=new ee("/",""),t.spine.hooks.serialize.register(e)})),t.storage.on("online",(function(){t.url=i,t.spine.hooks.serialize.deregister(e)}))})),this.storage}},{key:"coverUrl",value:function(){var e=this;return this.loaded.cover.then((function(){return e.cover?e.archived?e.archive.createUrl(e.cover):e.cover:null}))}},{key:"replacements",value:function(){var e=this;return this.spine.hooks.serialize.register((function(t,n){n.output=e.resources.substitute(t,n.url)})),this.resources.replacements().then((function(){return e.resources.replaceCss()}))}},{key:"getRange",value:function(e){var t=new ne(e),n=this.spine.get(t.spinePos),i=this.load.bind(this);return n?n.load(i).then((function(e){return t.toRange(n.document)})):new Promise((function(e,t){t("CFI could not be found")}))}},{key:"key",value:function(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return"epubjs:".concat(me,":").concat(t)}},{key:"destroy",value:function(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}]),e}();l()(Vt.prototype);var Ht=Vt;function Xt(e,t){return new Ht(e,t)}Xt.VERSION=me,"undefined"!==typeof n.g&&(n.g.EPUBJS_VERSION=me),Xt.Book=Ht,Xt.Rendition=Tt,Xt.Contents=Ze,Xt.CFI=ne,Xt.utils=i;var Yt=Xt},2771:function(e){"use strict";e.exports=function(){}},9719:function(e,t,n){"use strict";e.exports=n(5073)()?Object.assign:n(6742)},5073:function(e){"use strict";e.exports=function(){var e,t=Object.assign;return"function"===typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},6742:function(e,t,n){"use strict";var i=n(7510),r=n(5822),o=Math.max;e.exports=function(e,t){var n,a,s,l=o(arguments.length,2);for(e=Object(r(e)),s=function(i){try{e[i]=t[i]}catch(r){n||(n=r)}},a=1;a<l;++a)i(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},7054:function(e,t,n){"use strict";var i=n(2771)();e.exports=function(e){return e!==i&&null!==e}},7510:function(e,t,n){"use strict";e.exports=n(2298)()?Object.keys:n(4378)},2298:function(e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},4378:function(e,t,n){"use strict";var i=n(7054),r=Object.keys;e.exports=function(e){return r(i(e)?Object(e):e)}},7307:function(e,t,n){"use strict";var i=n(7054),r=Array.prototype.forEach,o=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,(function(e){i(e)&&a(Object(e),t)})),t}},993:function(e){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}},5822:function(e,t,n){"use strict";var i=n(7054);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},5858:function(e,t,n){"use strict";e.exports=n(2967)()?String.prototype.contains:n(6476)},2967:function(e){"use strict";var t="razdwatrzy";e.exports=function(){return"function"===typeof t.contains&&(!0===t.contains("dwa")&&!1===t.contains("foo"))}},6476:function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},4:function(e,t,n){"use strict";var i,r,o,a,s,l,u,c=n(1264),h=n(993),f=Function.prototype.apply,d=Function.prototype.call,p=Object.create,v=Object.defineProperty,m=Object.defineProperties,g=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n,r;return h(t),r=this,i.call(this,e,n=function(){o.call(r,e,n),f.call(t,this,arguments)}),n.__eeOnceListener__=t,this},a=function(e){var t,n,i,r,o;if(g.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"===typeof r){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)f.call(i,this,o)}else switch(arguments.length){case 1:d.call(r,this);break;case 2:d.call(r,this,arguments[1]);break;case 3:d.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];f.call(r,this,o)}},s={on:i=function(e,t){var n;return h(t),g.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),v(this,"__ee__",y),y.value=null),n[e]?"object"===typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,i,r,o;if(h(t),!g.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===typeof(i=n[e]))for(o=0;r=i[o];++o)r!==t&&r.__eeOnceListener__!==t||(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:a},l={on:c(i),once:c(r),off:c(o),emit:c(a)},u=m({},l),e.exports=t=function(e){return null==e?p(u):m(Object(e),l)},t.methods=s},2304:function(e,t,n){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return r(n||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,u,c=[],h=0,f=e.length,d=f,p="string"!==i.getTypeOf(e);h<e.length;)d=f-h,p?(t=e[h++],n=h<f?e[h++]:0,r=h<f?e[h++]:0):(t=e.charCodeAt(h++),n=h<f?e.charCodeAt(h++):0,r=h<f?e.charCodeAt(h++):0),a=t>>2,s=(3&t)<<4|n>>4,l=d>1?(15&n)<<2|r>>6:64,u=d>2?63&r:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return c.join("")},n.decode=function(e){var t,n,i,a,s,l,u=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var f,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");for(f=r.uint8array?new Uint8Array(0|d):new Array(0|d);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,i=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),f[c++]=t,64!==s&&(f[c++]=n),64!==l&&(f[c++]=i);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils");function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var o=r();function a(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}function s(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^r[255&(e^t.charCodeAt(s))];return-1^e}t.exports=function(e,t){return"undefined"!==typeof e&&e.length?"string"!==i.getTypeOf(e)?a(0|t,e,e.length,0):s(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!==typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=i?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),a=e("../crc32"),s=e("../signature"),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},c=function(e,t){return 63&(e||0)},h=function(e,t,n,r,h,f){var d,p,v=e.file,m=e.compression,g=f!==o.utf8encode,y=i.transformTo("string",f(v.name)),b=i.transformTo("string",o.utf8encode(v.name)),w=v.comment,k=i.transformTo("string",f(w)),x=i.transformTo("string",o.utf8encode(w)),_=b.length!==v.name.length,E=x.length!==w.length,S="",C="",T="",N=v.dir,O=v.date,R={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(R.crc32=e.crc32,R.compressedSize=e.compressedSize,R.uncompressedSize=e.uncompressedSize);var L=0;t&&(L|=8),g||!_&&!E||(L|=2048);var P=0,I=0;N&&(P|=16),"UNIX"===h?(I=798,P|=u(v.unixPermissions,N)):(I=20,P|=c(v.dosPermissions,N)),d=O.getUTCHours(),d<<=6,d|=O.getUTCMinutes(),d<<=5,d|=O.getUTCSeconds()/2,p=O.getUTCFullYear()-1980,p<<=4,p|=O.getUTCMonth()+1,p<<=5,p|=O.getUTCDate(),_&&(C=l(1,1)+l(a(y),4)+b,S+="up"+l(C.length,2)+C),E&&(T=l(1,1)+l(a(k),4)+x,S+="uc"+l(T.length,2)+T);var A="";return A+="\n\0",A+=l(L,2),A+=m.magic,A+=l(d,2),A+=l(p,2),A+=l(R.crc32,4),A+=l(R.compressedSize,4),A+=l(R.uncompressedSize,4),A+=l(y.length,2),A+=l(S.length,2),{fileRecord:s.LOCAL_FILE_HEADER+A+y+S,dirRecord:s.CENTRAL_FILE_HEADER+l(I,2)+A+l(k.length,2)+"\0\0\0\0"+l(P,4)+l(r,4)+y+S+k}},f=function(e,t,n,r,o){var a=i.transformTo("string",o(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a},d=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function p(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(p,r),p.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},p.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=h(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=h(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:d(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=f(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},p.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},p.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker"),o=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};n.generateWorker=function(e,t,n){var i=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var r=o(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(s){i.error(s)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.9.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(e){for(var r=e.shift(),o=r.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,u=i.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!==typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"===typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"===typeof e.on&&"function"===typeof e.pause&&"function"===typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var i=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),u=e("./zipObject"),c=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e,t,n){var i,a=r.getTypeOf(t),c=r.extend(n||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"===typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=v(e)),c.createFolders&&(i=p(e))&&m.call(this,i,!0);var d="string"===a&&!1===c.binary&&!1===c.base64;n&&"undefined"!==typeof n.binary||(c.binary=!d),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",a="string");var g=null;g=t instanceof l||t instanceof o?t:h.isNode&&h.isStream(t)?new f(e,t):r.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var y=new u(e,g,c);this.files[e]=y},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t="undefined"!==typeof t?t:s.createFolders,e=v(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1===arguments.length){if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,d.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=c.generateWorker(this,n,s)}catch(l){(t=new o("error")).error(l)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker"),o=16384;function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=o,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(p){}function c(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}function h(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function f(e,t){return new l.Promise((function(n,i){var r=[],o=e._internalType,a=e._outputType,s=e._mimeType;e.on("data",(function(e,n){r.push(e),t&&t(n)})).on("error",(function(e){r=[],i(e)})).on("end",(function(){try{var e=c(a,h(o,r),s);n(e)}catch(p){i(p)}r=[]})).resume()}))}function d(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,i.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(p){this._worker=new o("error"),this._worker.error(p)}}d.prototype={accumulate:function(e){return f(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,n.nodebuffer="undefined"!==typeof Buffer,n.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;var u=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},c=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t},h=function(e){var t,n,r,o,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if((r=e[t++])<128)l[n++]=r;else if((o=s[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<a;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};function f(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):u(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):(e=i.transformTo(r.uint8array?"uint8array":"array",e),h(e))},i.inherits(f,a),f.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=c(t),s=t;a!==t.length&&(r.uint8array?(s=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(s=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=f,i.inherits(d,a),d.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function l(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}function u(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=h.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=h.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return h.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return h.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=f;var p={};p.string={string:u,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},p.array={string:f,array:u,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:u,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:u,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:f,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:u},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return p[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"===typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"===typeof n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,u){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!==typeof FileReader?new s.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var i=n.getTypeOf(t);return i?("arraybuffer"===i?t=n.transformTo("uint8array",t):"string"===i&&(u?t=r.decode(t):o&&!0!==a&&(t=l(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;r<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support"),c=0,h=3,f=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null};function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=f(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===c&&(this.dosPermissions=63&this.externalFileAttributes),e===h&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new s("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)l.prototype[u[h]]=c;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}function h(e){1!==u.push(e)||i||n()}t.exports=h}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function c(e,t,n){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}function a(){t(r,i)}var s=p(a);"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function v(e){return e instanceof this?e:o.resolve(new this(r),e)}function m(e){var t=new this(r);return o.reject(t,e)}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(r);++l<n;)c(e[l],l);return u;function c(e,r){function l(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(u,a))}t.resolve(e).then(l,(function(e){i||(i=!0,o.reject(u,e))}))}}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(r);++a<n;)l(e[a]);return s;function l(e){t.resolve(e).then((function(e){i||(i=!0,o.resolve(s,e))}),(function(e){i||(i=!0,o.reject(s,e))}))}}t.exports=u,u.prototype.finally=function(e){if("function"!==typeof e)return this;var t=this.constructor;return this.then(n,i);function n(n){function i(){return n}return t.resolve(e()).then(i)}function i(n){function i(){throw n}return t.resolve(e()).then(i)}},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!==typeof e&&this.state===s||"function"!==typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=v,u.reject=m,u.all=g,u.race=y},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=4,h=0,f=1,d=2,p=-1,v=0,m=8;function g(e){if(!(this instanceof g))return new g(e);this.options=r.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,u))!==h)throw new Error(a[n]);this._dict_set=!0}}function y(e,t){var n=new g(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function b(e,t){return(t=t||{}).raw=!0,y(e,t)}function w(e,t){return(t=t||{}).gzip=!0,y(e,t)}g.prototype.push=function(e,t){var n,a,s=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?c:u,"string"===typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(p),s.next_out=0,s.avail_out=p),(n=i.deflate(s,a))!==f&&n!==h)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||a!==c&&a!==d)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&n!==f);return a===c?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):a!==d||(this.onEnd(h),s.avail_out=0,!0)},g.prototype.onData=function(e){this.chunks.push(e)},g.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=g,n.deflate=y,n.deflateRaw=b,n.gzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function d(e,t){return(t=t||{}).raw=!0,f(e,t)}h.prototype.push=function(e,t){var n,s,l,u,h,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(n=i.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(f="string"===typeof v?o.string2buf(v):"[object ArrayBuffer]"===c.call(v)?new Uint8Array(v):v,n=i.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=p-u,u&&r.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=d,n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=0,o=0;a<l;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,u=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)u[i++]=r;else if((o=a[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var r=i();function o(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=1,h=3,f=4,d=5,p=0,v=1,m=-2,g=-3,y=-5,b=-1,w=1,k=2,x=3,_=4,E=0,S=2,C=8,T=9,N=15,O=8,R=286,L=30,P=19,I=2*R+1,A=15,z=3,j=258,D=j+z+1,M=32,B=42,F=69,U=73,W=91,q=103,V=113,H=666,X=1,Y=2,G=3,Z=4,$=3;function K(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function re(e,t,n,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function oe(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-D?e.strstart-(e.w_size-D):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+j,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=j-(f-o),o=f-j,i>a){if(e.match_start=t,a=i,i>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=h[t&c])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,i,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-D)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=s?i-s:0}while(--n);t=n=s;do{i=e.prev[--t],e.prev[t]=i>=s?i-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=re(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=z)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+z-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<z)););}while(e.lookahead<D&&0!==e.strm.avail_in)}function se(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===u)return X;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return X;if(e.strstart-e.block_start>=e.w_size-D&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?G:Z):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),X)}function le(e,t){for(var n,i;;){if(e.lookahead<D){if(ae(e),e.lookahead<D&&t===u)return X;if(0===e.lookahead)break}if(n=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-D&&(e.match_length=oe(e,n)),e.match_length>=z)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-z),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=z){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=e.strstart<z-1?e.strstart:z-1,t===f?(te(e,!0),0===e.strm.avail_out?G:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function ue(e,t){for(var n,i,r;;){if(e.lookahead<D){if(ae(e),e.lookahead<D&&t===u)return X;if(0===e.lookahead)break}if(n=0,e.lookahead>=z&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=z-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-D&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===w||e.match_length===z&&e.strstart-e.match_start>4096)&&(e.match_length=z-1)),e.prev_length>=z&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-z,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-z),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+z-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=z-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return X}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return X}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<z-1?e.strstart:z-1,t===f?(te(e,!0),0===e.strm.avail_out?G:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function ce(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=j){if(ae(e),e.lookahead<=j&&t===u)return X;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=z&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+j;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=j-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=z?(n=o._tr_tally(e,1,e.match_length-z),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?G:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function he(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===u)return X;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return X}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?G:Z):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?X:Y}function fe(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function de(e){e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=z-1,e.match_available=0,e.ins_h=0}function pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*I),this.dyn_dtree=new r.Buf16(2*(2*L+1)),this.bl_tree=new r.Buf16(2*(2*P+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(A+1),this.heap=new r.Buf16(2*R+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*R+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B:V,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),p):K(e,m)}function me(e){var t=ve(e);return t===p&&de(e.state),t}function ge(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m}function ye(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===b&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>T||n!==C||i<8||i>15||t<0||t>9||a<0||a>_)return K(e,m);8===i&&(i=9);var l=new pe;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+z-1)/z),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,me(e)}function be(e,t){return ye(e,t,C,N,O,E)}function we(e,t){var n,r,a,l;if(!e||!e.state||t>d||t<0)return e?K(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===H&&t!==f)return K(e,0===e.avail_out?y:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===B)if(2===r.wrap)e.adler=0,ne(r,31),ne(r,139),ne(r,8),r.gzhead?(ne(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ne(r,255&r.gzhead.time),ne(r,r.gzhead.time>>8&255),ne(r,r.gzhead.time>>16&255),ne(r,r.gzhead.time>>24&255),ne(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),ne(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ne(r,255&r.gzhead.extra.length),ne(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=F):(ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,9===r.level?2:r.strategy>=k||r.level<2?4:0),ne(r,$),r.status=V);else{var g=C+(r.w_bits-8<<4)<<8;g|=(r.strategy>=k||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=M),g+=31-g%31,r.status=V,ie(r,g),0!==r.strstart&&(ie(r,e.adler>>>16),ie(r,65535&e.adler)),e.adler=1}if(r.status===F)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));)ne(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=q)}else r.status=q;if(r.status===q&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ne(r,255&e.adler),ne(r,e.adler>>8&255),e.adler=0,r.status=V)):r.status=V),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==f)return K(e,y);if(r.status===H&&0!==e.avail_in)return K(e,y);if(0!==e.avail_in||0!==r.lookahead||t!==u&&r.status!==H){var b=r.strategy===k?he(r,t):r.strategy===x?ce(r,t):i[r.level].func(r,t);if(b!==G&&b!==Z||(r.status=H),b===X||b===G)return 0===e.avail_out&&(r.last_flush=-1),p;if(b===Y&&(t===c?o._tr_align(r):t!==d&&(o._tr_stored_block(r,0,0,!1),t===h&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,p}return t!==f?p:r.wrap<=0?v:(2===r.wrap?(ne(r,255&e.adler),ne(r,e.adler>>8&255),ne(r,e.adler>>16&255),ne(r,e.adler>>24&255),ne(r,255&e.total_in),ne(r,e.total_in>>8&255),ne(r,e.total_in>>16&255),ne(r,e.total_in>>24&255)):(ie(r,e.adler>>>16),ie(r,65535&e.adler)),ee(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:v)}function ke(e){var t;return e&&e.state?(t=e.state.status)!==B&&t!==F&&t!==U&&t!==W&&t!==q&&t!==V&&t!==H?K(e,m):(e.state=null,t===V?K(e,g):p):m}function xe(e,t){var n,i,o,s,l,u,c,h,f=t.length;if(!e||!e.state)return m;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==B||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,t,f-n.w_size,n.w_size,0),t=h,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(n);n.lookahead>=z;){i=n.strstart,o=n.lookahead-(z-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+z-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=z-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=z-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,p}i=[new fe(0,0,0,0,se),new fe(4,4,8,4,le),new fe(4,5,16,8,le),new fe(4,6,32,32,le),new fe(4,4,16,16,ue),new fe(8,16,32,32,ue),new fe(8,16,128,128,ue),new fe(8,32,128,256,ue),new fe(32,128,258,1024,ue),new fe(32,258,258,4096,ue)],n.deflateInit=be,n.deflateInit2=ye,n.deflateReset=me,n.deflateResetKeep=ve,n.deflateSetHeader=ge,n.deflate=we,n.deflateEnd=ke,n.deflateSetDictionary=xe,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],48:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,u,c,h,f,d,p,v,m,g,y,b,w,k,x,_,E,S,C,T,N;n=e.state,o=e.next_in,T=e.input,a=o+(e.avail_in-5),s=e.next_out,N=e.output,l=s-(t-e.avail_out),u=s+(e.avail_out-257),c=n.dmax,h=n.wsize,f=n.whave,d=n.wnext,p=n.window,v=n.hold,m=n.bits,g=n.lencode,y=n.distcode,b=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{m<15&&(v+=T[o++]<<m,m+=8,v+=T[o++]<<m,m+=8),k=g[v&b];t:for(;;){if(v>>>=x=k>>>24,m-=x,0===(x=k>>>16&255))N[s++]=65535&k;else{if(!(16&x)){if(0===(64&x)){k=g[(65535&k)+(v&(1<<x)-1)];continue t}if(32&x){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}_=65535&k,(x&=15)&&(m<x&&(v+=T[o++]<<m,m+=8),_+=v&(1<<x)-1,v>>>=x,m-=x),m<15&&(v+=T[o++]<<m,m+=8,v+=T[o++]<<m,m+=8),k=y[v&w];n:for(;;){if(v>>>=x=k>>>24,m-=x,!(16&(x=k>>>16&255))){if(0===(64&x)){k=y[(65535&k)+(v&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(E=65535&k,m<(x&=15)&&(v+=T[o++]<<m,(m+=8)<x&&(v+=T[o++]<<m,m+=8)),(E+=v&(1<<x)-1)>c){e.msg="invalid distance too far back",n.mode=i;break e}if(v>>>=x,m-=x,E>(x=s-l)){if((x=E-x)>f&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(S=0,C=p,0===d){if(S+=h-x,x<_){_-=x;do{N[s++]=p[S++]}while(--x);S=s-E,C=N}}else if(d<x){if(S+=h+d-x,(x-=d)<_){_-=x;do{N[s++]=p[S++]}while(--x);if(S=0,d<_){_-=x=d;do{N[s++]=p[S++]}while(--x);S=s-E,C=N}}}else if(S+=d-x,x<_){_-=x;do{N[s++]=p[S++]}while(--x);S=s-E,C=N}for(;_>2;)N[s++]=C[S++],N[s++]=C[S++],N[s++]=C[S++],_-=3;_&&(N[s++]=C[S++],_>1&&(N[s++]=C[S++]))}else{S=s-E;do{N[s++]=N[S++],N[s++]=N[S++],N[s++]=N[S++],_-=3}while(_>2);_&&(N[s++]=N[S++],_>1&&(N[s++]=N[S++]))}break}}break}}while(o<a&&s<u);o-=_=m>>3,v&=(1<<(m-=_<<3))-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?a-o+5:5-(o-a),e.avail_out=s<u?u-s+257:257-(s-u),n.hold=v,n.bits=m}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=0,u=1,c=2,h=4,f=5,d=6,p=0,v=1,m=2,g=-2,y=-3,b=-4,w=-5,k=8,x=1,_=2,E=3,S=4,C=5,T=6,N=7,O=8,R=9,L=10,P=11,I=12,A=13,z=14,j=15,D=16,M=17,B=18,F=19,U=20,W=21,q=22,V=23,H=24,X=25,Y=26,G=27,Z=28,$=29,K=30,Q=31,J=852,ee=592,te=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(J),t.distcode=t.distdyn=new i.Buf32(ee),t.sane=1,t.back=-1,p):g}function oe(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):g}function ae(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?g:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,oe(e))):g}function se(e,t){var n,i;return e?(i=new ie,e.state=i,i.window=null,(n=ae(e,t))!==p&&(e.state=null),n):g}function le(e){return se(e,te)}var ue,ce,he=!0;function fe(e){if(he){var t;for(ue=new i.Buf32(512),ce=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,ce,0,e.work,{bits:5}),he=!1}e.lencode=ue,e.lenbits=9,e.distcode=ce,e.distbits=5}function de(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function pe(e,t){var n,J,ee,te,ie,re,oe,ae,se,le,ue,ce,he,pe,ve,me,ge,ye,be,we,ke,xe,_e,Ee,Se=0,Ce=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return g;(n=e.state).mode===I&&(n.mode=A),ie=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,re=e.avail_in,ae=n.hold,se=n.bits,le=re,ue=oe,xe=p;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=A;break}for(;se<16;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(2&n.wrap&&35615===ae){n.check=0,Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0),ae=0,se=0,n.mode=_;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",n.mode=K;break}if((15&ae)!==k){e.msg="unknown compression method",n.mode=K;break}if(se-=4,ke=8+(15&(ae>>>=4)),0===n.wbits)n.wbits=ke;else if(ke>n.wbits){e.msg="invalid window size",n.mode=K;break}n.dmax=1<<ke,e.adler=n.check=1,n.mode=512&ae?L:I,ae=0,se=0;break;case _:for(;se<16;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(n.flags=ae,(255&n.flags)!==k){e.msg="unknown compression method",n.mode=K;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=K;break}n.head&&(n.head.text=ae>>8&1),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0,n.mode=E;case E:for(;se<32;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.time=ae),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,Ce[2]=ae>>>16&255,Ce[3]=ae>>>24&255,n.check=o(n.check,Ce,4,0)),ae=0,se=0,n.mode=S;case S:for(;se<16;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.head&&(n.head.xflags=255&ae,n.head.os=ae>>8),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0,n.mode=C;case C:if(1024&n.flags){for(;se<16;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.length=ae,n.head&&(n.head.extra_len=ae),512&n.flags&&(Ce[0]=255&ae,Ce[1]=ae>>>8&255,n.check=o(n.check,Ce,2,0)),ae=0,se=0}else n.head&&(n.head.extra=null);n.mode=T;case T:if(1024&n.flags&&((ce=n.length)>re&&(ce=re),ce&&(n.head&&(ke=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,J,te,ce,ke)),512&n.flags&&(n.check=o(n.check,J,ce,te)),re-=ce,te+=ce,n.length-=ce),n.length))break e;n.length=0,n.mode=N;case N:if(2048&n.flags){if(0===re)break e;ce=0;do{ke=J[te+ce++],n.head&&ke&&n.length<65536&&(n.head.name+=String.fromCharCode(ke))}while(ke&&ce<re);if(512&n.flags&&(n.check=o(n.check,J,ce,te)),re-=ce,te+=ce,ke)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===re)break e;ce=0;do{ke=J[te+ce++],n.head&&ke&&n.length<65536&&(n.head.comment+=String.fromCharCode(ke))}while(ke&&ce<re);if(512&n.flags&&(n.check=o(n.check,J,ce,te)),re-=ce,te+=ce,ke)break e}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;se<16;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(ae!==(65535&n.check)){e.msg="header crc mismatch",n.mode=K;break}ae=0,se=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=I;break;case L:for(;se<32;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}e.adler=n.check=ne(ae),ae=0,se=0,n.mode=P;case P:if(0===n.havedict)return e.next_out=ie,e.avail_out=oe,e.next_in=te,e.avail_in=re,n.hold=ae,n.bits=se,m;e.adler=n.check=1,n.mode=I;case I:if(t===f||t===d)break e;case A:if(n.last){ae>>>=7&se,se-=7&se,n.mode=G;break}for(;se<3;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}switch(n.last=1&ae,se-=1,3&(ae>>>=1)){case 0:n.mode=z;break;case 1:if(fe(n),n.mode=U,t===d){ae>>>=2,se-=2;break e}break;case 2:n.mode=M;break;case 3:e.msg="invalid block type",n.mode=K}ae>>>=2,se-=2;break;case z:for(ae>>>=7&se,se-=7&se;se<32;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if((65535&ae)!==(ae>>>16^65535)){e.msg="invalid stored block lengths",n.mode=K;break}if(n.length=65535&ae,ae=0,se=0,n.mode=j,t===d)break e;case j:n.mode=D;case D:if(ce=n.length){if(ce>re&&(ce=re),ce>oe&&(ce=oe),0===ce)break e;i.arraySet(ee,J,te,ce,ie),re-=ce,te+=ce,oe-=ce,ie+=ce,n.length-=ce;break}n.mode=I;break;case M:for(;se<14;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(n.nlen=257+(31&ae),ae>>>=5,se-=5,n.ndist=1+(31&ae),ae>>>=5,se-=5,n.ncode=4+(15&ae),ae>>>=4,se-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=K;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;se<3;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.lens[Te[n.have++]]=7&ae,ae>>>=3,se-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_e={bits:n.lenbits},xe=s(l,n.lens,0,19,n.lencode,0,n.work,_e),n.lenbits=_e.bits,xe){e.msg="invalid code lengths set",n.mode=K;break}n.have=0,n.mode=F;case F:for(;n.have<n.nlen+n.ndist;){for(;me=(Se=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ge=65535&Se,!((ve=Se>>>24)<=se);){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(ge<16)ae>>>=ve,se-=ve,n.lens[n.have++]=ge;else{if(16===ge){for(Ee=ve+2;se<Ee;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(ae>>>=ve,se-=ve,0===n.have){e.msg="invalid bit length repeat",n.mode=K;break}ke=n.lens[n.have-1],ce=3+(3&ae),ae>>>=2,se-=2}else if(17===ge){for(Ee=ve+3;se<Ee;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}se-=ve,ke=0,ce=3+(7&(ae>>>=ve)),ae>>>=3,se-=3}else{for(Ee=ve+7;se<Ee;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}se-=ve,ke=0,ce=11+(127&(ae>>>=ve)),ae>>>=7,se-=7}if(n.have+ce>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=K;break}for(;ce--;)n.lens[n.have++]=ke}}if(n.mode===K)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=K;break}if(n.lenbits=9,_e={bits:n.lenbits},xe=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,_e),n.lenbits=_e.bits,xe){e.msg="invalid literal/lengths set",n.mode=K;break}if(n.distbits=6,n.distcode=n.distdyn,_e={bits:n.distbits},xe=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,_e),n.distbits=_e.bits,xe){e.msg="invalid distances set",n.mode=K;break}if(n.mode=U,t===d)break e;case U:n.mode=W;case W:if(re>=6&&oe>=258){e.next_out=ie,e.avail_out=oe,e.next_in=te,e.avail_in=re,n.hold=ae,n.bits=se,a(e,ue),ie=e.next_out,ee=e.output,oe=e.avail_out,te=e.next_in,J=e.input,re=e.avail_in,ae=n.hold,se=n.bits,n.mode===I&&(n.back=-1);break}for(n.back=0;me=(Se=n.lencode[ae&(1<<n.lenbits)-1])>>>16&255,ge=65535&Se,!((ve=Se>>>24)<=se);){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(me&&0===(240&me)){for(ye=ve,be=me,we=ge;me=(Se=n.lencode[we+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Se,!(ye+(ve=Se>>>24)<=se);){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}ae>>>=ye,se-=ye,n.back+=ye}if(ae>>>=ve,se-=ve,n.back+=ve,n.length=ge,0===me){n.mode=Y;break}if(32&me){n.back=-1,n.mode=I;break}if(64&me){e.msg="invalid literal/length code",n.mode=K;break}n.extra=15&me,n.mode=q;case q:if(n.extra){for(Ee=n.extra;se<Ee;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.length+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;me=(Se=n.distcode[ae&(1<<n.distbits)-1])>>>16&255,ge=65535&Se,!((ve=Se>>>24)<=se);){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(0===(240&me)){for(ye=ve,be=me,we=ge;me=(Se=n.distcode[we+((ae&(1<<ye+be)-1)>>ye)])>>>16&255,ge=65535&Se,!(ye+(ve=Se>>>24)<=se);){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}ae>>>=ye,se-=ye,n.back+=ye}if(ae>>>=ve,se-=ve,n.back+=ve,64&me){e.msg="invalid distance code",n.mode=K;break}n.offset=ge,n.extra=15&me,n.mode=H;case H:if(n.extra){for(Ee=n.extra;se<Ee;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}n.offset+=ae&(1<<n.extra)-1,ae>>>=n.extra,se-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=K;break}n.mode=X;case X:if(0===oe)break e;if(ce=ue-oe,n.offset>ce){if((ce=n.offset-ce)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=K;break}ce>n.wnext?(ce-=n.wnext,he=n.wsize-ce):he=n.wnext-ce,ce>n.length&&(ce=n.length),pe=n.window}else pe=ee,he=ie-n.offset,ce=n.length;ce>oe&&(ce=oe),oe-=ce,n.length-=ce;do{ee[ie++]=pe[he++]}while(--ce);0===n.length&&(n.mode=W);break;case Y:if(0===oe)break e;ee[ie++]=n.length,oe--,n.mode=W;break;case G:if(n.wrap){for(;se<32;){if(0===re)break e;re--,ae|=J[te++]<<se,se+=8}if(ue-=oe,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?o(n.check,ee,ue,ie-ue):r(n.check,ee,ue,ie-ue)),ue=oe,(n.flags?ae:ne(ae))!==n.check){e.msg="incorrect data check",n.mode=K;break}ae=0,se=0}n.mode=Z;case Z:if(n.wrap&&n.flags){for(;se<32;){if(0===re)break e;re--,ae+=J[te++]<<se,se+=8}if(ae!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=K;break}ae=0,se=0}n.mode=$;case $:xe=v;break e;case K:xe=y;break e;case Q:return b;default:return g}return e.next_out=ie,e.avail_out=oe,e.next_in=te,e.avail_in=re,n.hold=ae,n.bits=se,(n.wsize||ue!==e.avail_out&&n.mode<K&&(n.mode<G||t!==h))&&de(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=Q,b):(le-=e.avail_in,ue-=e.avail_out,e.total_in+=le,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?o(n.check,ee,ue,e.next_out-ue):r(n.check,ee,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===I?128:0)+(n.mode===U||n.mode===j?256:0),(0===le&&0===ue||t===h)&&xe===p&&(xe=w),xe)}function ve(e){if(!e||!e.state)return g;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function me(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?g:(n.head=t,t.done=!1,p):g}function ge(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==P?g:n.mode===P&&r(1,t,i,0)!==n.check?y:de(e,t,i,i)?(n.mode=Q,b):(n.havedict=1,p):g}n.inflateReset=oe,n.inflateReset2=ae,n.inflateResetKeep=re,n.inflateInit=le,n.inflateInit2=se,n.inflate=pe,n.inflateEnd=ve,n.inflateGetHeader=me,n.inflateSetDictionary=ge,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,v,m,g,y){var b,w,k,x,_,E,S,C,T,N=y.bits,O=0,R=0,L=0,P=0,I=0,A=0,z=0,j=0,D=0,M=0,B=null,F=0,U=new i.Buf16(r+1),W=new i.Buf16(r+1),q=null,V=0;for(O=0;O<=r;O++)U[O]=0;for(R=0;R<p;R++)U[t[n+R]]++;for(I=N,P=r;P>=1&&0===U[P];P--);if(I>P&&(I=P),0===P)return v[m++]=20971520,v[m++]=20971520,y.bits=1,0;for(L=1;L<P&&0===U[L];L++);for(I<L&&(I=L),j=1,O=1;O<=r;O++)if(j<<=1,(j-=U[O])<0)return-1;if(j>0&&(e===s||1!==P))return-1;for(W[1]=0,O=1;O<r;O++)W[O+1]=W[O]+U[O];for(R=0;R<p;R++)0!==t[n+R]&&(g[W[t[n+R]]++]=R);if(e===s?(B=q=g,E=19):e===l?(B=c,F-=257,q=h,V-=257,E=256):(B=f,q=d,E=-1),M=0,R=0,O=L,_=m,A=I,z=0,k=-1,x=(D=1<<I)-1,e===l&&D>o||e===u&&D>a)return 1;for(;;){S=O-z,g[R]<E?(C=0,T=g[R]):g[R]>E?(C=q[V+g[R]],T=B[F+g[R]]):(C=96,T=0),b=1<<O-z,L=w=1<<A;do{v[_+(M>>z)+(w-=b)]=S<<24|C<<16|T|0}while(0!==w);for(b=1<<O-1;M&b;)b>>=1;if(0!==b?(M&=b-1,M+=b):M=0,R++,0===--U[O]){if(O===P)break;O=t[n+g[R]]}if(O>I&&(M&x)!==k){for(0===z&&(z=I),_+=L,j=1<<(A=O-z);A+z<P&&!((j-=U[A+z])<=0);)A++,j<<=1;if(D+=1<<A,e===l&&D>o||e===u&&D>a)return 1;v[k=M&x]=I<<24|A<<16|_-m|0}}return 0!==M&&(v[_+M]=O-z<<24|64<<16|0),y.bits=I,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common"),r=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,h=2,f=3,d=258,p=29,v=256,m=v+1+p,g=30,y=19,b=2*m+1,w=15,k=16,x=7,_=256,E=16,S=17,C=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,P=new Array(2*(m+2));l(P);var I=new Array(2*g);l(I);var A=new Array(L);l(A);var z=new Array(d-f+1);l(z);var j=new Array(p);l(j);var D,M,B,F=new Array(g);function U(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function W(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function q(e){return e<256?A[e]:A[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>k-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>k-e.bi_valid,e.bi_valid+=n-k):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function X(e,t,n){H(e,n[2*t],n[2*t+1])}function Y(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function G(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Z(e,t){var n,i,r,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(o=0;o<=w;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,v++),l[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=d&&(a=f[i-d]),s=l[2*i],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(c[2*i+1]+a)));if(0!==v){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function $(e,t,n){var i,r,o=new Array(w+1),a=0;for(i=1;i<=w;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=Y(o[s]++,s))}}function K(){var e,t,n,i,r,o=new Array(w+1);for(n=0,i=0;i<p-1;i++)for(j[i]=n,e=0;e<1<<T[i];e++)z[n++]=i;for(z[n-1]=i,r=0,i=0;i<16;i++)for(F[i]=r,e=0;e<1<<N[i];e++)A[r++]=i;for(r>>=7;i<g;i++)for(F[i]=r<<7,e=0;e<1<<N[i]-7;e++)A[256+r++]=i;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,o[8]++;for(;e<=255;)P[2*e+1]=9,e++,o[9]++;for(;e<=279;)P[2*e+1]=7,e++,o[7]++;for(;e<=287;)P[2*e+1]=8,e++,o[8]++;for($(P,m+1,o),e=0;e<g;e++)I[2*e+1]=5,I[2*e]=Y(e,5);D=new U(P,T,v+1,m,w),M=new U(I,N,0,g,w),B=new U(new Array(0),O,0,y,x)}function Q(e){var t;for(t=0;t<m;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function J(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,r){J(e),r&&(V(e,n),V(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function ne(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&te(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!te(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function ie(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?X(e,r,t):(X(e,(o=z[r])+v+1,t),0!==(a=T[o])&&H(e,r-=j[o],a),X(e,o=q(--i),n),0!==(a=N[o])&&H(e,i-=F[o],a))}while(s<e.last_lit);X(e,_,t)}function re(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)ne(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,ne(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Z(e,t),$(o,u,e.bl_count)}function oe(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*S]++:e.bl_tree[2*C]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function ae(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<u)do{X(e,r,e.bl_tree)}while(0!==--s);else 0!==r?(r!==o&&(X(e,r,e.bl_tree),s--),X(e,E,e.bl_tree),H(e,s-3,2)):s<=10?(X(e,S,e.bl_tree),H(e,s-3,3)):(X(e,C,e.bl_tree),H(e,s-11,7));s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),re(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*R[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,i){var r;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),r=0;r<i;r++)H(e,e.bl_tree[2*R[r]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ue(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<v;t++)if(0!==e.dyn_ltree[2*t])return a;return o}l(F);var ce=!1;function he(e){ce||(K(),ce=!0),e.l_desc=new W(e.dyn_ltree,D),e.d_desc=new W(e.dyn_dtree,M),e.bl_desc=new W(e.bl_tree,B),e.bi_buf=0,e.bi_valid=0,Q(e)}function fe(e,t,n,i){H(e,(u<<1)+(i?1:0),3),ee(e,t,n,!0)}function de(e){H(e,c<<1,3),X(e,_,P),G(e)}function pe(e,t,n,i){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ue(e)),re(e,e.l_desc),re(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?fe(e,t,n,i):e.strategy===r||a===o?(H(e,(c<<1)+(i?1:0),3),ie(e,P,I)):(H(e,(h<<1)+(i?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),ie(e,e.dyn_ltree,e.dyn_dtree)),Q(e),i&&J(e)}function ve(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(z[n]+v+1)]++,e.dyn_dtree[2*q(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=he,n._tr_stored_block=fe,n._tr_flush_block=pe,n._tr_tally=ve,n._tr_align=de},{"../utils/common":41}],53:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}],54:[function(e,t,n){"use strict";t.exports="function"===typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},1842:function(e,t,n){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return r(n||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}function h(e){1!==u.push(e)||i||n()}t.exports=h}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var i=e(1);function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function c(e,t,n){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}function a(){t(r,i)}var s=p(a);"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function v(e){return e instanceof this?e:o.resolve(new this(r),e)}function m(e){var t=new this(r);return o.reject(t,e)}function g(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(r);++l<n;)c(e[l],l);return u;function c(e,r){function l(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(u,a))}t.resolve(e).then(l,(function(e){i||(i=!0,o.reject(u,e))}))}}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(r);++a<n;)l(e[a]);return s;function l(e){t.resolve(e).then((function(e){i||(i=!0,o.resolve(s,e))}),(function(e){i||(i=!0,o.reject(s,e))}))}}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!==typeof e&&this.state===s||"function"!==typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=v,u.reject=m,u.all=g,u.race=y},{1:1}],3:[function(e,t,i){(function(t){"use strict";"function"!==typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=o();function s(){try{if(!a||!a.open)return!1;var e="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}"undefined"===typeof Promise&&e(3);var u=Promise;function c(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function h(e,t,n){"function"===typeof t&&e.then(t),"function"===typeof n&&e.catch(n)}function f(e){return"string"!==typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",v=void 0,m={},g=Object.prototype.toString,y="readonly",b="readwrite";function w(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function k(e){return new u((function(t){var n=e.transaction(p,b),i=l([""]);n.objectStore(p).put(i,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function x(e){return"boolean"===typeof v?u.resolve(v):k(e).then((function(e){return v=e}))}function _(e){var t=m[e.name],n={};n.promise=new u((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function E(e){var t=m[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function S(e,t){var n=m[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function C(e,t){return new u((function(n,i){if(m[e.name]=m[e.name]||j(),e.db){if(!t)return n(e.db);_(e),e.db.close()}var r=[e.name];t&&r.push(e.version);var o=a.open.apply(a,r);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),i(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),E(e)}}))}function T(e){return C(e,!1)}function N(e){return C(e,!0)}function O(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function R(e){return new u((function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)}))}function L(e){return l([w(atob(e.data))],{type:e.type})}function P(e){return e&&e.__local_forage_encoded_blob}function I(e){var t=this,n=t._initReady().then((function(){var e=m[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return h(n,e,e),n}function A(e){_(e);for(var t=m[e.name],n=t.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,O(e)?N(e):t})).then((function(i){e.db=t.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(t){throw S(e,t),t}))}function z(e,t,n,i){void 0===i&&(i=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return u.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),N(e)})).then((function(){return A(e).then((function(){z(e,t,n,i-1)}))})).catch(n);n(o)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function D(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var r=m[n.name];r||(r=j(),m[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);var o=[];function a(){return u.resolve()}for(var s=0;s<r.forages.length;s++){var l=r.forages[s];l!==t&&o.push(l._initReady().catch(a))}var c=r.forages.slice(0);return u.all(o).then((function(){return n.db=r.db,T(n)})).then((function(e){return n.db=e,O(n,t._defaultConfig.version)?N(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var i=0;i<c.length;i++){var o=c[i];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))}function M(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){z(n._dbInfo,y,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),P(e)&&(e=L(e)),t(e)},a.onerror=function(){i(a.error)}}catch(s){i(s)}}))})).catch(i)}));return c(i,t),i}function B(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){z(n._dbInfo,y,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var i=n.value;P(i)&&(i=L(i));var r=e(i,n.key,s++);void 0!==r?t(r):n.continue()}else t()},a.onerror=function(){i(a.error)}}catch(l){i(l)}}))})).catch(i)}));return c(i,t),i}function F(e,t,n){var i=this;e=f(e);var r=new u((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===g.call(t)?x(o.db).then((function(e){return e?t:R(t)})):t})).then((function(t){z(i._dbInfo,b,(function(o,a){if(o)return r(o);try{var s=a.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(u){r(u)}}))})).catch(r)}));return c(r,n),r}function U(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){z(n._dbInfo,b,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){i(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;i(e)}}catch(s){i(s)}}))})).catch(i)}));return c(i,t),i}function W(e){var t=this,n=new u((function(e,n){t.ready().then((function(){z(t._dbInfo,b,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(a){n(a)}}))})).catch(n)}));return c(n,e),n}function q(e){var t=this,n=new u((function(e,n){t.ready().then((function(){z(t._dbInfo,y,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return c(n,e),n}function V(e,t){var n=this,i=new u((function(t,i){e<0?t(null):n.ready().then((function(){z(n._dbInfo,y,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){i(l.error)}}catch(u){i(u)}}))})).catch(i)}));return c(i,t),i}function H(e){var t=this,n=new u((function(e,n){t.ready().then((function(){z(t._dbInfo,y,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return c(n,e),n}function X(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;if(e.name){var o=e.name===n.name&&r._dbInfo.db?u.resolve(r._dbInfo.db):T(e).then((function(t){var n=m[e.name],i=n.forages;n.db=t;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=t;return t}));i=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;_(e);var i=m[e.name],r=i.forages;t.close();for(var o=0;o<r.length;o++){var s=r[o];s._dbInfo.db=null,s._dbInfo.version=n}var l=new u((function(t,i){var r=a.open(e.name,n);r.onerror=function(e){r.result.close(),i(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(e.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}));return l.then((function(e){i.db=e;for(var t=0;t<r.length;t++){var n=r[t];n._dbInfo.db=e,E(n._dbInfo)}})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}})):o.then((function(t){_(e);var n=m[e.name],i=n.forages;t.close();for(var r=0;r<i.length;r++)i[r]._dbInfo.db=null;var o=new u((function(t,n){var i=a.deleteDatabase(e.name);i.onerror=function(){var e=i.result;e&&e.close(),n(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<i.length;t++)E(i[t]._dbInfo)})).catch((function(t){throw(S(e,t)||u.resolve()).catch((function(){})),t}))}))}else i=u.reject("Invalid arguments");return c(i,t),i}var Y={_driver:"asyncStorage",_initStorage:D,_support:s(),iterate:B,getItem:M,setItem:F,removeItem:U,clear:W,length:q,key:V,keys:H,dropInstance:X};function G(){return"function"===typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="~~local_forage_type~",K=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",J=Q.length,ee="arbf",te="blob",ne="si08",ie="ui08",re="uic8",oe="si16",ae="si32",se="ur16",le="ui32",ue="fl32",ce="fl64",he=J+ee.length,fe=Object.prototype.toString;function de(e){var t,n,i,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=Z.indexOf(e[t]),i=Z.indexOf(e[t+1]),r=Z.indexOf(e[t+2]),o=Z.indexOf(e[t+3]),c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&o;return u}function pe(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=Z[n[t]>>2],i+=Z[(3&n[t])<<4|n[t+1]>>4],i+=Z[(15&n[t+1])<<2|n[t+2]>>6],i+=Z[63&n[t+2]];return n.length%3===2?i=i.substring(0,i.length-1)+"=":n.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}function ve(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var i,r=Q;e instanceof ArrayBuffer?(i=e,r+=ee):(i=e.buffer,"[object Int8Array]"===n?r+=ne:"[object Uint8Array]"===n?r+=ie:"[object Uint8ClampedArray]"===n?r+=re:"[object Int16Array]"===n?r+=oe:"[object Uint16Array]"===n?r+=se:"[object Int32Array]"===n?r+=ae:"[object Uint32Array]"===n?r+=le:"[object Float32Array]"===n?r+=ue:"[object Float64Array]"===n?r+=ce:t(new Error("Failed to get type for BinaryArray"))),t(r+pe(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=$+e.type+"~"+pe(this.result);t(Q+te+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}}function me(e){if(e.substring(0,J)!==Q)return JSON.parse(e);var t,n=e.substring(he),i=e.substring(J,he);if(i===te&&K.test(n)){var r=n.match(K);t=r[1],n=n.substring(r[0].length)}var o=de(n);switch(i){case ee:return o;case te:return l([o],{type:t});case ne:return new Int8Array(o);case ie:return new Uint8Array(o);case re:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case se:return new Uint16Array(o);case ae:return new Int32Array(o);case le:return new Uint32Array(o);case ue:return new Float32Array(o);case ce:return new Float64Array(o);default:throw new Error("Unkown type: "+i)}}var ge={serialize:ve,deserialize:me,stringToBuffer:de,bufferToString:pe};function ye(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function be(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!==typeof e[i]?e[i].toString():e[i];var r=new u((function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(r){return i(r)}n.db.transaction((function(r){ye(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){i(t)}))}),i)}));return n.serializer=ge,r}function we(e,t,n,i,r,o){e.executeSql(n,i,r,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):ye(e,t,(function(){e.executeSql(n,i,r,o)}),o)}),o):o(e,a)}),o)}function ke(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return c(i,t),i}function xe(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),u=l.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=e(u,l.key,s+1)))return void t(u)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return c(i,t),i}function _e(e,t,n,i){var r=this;e=f(e);var o=new u((function(o,a){r.ready().then((function(){void 0===t&&(t=null);var s=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,u){u?a(u):l.db.transaction((function(n){we(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void o(_e.apply(r,[e,s,n,i-1]));a(t)}}))}))})).catch(a)}));return c(o,n),o}function Ee(e,t,n){return _e.apply(this,[e,t,n,1])}function Se(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return c(i,t),i}function Ce(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){we(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Te(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){we(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,n){var i=n.rows.item(0).c;e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Ne(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return c(i,t),i}function Oe(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){we(t,i,"SELECT key FROM "+i.storeName,[],(function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return c(n,e),n}function Re(e){return new u((function(t,n){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Le(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;return c(i=e.name?new u((function(t){var i;i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(Re(i))})).then((function(e){return new u((function(t,n){e.db.transaction((function(i){function r(e){return new u((function(t,n){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(r(e.storeNames[a]));u.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):u.reject("Invalid arguments"),t),i}var Pe={_driver:"webSQLStorage",_initStorage:be,_support:G(),iterate:xe,getItem:ke,setItem:Ee,removeItem:Se,clear:Ce,length:Te,key:Ne,keys:Oe,dropInstance:Le};function Ie(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Ae(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ze(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}function je(){return!ze()||localStorage.length>0}function De(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Ae(e,t._defaultConfig),je()?(t._dbInfo=n,n.serializer=ge,u.resolve()):u.reject()}function Me(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return c(n,e),n}function Be(e,t){var n=this;e=f(e);var i=n.ready().then((function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return c(i,t),i}function Fe(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(i)){var u=localStorage.getItem(l);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,l.substring(r),a++)))return u}}}));return c(i,t),i}function Ue(e,t){var n=this,i=n.ready().then((function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(r){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return c(i,t),i}function We(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&i.push(o.substring(e.keyPrefix.length))}return i}));return c(n,e),n}function qe(e){var t=this.keys().then((function(e){return e.length}));return c(t,e),t}function Ve(e,t){var n=this;e=f(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return c(i,t),i}function He(e,t,n){var i=this;e=f(e);var r=i.ready().then((function(){void 0===t&&(t=null);var n=t;return new u((function(r,o){var a=i._dbInfo;a.serializer.serialize(t,(function(t,i){if(i)o(i);else try{localStorage.setItem(a.keyPrefix+e,t),r(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}}))}))}));return c(r,n),r}function Xe(e,t){if(t=d.apply(this,arguments),!(e="function"!==typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i,r=this;return i=e.name?new u((function(t){e.storeName?t(Ae(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):u.reject("Invalid arguments"),c(i,t),i}var Ye={_driver:"localStorageWrapper",_initStorage:De,_support:Ie(),iterate:Fe,getItem:Be,setItem:He,removeItem:Ve,clear:Me,length:qe,key:Ue,keys:We,dropInstance:Xe},Ge=function(e,t){return e===t||"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var n=e.length,i=0;i<n;){if(Ge(e[i],t))return!0;i++}return!1},$e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ke={},Qe={},Je={INDEXEDDB:Y,WEBSQL:Pe,LOCALSTORAGE:Ye},et=[Je.INDEXEDDB._driver,Je.WEBSQL._driver,Je.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),it={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&($e(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=function(){function e(t){for(var n in r(this,e),Je)if(Je.hasOwnProperty(n)){var i=Je[n],o=i._driver;this[n]=o,Ke[o]||this.defineDriver(i)}this._defaultConfig=ot({},it),this._config=ot({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===("undefined"===typeof e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!==typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"===typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new u((function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var o=nt.concat("_initStorage"),a=0,s=o.length;a<s;a++){var l=o[a];if((!Ze(tt,l)||e[l])&&"function"!==typeof e[l])return void n(r)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=u.reject(t);return c(n,arguments[arguments.length-1]),n}},n=0,i=tt.length;n<i;n++){var r=tt[n];e[r]||(e[r]=t(r))}};h();var f=function(n){Ke[i]&&console.info("Redefining LocalForage driver: "+i),Ke[i]=e,Qe[i]=n,t()};"_support"in e?e._support&&"function"===typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(d){n(d)}}));return h(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=Ke[e]?u.resolve(Ke[e]):u.reject(new Error("Driver not found."));return h(i,t,n),i},e.prototype.getSerializer=function(e){var t=u.resolve(ge);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var i=this;$e(e)||(e=[e]);var r=this._getSupportedDrivers(e);function o(){i._config.driver=i.driver()}function a(e){return i._extend(e),o(),i._ready=i._initStorage(i._config),i._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var r=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var s=new Error("No available storage method found.");return i._driverSet=u.reject(s),i._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=l.then((function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=s(r)}))})).catch((function(){o();var e=new Error("No available storage method found.");return i._driverSet=u.reject(e),i._driverSet})),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Qe[e]},e.prototype._extend=function(e){ot(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)rt(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new at;t.exports=st},{3:3}]},{},[4])(4)},7197:function(e,t,n){var i=n(7009).Symbol;e.exports=i},9066:function(e,t,n){var i=n(7197),r=n(1587),o=n(3581),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},821:function(e,t,n){var i=n(6050),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1032:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},1587:function(e,t,n){var i=n(7197),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(l){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var i=n(1032),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var i=n(8092),r=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,h,f,d,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=u;return l=u=void 0,p=t,h=e.apply(i,n)}function b(e){return p=e,f=setTimeout(k,t),v?y(e):h}function w(e){var n=e-d;return void 0===d||n>=t||n<0||m&&e-p>=c}function k(){var e=r();if(w(e))return x(e);f=setTimeout(k,function(e){var n=t-(e-d);return m?s(n,c-(e-p)):n}(e))}function x(e){return f=void 0,g&&l?y(e):(l=u=void 0,h)}function _(){var e=r(),n=w(e);if(l=arguments,u=this,d=e,n){if(void 0===f)return b(d);if(m)return clearTimeout(f),f=setTimeout(k,t),y(d)}return void 0===f&&(f=setTimeout(k,t)),h}return t=o(t)||0,i(n)&&(v=!!n.leading,c=(m="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=d=u=f=void 0},_.flush=function(){return void 0===f?h:x(r())},_}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var i=n(9066),r=n(3141);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},72:function(e,t,n){var i=n(7009);e.exports=function(){return i.Date.now()}},3038:function(e,t,n){var i=n(8573),r=n(8092);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}},2582:function(e,t,n){var i=n(821),r=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},3594:function(e,t){"use strict";function n(e,t){function n(n){for(var o=t.length-1;o>=0;o--){var a=t[o],s=n.clientX,l=n.clientY;if(n.touches&&n.touches.length&&(s=n.touches[0].clientX,l=n.touches[0].clientY),r(a,e,s,l)){a.dispatchEvent(i(n));break}}}if("iframe"===e.nodeName||"IFRAME"===e.nodeName)try{this.target=e.contentDocument}catch(l){this.target=e}else this.target=e;for(var o=["mouseup","mousedown","click","touchstart"],a=0;a<o.length;a++){var s=o[a];this.target.addEventListener(s,(function(e){return n(e)}),!1)}}function i(e){var t=Object.assign({},e,{bubbles:!1});try{return new MouseEvent(e.type,t)}catch(i){var n=document.createEvent("MouseEvents");return n.initMouseEvent(e.type,!1,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n}}function r(e,t,n,i){var r=t.getBoundingClientRect();function o(e,t,n){var i=e.top-r.top,o=e.left-r.left,a=i+e.height,s=o+e.width;return i<=n&&o<=t&&a>n&&s>t}if(!o(e.getBoundingClientRect(),n,i))return!1;for(var a=e.getClientRects(),s=0,l=a.length;s<l;s++)if(o(a[s],n,i))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.proxyMouse=n,t.clone=i,t.default={proxyMouse:n}},9849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Underline=t.Highlight=t.Mark=t.Pane=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(4350)),a=s(n(3594));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.Pane=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;c(this,e),this.target=t,this.element=o.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),a.default.proxyMouse(this.target,this.marks),this.container=n,this.container.appendChild(this.element),this.render()}return r(e,[{key:"addMark",value:function(e){var t=o.default.createElement("g");return this.element.appendChild(t),e.bind(t,this.container),this.marks.push(e),e.render(),e}},{key:"removeMark",value:function(e){var t=this.marks.indexOf(e);if(-1!==t){var n=e.unbind();this.element.removeChild(n),this.marks.splice(t,1)}}},{key:"render",value:function(){!function(e,t){e.style.setProperty("top",t.top+"px","important"),e.style.setProperty("left",t.left+"px","important"),e.style.setProperty("height",t.height+"px","important"),e.style.setProperty("width",t.width+"px","important")}(this.element,function(e,t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();return{top:i.top-n.top,left:i.left-n.left,height:e.scrollHeight,width:e.scrollWidth}}(this.target,this.container));var e=!0,t=!1,n=void 0;try{for(var i,r=this.marks[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.render()}}catch(o){t=!0,n=o}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}}]),e}();var h=t.Mark=function(){function e(){c(this,e),this.element=null}return r(e,[{key:"bind",value:function(e,t){this.element=e,this.container=t}},{key:"unbind",value:function(){var e=this.element;return this.element=null,e}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(e){this.element&&this.element.dispatchEvent(e)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var e=[],t=this.element.firstChild;t;)e.push(t.getBoundingClientRect()),t=t.nextSibling;return e}},{key:"filteredRanges",value:function(){var e=Array.from(this.range.getClientRects());return e.filter((function(t){for(var n=0;n<e.length;n++){if(e[n]===t)return!0;if(i=e[n],(r=t).right<=i.right&&r.left>=i.left&&r.top>=i.top&&r.bottom<=i.bottom)return!1}var i,r;return!0}))}}]),e}(),f=t.Highlight=function(e){function t(e,n,i,r){c(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.range=e,o.className=n,o.data=i||{},o.attributes=r||{},o}return u(t,e),r(t,[{key:"bind",value:function(e,n){for(var r in i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bind",this).call(this,e,n),this.data)this.data.hasOwnProperty(r)&&(this.element.dataset[r]=this.data[r]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&this.element.setAttribute(r,this.attributes[r]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),i=this.container.getBoundingClientRect(),r=0,a=t.length;r<a;r++){var s=t[r],l=o.default.createElement("rect");l.setAttribute("x",s.left-n.left+i.left),l.setAttribute("y",s.top-n.top+i.top),l.setAttribute("height",s.height),l.setAttribute("width",s.width),e.appendChild(l)}this.element.appendChild(e)}}]),t}(h);t.Underline=function(e){function t(e,n,i,r){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,r))}return u(t,e),r(t,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var e=this.element.ownerDocument.createDocumentFragment(),t=this.filteredRanges(),n=this.element.getBoundingClientRect(),i=this.container.getBoundingClientRect(),r=0,a=t.length;r<a;r++){var s=t[r],l=o.default.createElement("rect");l.setAttribute("x",s.left-n.left+i.left),l.setAttribute("y",s.top-n.top+i.top),l.setAttribute("height",s.height),l.setAttribute("width",s.width),l.setAttribute("fill","none");var u=o.default.createElement("line");u.setAttribute("x1",s.left-n.left+i.left),u.setAttribute("x2",s.left-n.left+i.left+s.width),u.setAttribute("y1",s.top-n.top+i.top+s.height-1),u.setAttribute("y2",s.top-n.top+i.top+s.height-1),u.setAttribute("stroke-width",1),u.setAttribute("stroke","black"),u.setAttribute("stroke-linecap","square"),e.appendChild(l),e.appendChild(u)}this.element.appendChild(e)}}]),t}(f)},4350:function(e,t){"use strict";function n(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createElement=n,t.default={createElement:n}},2650:function(e){"use strict";if(!t)var t={cwd:function(){return"/"}};function n(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+e)}function i(e,t){for(var n,i="",r=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(r===a-1||1===o);else if(r!==a-1&&2===o){if(i.length<2||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){for(var s=i.length-1,l=s;l>=0&&47!==i.charCodeAt(l);--l);if(l!==s){i=-1===l?"":i.slice(0,l),r=a,o=0;continue}}else if(2===i.length||1===i.length){i="",r=a,o=0;continue}t&&(i.length>0?i+="/..":i="..")}else i.length>0?i+="/"+e.slice(r+1,a):i=e.slice(r+1,a);r=a,o=0}else 46===n&&-1!==o?++o:o=-1}return i}var r={resolve:function(){for(var e,r="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var s;a>=0?s=arguments[a]:(void 0===e&&(e=t.cwd()),s=e),n(s),0!==s.length&&(r=s+"/"+r,o=47===s.charCodeAt(0))}return r=i(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=i(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var i=arguments[t];n(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=r.resolve(e))===(t=r.resolve(t)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,u=a<l?a:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===t.charCodeAt(s+h))return t.slice(s+h+1);if(0===h)return t.slice(s+h)}else a>u&&(47===e.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var f=e.charCodeAt(i+h);if(f!==t.charCodeAt(s+h))break;47===f&&(c=h)}var d="";for(h=i+c+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!o){r=a;break}}else o=!1;return-1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');n(e);var i,r=0,o=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(i=e.length-1;i>=0;--i){var u=e.charCodeAt(i);if(47===u){if(!a){r=i+1;break}}else-1===l&&(a=!1,l=i+1),s>=0&&(u===t.charCodeAt(s)?-1===--s&&(o=i):(s=-1,o=l))}return r===o?o=l:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!a){r=i+1;break}}else-1===o&&(a=!1,o=i+1);return-1===o?"":e.slice(r,o)},extname:function(e){n(e);for(var t=-1,i=0,r=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===r&&(o=!1,r=s+1),46===l?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){i=s+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return function(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+e+i:i}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var i,r=e.charCodeAt(0),o=47===r;o?(t.root="/",i=1):i=0;for(var a=-1,s=0,l=-1,u=!0,c=e.length-1,h=0;c>=i;--c)if(47!==(r=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===r?-1===a?a=c:1!==h&&(h=1):-1!==a&&(h=-1);else if(!u){s=c+1;break}return-1===a||-1===l||0===h||1===h&&a===l-1&&a===s+1?-1!==l&&(t.base=t.name=0===s&&o?e.slice(1,l):e.slice(s,l)):(0===s&&o?(t.name=e.slice(1,a),t.base=e.slice(1,l)):(t.name=e.slice(s,a),t.base=e.slice(s,l)),t.ext=e.slice(a,l)),s>0?t.dir=e.slice(0,s-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",posix:null};e.exports=r},888:function(e,t,n){"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var j,D=Object.assign;function M(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){K(e,t);var n=V(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),i=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Se(e){if(e=br(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=kr(t),xe(e.stateNode,e.type,t))}}function Ce(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Oe(){}var Re=!1;function Le(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ne(e,t,n)}finally{Re=!1,(null!==_e||null!==Ee)&&(Oe(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=kr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(c)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){Ie=!1}function ze(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var je=!1,De=null,Me=!1,Be=null,Fe={onError:function(e){je=!0,De=e}};function Ue(e,t,n,i,r,o,a,s,l){je=!1,De=null,ze.apply(Fe,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ve(r),e;if(a===i)return Ve(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ze=r.unstable_shouldYield,$e=r.unstable_requestPaint,Ke=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=ht(s):0!==(o&=a)&&(i=ht(o))}else 0!==(a=n&~r)?i=ht(a):0!==o&&(i=ht(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,_t,Et,St,Ct=!1,Tt=[],Nt=null,Ot=null,Rt=null,Lt=new Map,Pt=new Map,It=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function jt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=yr(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function Bt(e,t,n){Mt(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Nt&&Mt(Nt)&&(Nt=null),null!==Ot&&Mt(Ot)&&(Ot=null),null!==Rt&&Mt(Rt)&&(Rt=null),Lt.forEach(Bt),Pt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Wt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var i=Tt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==Ot&&Ut(Ot,e),null!==Rt&&Ut(Rt,e),Lt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(i=It[n]).blockedOn===e&&(i.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Dt(n),null===n.blockedOn&&It.shift()}var qt=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,i){var r=bt,o=qt.transition;qt.transition=null;try{bt=1,Yt(e,t,n,i)}finally{bt=r,qt.transition=o}}function Xt(e,t,n,i){var r=bt,o=qt.transition;qt.transition=null;try{bt=4,Yt(e,t,n,i)}finally{bt=r,qt.transition=o}}function Yt(e,t,n,i){if(Vt){var r=Zt(e,t,n,i);if(null===r)Vi(e,t,i,Gt,n),zt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Nt=jt(Nt,e,t,n,i,r),!0;case"dragenter":return Ot=jt(Ot,e,t,n,i,r),!0;case"mouseover":return Rt=jt(Rt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Lt.set(o,jt(Lt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Pt.set(o,jt(Pt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(zt(e,i),4&t&&-1<At.indexOf(e)){for(;null!==r;){var o=br(r);if(null!==o&&kt(o),null===(o=Zt(e,t,n,i))&&Vi(e,t,i,Gt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Vi(e,t,i,null,n)}}var Gt=null;function Zt(e,t,n,i){if(Gt=null,null!==(e=yr(e=ke(i))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Kt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,i=n.length,r="value"in Kt?Kt.value:Kt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=D({},un,{view:0,detail:0}),fn=on(hn),dn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(D({},dn,{dataTransfer:0})),mn=on(D({},hn,{relatedTarget:0})),gn=on(D({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(D({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return En}var Cn=D({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Cn),Nn=on(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=on(D({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=D({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Ln),In=[9,13,27,32],An=c&&"CompositionEvent"in window,zn=null;c&&"documentMode"in document&&(zn=document.documentMode);var jn=c&&"TextEvent"in window&&!zn,Dn=c&&(!An||zn&&8<zn&&11>=zn),Mn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,i){Ce(i),0<(t=Xi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Gn(e){Mi(e,0)}function Zn(e){if(Y(wr(e)))return e}function $n(e,t){if("change"===e)return t}var Kn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Qn=Jn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){Xn&&(Xn.detachEvent("onpropertychange",ni),Yn=Xn=null)}function ni(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];Hn(t,Yn,e,ke(e)),Le(Gn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Xn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function oi(e,t){if("click"===e)return Zn(t)}function ai(e,t){if("input"===e||"change"===e)return Zn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fi(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=fi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var a=ci(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,mi=null,gi=null,yi=null,bi=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==G(i)||("selectionStart"in(i=mi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Xi(gi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},_i={},Ei={};function Si(e){if(_i[e])return _i[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return _i[e]=n[t];return e}c&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var Ci=Si("animationend"),Ti=Si("animationiteration"),Ni=Si("animationstart"),Oi=Si("transitionend"),Ri=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Ri.set(e,t),l(t,[e])}for(var Ii=0;Ii<Li.length;Ii++){var Ai=Li[Ii];Pi(Ai.toLowerCase(),"on"+(Ai[0].toUpperCase()+Ai.slice(1)))}Pi(Ci,"onAnimationEnd"),Pi(Ti,"onAnimationIteration"),Pi(Ni,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Oi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ji=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Di(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,u){if(Ue.apply(this,arguments),je){if(!je)throw Error(o(198));var c=De;je=!1,De=null,Me||(Me=!0,Be=c)}}(i,t,void 0,e),e.currentTarget=null}function Mi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Di(r,s,u),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Di(r,s,u),o=l}}}if(Me)throw e=Be,Me=!1,Be=null,e}function Bi(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function Fi(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Ui]){e[Ui]=!0,a.forEach((function(t){"selectionchange"!==t&&(ji.has(t)||Fi(t,!1,e),Fi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Fi("selectionchange",!1,t))}}function qi(e,t,n,i){switch($t(t)){case 1:var r=Ht;break;case 4:r=Xt;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Vi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Le((function(){var i=o,r=ke(n),a=[];e:{var s=Ri.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Ci:case Ti:case Ni:l=gn;break;case Oi:l=Rn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=i;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Pe(p,f))&&c.push(Hi(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:wr(l),d=null==u?s:wr(u),(s=new c(v,p+"leave",l,n,r)).target=h,s.relatedTarget=d,v=null,yr(r)===i&&((c=new c(f,p+"enter",u,n,r)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Yi(d))p++;for(d=0,v=f;v;v=Yi(v))d++;for(;0<p-d;)c=Yi(c),p--;for(;0<d-p;)f=Yi(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Yi(c),f=Yi(f)}c=null}else c=null;null!==l&&Gi(a,s,l,c,!1),null!==u&&null!==h&&Gi(a,h,u,c,!0)}if("select"===(l=(s=i?wr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=$n;else if(Vn(s))if(Kn)m=ai;else{m=ri;var g=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=oi);switch(m&&(m=m(e,i))?Hn(a,m,n,r):(g&&g(e,s,i),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=i?wr(i):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mi=g,gi=i,yi=null);break;case"focusout":yi=gi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(a,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":wi(a,n,r)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=en()):(Qt="value"in(Kt=r)?Kt.value:Kt.textContent,Wn=!0)),0<(g=Xi(i,b)).length&&(b=new wn(b,e,null,n,r),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Jt=Qt=Kt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Xi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Mi(a,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Pe(e,n))&&i.unshift(Hi(e,o,r)),null!=(o=Pe(e,t))&&i.push(Hi(e,o,r))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Pe(n,o))&&a.unshift(Hi(n,l,s)):r||null!=(l=Pe(n,o))&&a.push(Hi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zi=/\r\n?/g,$i=/\u0000|\uFFFD/g;function Ki(e){return("string"===typeof e?e:""+e).replace(Zi,"\n").replace($i,"")}function Qi(e,t,n){if(t=Ki(t),Ki(e)!==t&&n)throw Error(o(425))}function Ji(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Wt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Wt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,mr="__reactListeners$"+hr,gr="__reactHandles$"+hr;function yr(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[fr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[fr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function kr(e){return e[dr]||null}var xr=[],_r=-1;function Er(e){return{current:e}}function Sr(e){0>_r||(e.current=xr[_r],xr[_r]=null,_r--)}function Cr(e,t){_r++,xr[_r]=e.current,e.current=t}var Tr={},Nr=Er(Tr),Or=Er(!1),Rr=Tr;function Lr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ir(){Sr(Or),Sr(Nr)}function Ar(e,t,n){if(Nr.current!==Tr)throw Error(o(168));Cr(Nr,t),Cr(Or,n)}function zr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,q(e)||"Unknown",r));return D({},n,i)}function jr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Rr=Nr.current,Cr(Nr,e),Cr(Or,Or.current),!0}function Dr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=zr(e,t,Rr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Or),Sr(Nr),Cr(Nr,e)):Sr(Or),Cr(Or,n)}var Mr=null,Br=!1,Fr=!1;function Ur(e){null===Mr?Mr=[e]:Mr.push(e)}function Wr(){if(!Fr&&null!==Mr){Fr=!0;var e=0,t=bt;try{var n=Mr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Mr=null,Br=!1}catch(r){throw null!==Mr&&(Mr=Mr.slice(e+1)),Ye(Je,Wr),r}finally{bt=t,Fr=!1}}return null}var qr=w.ReactCurrentBatchConfig;function Vr(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hr=Er(null),Xr=null,Yr=null,Gr=null;function Zr(){Gr=Yr=Xr=null}function $r(e){var t=Hr.current;Sr(Hr),e._currentValue=t}function Kr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Qr(e,t){Xr=e,Gr=Yr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(Gr!==e)if(e={context:e,memoizedValue:t,next:null},null===Yr){if(null===Xr)throw Error(o(308));Yr=e,Xr.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tu(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function so(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,i){var r=e.updateQueue;to=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(a=0,c=u=l=null,s=o;;){var f=s.lane,d=s.eventTime;if((i&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=D({},h,f);break e;case 2:to=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=h}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var co=(new i.Component).refs;function ho(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kl(),r=Ql(e),o=ro(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Jl(e,r,i))&&ao(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kl(),r=Ql(e),o=ro(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Jl(e,r,i))&&ao(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kl(),i=Ql(e),r=ro(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),oo(e,r),null!==(t=Jl(e,i,n))&&ao(t,e,i)}};function po(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function vo(e,t,n){var i=!1,r=Tr,o=t.contextType;return"object"===typeof o&&null!==o?o=Jr(o):(r=Pr(t)?Rr:Nr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Lr(e,r):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=co,no(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Jr(o):(o=Pr(t)?Rr:Nr.current,r.context=Lr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&fo.enqueueReplaceState(r,r.state,null),lo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}var yo=[],bo=0,wo=null,ko=0,xo=[],_o=0,Eo=null,So=1,Co="";function To(e,t){yo[bo++]=ko,yo[bo++]=wo,wo=e,ko=t}function No(e,t,n){xo[_o++]=So,xo[_o++]=Co,xo[_o++]=Eo,Eo=e;var i=So;e=Co;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,So=1<<32-at(t)+r|n<<r|i,Co=o+e}else So=1<<o|n<<r|i,Co=e}function Oo(e){null!==e.return&&(To(e,1),No(e,1,0))}function Ro(e){for(;e===wo;)wo=yo[--bo],yo[bo]=null,ko=yo[--bo],yo[bo]=null;for(;e===Eo;)Eo=xo[--_o],xo[_o]=null,Co=xo[--_o],xo[_o]=null,So=xo[--_o],xo[_o]=null}var Lo=null,Po=null,Io=!1,Ao=null;function zo(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Lo=e,Po=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Lo=e,Po=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Eo?{id:So,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Lo=e,Po=null,!0);default:return!1}}function Do(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Mo(e){if(Io){var t=Po;if(t){var n=t;if(!jo(e,t)){if(Do(e))throw Error(o(418));t=ur(n.nextSibling);var i=Lo;t&&jo(e,t)?zo(i,n):(e.flags=-4097&e.flags|2,Io=!1,Lo=e)}}else{if(Do(e))throw Error(o(418));e.flags=-4097&e.flags|2,Io=!1,Lo=e}}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Lo=e}function Fo(e){if(e!==Lo)return!1;if(!Io)return Bo(e),Io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=Po)){if(Do(e)){for(e=Po;e;)e=ur(e.nextSibling);throw Error(o(418))}for(;t;)zo(e,t),t=ur(t.nextSibling)}if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Po=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Po=null}}else Po=Lo?ur(e.stateNode.nextSibling):null;return!0}function Uo(){Po=Lo=null,Io=!1}function Wo(e){null===Ao?Ao=[e]:Ao.push(e)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===co&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ho(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=ju(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===_?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Ho(o)===t.type)?((i=r(t,n.props)).ref=qo(e,t,n),i.return=e,i):((i=Iu(n.type,n.key,n.props,null,e.mode,i)).ref=qo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Du(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Au(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case x:return(t=Du(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=Au(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?u(e,t,n,i):null;case x:return n.key===r?c(e,t,n,i):null;case P:return d(e,t,(r=n._init)(n._payload),i)}if(te(n)||z(n))return null!==r?null:h(e,t,n,i,null);Vo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||z(i))return h(t,e=e.get(n)||null,i,r,null);Vo(t,i)}return null}function v(r,o,s,l){for(var u=null,c=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(r,h,s[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(r,h),o=a(g,o,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(r,h),Io&&To(r,v),u;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],l))&&(o=a(h,o,v),null===c?u=h:c.sibling=h,c=h);return Io&&To(r,v),u}for(h=i(r,h);v<s.length;v++)null!==(m=p(h,r,v,s[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(r,e)})),Io&&To(r,v),u}function m(r,s,l,u){var c=z(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(r,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(r,v),s=a(b,s,m),null===h?c=b:h.sibling=b,h=b,v=g}if(y.done)return n(r,v),Io&&To(r,m),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=f(r,y.value,u))&&(s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return Io&&To(r,m),c}for(v=i(r,v);!y.done;m++,y=l.next())null!==(y=p(v,r,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(r,e)})),Io&&To(r,m),c}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===_){if(7===c.tag){n(i,c.sibling),(o=r(c,a.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Ho(u)===c.type){n(i,c.sibling),(o=r(c,a.props)).ref=qo(i,c,a),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}a.type===_?((o=Au(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Iu(a.type,a.key,a.props,null,i.mode,l)).ref=qo(i,o,a),l.return=i,i=l)}return s(i);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Du(a,i.mode,l)).return=i,i=o}return s(i);case P:return e(i,o,(c=a._init)(a._payload),l)}if(te(a))return v(i,o,a,l);if(z(a))return m(i,o,a,l);Vo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=ju(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Yo=Xo(!0),Go=Xo(!1),Zo={},$o=Er(Zo),Ko=Er(Zo),Qo=Er(Zo);function Jo(e){if(e===Zo)throw Error(o(174));return e}function ea(e,t){switch(Cr(Qo,t),Cr(Ko,e),Cr($o,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr($o),Cr($o,t)}function ta(){Sr($o),Sr(Ko),Sr(Qo)}function na(e){Jo(Qo.current);var t=Jo($o.current),n=le(t,e.type);t!==n&&(Cr(Ko,e),Cr($o,n))}function ia(e){Ko.current===e&&(Sr($o),Sr(Ko))}var ra=Er(0);function oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function sa(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var la=w.ReactCurrentDispatcher,ua=w.ReactCurrentBatchConfig,ca=0,ha=null,fa=null,da=null,pa=!1,va=!1,ma=0,ga=0;function ya(){throw Error(o(321))}function ba(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function wa(e,t,n,i,r,a){if(ca=a,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=null===e||null===e.memoizedState?is:rs,e=n(i,r),va){a=0;do{if(va=!1,ma=0,25<=a)throw Error(o(301));a+=1,da=fa=null,t.updateQueue=null,la.current=os,e=n(i,r)}while(va)}if(la.current=ns,t=null!==fa&&null!==fa.next,ca=0,da=fa=ha=null,pa=!1,t)throw Error(o(300));return e}function ka(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ha.memoizedState=da=e:da=da.next=e,da}function _a(){if(null===fa){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===da?ha.memoizedState:da.next;if(null!==t)da=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===da?ha.memoizedState=da=e:da=da.next=e}return da}function Ea(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=fa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((ca&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=i):u=u.next=f,ha.lanes|=h,Il|=h}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,si(i,t.memoizedState)||(ks=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,ha.lanes|=a,Il|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(ks=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ta(){}function Na(e,t){var n=ha,i=_a(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,ks=!0),i=i.queue,Ba(La.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Aa(9,Ra.bind(null,n,i,r,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&ca)||Oa(n,t,r)}return r}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,i){t.value=n,t.getSnapshot=i,Pa(t)&&Jl(e,1,-1)}function La(e,t,n){return n((function(){Pa(t)&&Jl(e,1,-1)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Ia(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,ha,e),[t.memoizedState,e]}function Aa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function za(){return _a().memoizedState}function ja(e,t,n,i){var r=xa();ha.flags|=e,r.memoizedState=Aa(1|t,n,void 0,void 0===i?null:i)}function Da(e,t,n,i){var r=_a();i=void 0===i?null:i;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==i&&ba(i,a.deps))return void(r.memoizedState=Aa(t,n,o,i))}ha.flags|=e,r.memoizedState=Aa(1|t,n,o,i)}function Ma(e,t){return ja(8390656,8,e,t)}function Ba(e,t){return Da(2048,8,e,t)}function Fa(e,t){return Da(4,2,e,t)}function Ua(e,t){return Da(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Wa.bind(null,t,e),n)}function Va(){}function Ha(e,t){var n=_a();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ba(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=_a();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ba(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ya(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(si(n,t)||(n=vt(),ha.lanes|=n,Il|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=ua.transition;ua.transition={};try{e(!1),t()}finally{bt=n,ua.transition=i}}function Za(){return _a().memoizedState}function $a(e,t,n){var i=Ql(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Ja(t,n):(es(e,t,n),null!==(e=Jl(e,i,n=Kl()))&&ts(e,t,i))}function Ka(e,t,n){var i=Ql(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ja(t,r);else{es(e,t,r);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a))return}catch(l){}null!==(e=Jl(e,i,n=Kl()))&&ts(e,t,i)}}function Qa(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function Ja(e,t){va=pa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tu(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Jr,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},is={readContext:Jr,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Jr,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=xa();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=$a.bind(null,ha,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ia,useDebugValue:Va,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ga.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ha,r=xa();if(Io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cl)throw Error(o(349));0!==(30&ca)||Oa(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ma(La.bind(null,i,a,e),[e]),i.flags|=2048,Aa(9,Ra.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Cl.identifierPrefix;if(Io){var n=Co;t=":"+t+"R"+(n=(So&~(1<<32-at(So)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rs={readContext:Jr,useCallback:Ha,useContext:Jr,useEffect:Ba,useImperativeHandle:qa,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Xa,useReducer:Sa,useRef:za,useState:function(){return Sa(Ea)},useDebugValue:Va,useDeferredValue:function(e){return Ya(_a(),fa.memoizedState,e)},useTransition:function(){return[Sa(Ea)[0],_a().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Na,useId:Za,unstable_isNewReconciler:!1},os={readContext:Jr,useCallback:Ha,useContext:Jr,useEffect:Ba,useImperativeHandle:qa,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Xa,useReducer:Ca,useRef:za,useState:function(){return Ca(Ea)},useDebugValue:Va,useDeferredValue:function(e){var t=_a();return null===fa?t.memoizedState=e:Ya(t,fa.memoizedState,e)},useTransition:function(){return[Ca(Ea)[0],_a().memoizedState]},useMutableSource:Ta,useSyncExternalStore:Na,useId:Za,unstable_isNewReconciler:!1};function as(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls,us,cs,hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ro(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ul||(Ul=!0,Wl=i),ss(0,t)},n}function ds(e,t,n){(n=ro(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ro(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function gs(e,t){if(!Io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function bs(e,t,n){var i=t.pendingProps;switch(Ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Pr(t.type)&&Ir(),ys(t),null;case 3:return i=t.stateNode,ta(),Sr(Or),Sr(Nr),sa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ao&&(ou(Ao),Ao=null))),ys(t),null;case 5:ia(t);var r=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)us(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return ys(t),null}if(e=Jo($o.current),Fo(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[fr]=t,i[dr]=a,e=0!==(1&t.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(r=0;r<zi.length;r++)Bi(zi[r],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":$(i,a),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Bi("invalid",i);break;case"textarea":re(i,a),Bi("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qi(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":X(i),J(i,a,!0);break;case"textarea":X(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Ji)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[fr]=t,e[dr]=i,ls(e,t),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Bi("cancel",e),Bi("close",e),r=i;break;case"iframe":case"object":case"embed":Bi("load",e),r=i;break;case"video":case"audio":for(r=0;r<zi.length;r++)Bi(zi[r],e);r=i;break;case"source":Bi("error",e),r=i;break;case"img":case"image":case"link":Bi("error",e),Bi("load",e),r=i;break;case"details":Bi("toggle",e),r=i;break;case"input":$(e,i),r=Z(e,i),Bi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=D({},i,{value:void 0}),Bi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Bi("invalid",e)}for(a in ye(n,r),u=r)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?me(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Bi("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":X(e),J(e,i,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo($o.current),Fo(t)){if(i=t.stateNode,n=t.memoizedProps,i[fr]=t,(a=i.nodeValue!==n)&&null!==(e=Lo))switch(e.tag){case 3:Qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qi(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=t,t.stateNode=i}return ys(t),null;case 13:if(Sr(ra),i=t.memoizedState,Io&&null!==Po&&0!==(1&t.mode)&&0===(128&t.flags)){for(i=Po;i;)i=ur(i.nextSibling);return Uo(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=Fo(t),null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fr]=t}else Uo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Ao&&(ou(Ao),Ao=null),0!==(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Fo(t):n=null!==e.memoizedState,i!==n&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ra.current)?0===Ll&&(Ll=3):pu())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return ta(),null===e&&Wi(t.stateNode.containerInfo),ys(t),null;case 10:return $r(t.type._context),ys(t),null;case 19:if(Sr(ra),null===(a=t.memoizedState))return ys(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)gs(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=oa(e))){for(t.flags|=128,gs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(ra,1&ra.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Bl&&(t.flags|=128,i=!0,gs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=oa(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!Io)return ys(t),null}else 2*Ke()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,i=!0,gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=ra.current,Cr(ra,i?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return cu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},us=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Jo($o.current);var o,a=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),a=[];break;case"select":r=D({},r,{value:void 0}),i=D({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Bi("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,i){n!==i&&(t.flags|=4)};var ws=w.ReactCurrentOwner,ks=!1;function xs(e,t,n,i){t.child=null===e?Go(t,null,n,i):Yo(t,e.child,n,i)}function _s(e,t,n,i,r){n=n.render;var o=t.ref;return Qr(t,r),i=wa(e,t,n,i,o,r),n=ka(),null===e||ks?(Io&&n&&Oo(t),t.flags|=1,xs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vs(e,t,r))}function Es(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Lu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Vs(e,t,r)}return t.flags|=1,(e=Pu(o,i)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(ks=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Vs(e,t,r);0!==(131072&e.flags)&&(ks=!0)}}return Ns(e,t,n,i,r)}function Cs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Cr(Rl,Ol),Ol|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Cr(Rl,Ol),Ol|=i;return xs(e,t,r,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,i,r){var o=Pr(n)?Rr:Nr.current;return o=Lr(t,o),Qr(t,r),n=wa(e,t,n,i,o,r),i=ka(),null===e||ks?(Io&&i&&Oo(t),t.flags|=1,xs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vs(e,t,r))}function Os(e,t,n,i,r){if(Pr(n)){var o=!0;jr(t)}else o=!1;if(Qr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,i),go(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Jr(u):u=Lr(t,u=Pr(n)?Rr:Nr.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&mo(t,a,i,u),to=!1;var f=t.memoizedState;a.state=f,lo(t,i,a,r),l=t.memoizedState,s!==i||f!==l||Or.current||to?("function"===typeof c&&(ho(t,n,c,i),l=t.memoizedState),(s=to||po(t,n,s,i,f,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,io(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Vr(t.type,s),a.props=u,h=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Jr(l):l=Lr(t,l=Pr(n)?Rr:Nr.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==l)&&mo(t,a,i,l),to=!1,f=t.memoizedState,a.state=f,lo(t,i,a,r);var p=t.memoizedState;s!==h||f!==p||Or.current||to?("function"===typeof d&&(ho(t,n,d,i),p=t.memoizedState),(u=to||po(t,n,u,i,f,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return Rs(e,t,n,i,o,r)}function Rs(e,t,n,i,r,o){Ts(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Dr(t,n,!1),Vs(e,t,o);i=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=i.state,r&&Dr(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Ar(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ar(0,t.context,!1),ea(e,t.containerInfo)}function Ps(e,t,n,i,r){return Uo(),Wo(r),t.flags|=256,xs(e,t,n,i),t.child}var Is={dehydrated:null,treeContext:null,retryLane:0};function As(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function js(e,t,n){var i,r=t.pendingProps,a=ra.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cr(ra,1&a),null===e)return Mo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=zu(a,r,0,null),e=Au(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=As(n),t.memoizedState=Is,e):Ds(t,a));if(null!==(a=e.memoizedState)){if(null!==(i=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Fs(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=zu({mode:"visible",children:r.children},a,0,null),(s=Au(s,a,n,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,n),t.child.memoizedState=As(n),t.memoizedState=Is,s);if(0===(1&t.mode))t=Fs(e,t,n,null);else if("$!"===i.data)t=Fs(e,t,n,Error(o(419)));else if(r=0!==(n&e.childLanes),ks||r){if(null!==(r=Cl)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(r=0!==(s&(r.suspendedLanes|n))?0:s)&&r!==a.retryLane&&(a.retryLane=r,Jl(e,r,-1))}pu(),t=Fs(e,t,n,Error(o(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,t=null):(n=a.treeContext,Po=ur(i.nextSibling),Lo=t,Io=!0,Ao=null,null!==n&&(xo[_o++]=So,xo[_o++]=Co,xo[_o++]=Eo,So=n.id,Co=n.overflow,Eo=t),(t=Ds(t,t.pendingProps.children)).flags|=4096);return t}return s?(r=Bs(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?As(n):zs(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Is,r):(n=Ms(e,t,r.children,n),t.memoizedState=null,n)}return s?(r=Bs(e,t,r.children,r.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?As(n):zs(a,n),s.childLanes=e.childLanes&~n,t.memoizedState=Is,r):(n=Ms(e,t,r.children,n),t.memoizedState=null,n)}function Ds(e,t){return(t=zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,i){var r=e.child;return e=r.sibling,n=Pu(r,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Bs(e,t,n,i,r){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Pu(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?i=Pu(a,i):(i=Au(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Fs(e,t,n,i){return null!==i&&Wo(i),Yo(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Kr(e.return,t,n)}function Ws(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function qs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(xs(e,t,i.children,n),0!==(2&(i=ra.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Cr(ra,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===oa(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ws(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===oa(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ws(t,!0,n,null,o);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){switch(Ro(t),t.tag){case 1:return Pr(t.type)&&Ir(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ta(),Sr(Or),Sr(Nr),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(Sr(ra),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Uo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(ra),null;case 4:return ta(),null;case 10:return $r(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}var Xs=!1,Ys=!1,Gs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){_u(e,t,i)}else n.current=null}function Ks(e,t,n){try{n()}catch(i){_u(e,t,i)}}var Qs=!1;function Js(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&Ks(t,n,o)}r=r.next}while(r!==i)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[dr],delete t[vr],delete t[mr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function al(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}var sl=null,ll=!1;function ul(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ys||$s(n,t);case 6:var i=sl,r=ll;sl=null,ul(e,t,n),ll=r,null!==(sl=i)&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sl.removeChild(n.stateNode));break;case 18:null!==sl&&(ll?(e=sl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Wt(e)):lr(sl,n.stateNode));break;case 4:i=sl,r=ll,sl=n.stateNode.containerInfo,ll=!0,ul(e,t,n),sl=i,ll=r;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Ks(n,t,a),r=r.next}while(r!==i)}ul(e,t,n);break;case 1:if(!Ys&&($s(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){_u(n,t,s)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ys=(i=Ys)||null!==n.memoizedState,ul(e,t,n),Ys=i):ul(e,t,n);break;default:ul(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gs),t.forEach((function(t){var i=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:sl=l.stateNode,ll=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===sl)throw Error(o(160));cl(a,s,r),sl=null,ll=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){_u(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)dl(t,e),t=t.sibling}function dl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),pl(e),4&i){try{Js(3,e,e.return),el(3,e)}catch(v){_u(e,e.return,v)}try{Js(5,e,e.return)}catch(v){_u(e,e.return,v)}}break;case 1:fl(t,e),pl(e),512&i&&null!==n&&$s(n,n.return);break;case 5:if(fl(t,e),pl(e),512&i&&null!==n&&$s(n,n.return),32&e.flags){var r=e.stateNode;try{fe(r,"")}catch(v){_u(e,e.return,v)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&K(r,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];"style"===h?me(r,f):"dangerouslySetInnerHTML"===h?he(r,f):"children"===h?fe(r,f):b(r,h,f,c)}switch(l){case"input":Q(r,a);break;case"textarea":oe(r,a);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[dr]=a}catch(v){_u(e,e.return,v)}}break;case 6:if(fl(t,e),pl(e),4&i){if(null===e.stateNode)throw Error(o(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(v){_u(e,e.return,v)}}break;case 3:if(fl(t,e),pl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(v){_u(e,e.return,v)}break;case 4:default:fl(t,e),pl(e);break;case 13:fl(t,e),pl(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Ml=Ke()),4&i&&hl(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(h=Ys)||c,fl(t,e),Ys=h):fl(t,e),pl(e),8192&i){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{r=d.stateNode,h?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(v){_u(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){_u(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!c&&0!==(1&e.mode))for(Zs=e,e=e.child;null!==e;){for(c=Zs=e;null!==Zs;){switch(f=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:Js(4,h,h.return);break;case 1:if($s(h,h.return),"function"===typeof(a=h.stateNode).componentWillUnmount){d=h,p=h.return;try{r=d,a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(v){_u(d,p,v)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){yl(c);continue}}null!==f?(f.return=h,Zs=f):yl(c)}e=e.sibling}}break;case 19:fl(t,e),pl(e),4&i&&hl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(fe(r,""),i.flags&=-33),al(e,rl(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ol(e,rl(e),a);break;default:throw Error(o(161))}}catch(s){_u(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zs=e,ml(e,t,n)}function ml(e,t,n){for(var i=0!==(1&e.mode);null!==Zs;){var r=Zs,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Xs;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=a,(Ys=l)&&!u)for(Zs=r;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?bl(r):null!==l?(l.return=a,Zs=l):bl(r);for(;null!==o;)Zs=o,ml(o,t,n),o=o.sibling;Zs=r,Xs=s,Ys=u}gl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Zs=o):gl(e)}}function gl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||el(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ys)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Vr(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&uo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Wt(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&tl(t)}catch(d){_u(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function yl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function bl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){_u(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){_u(t,r,l)}}var o=t.return;try{tl(t)}catch(l){_u(t,o,l)}break;case 5:var a=t.return;try{tl(t)}catch(l){_u(t,a,l)}}}catch(l){_u(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var wl,kl=Math.ceil,xl=w.ReactCurrentDispatcher,_l=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Sl=0,Cl=null,Tl=null,Nl=0,Ol=0,Rl=Er(0),Ll=0,Pl=null,Il=0,Al=0,zl=0,jl=null,Dl=null,Ml=0,Bl=1/0,Fl=null,Ul=!1,Wl=null,ql=null,Vl=!1,Hl=null,Xl=0,Yl=0,Gl=null,Zl=-1,$l=0;function Kl(){return 0!==(6&Sl)?Ke():-1!==Zl?Zl:Zl=Ke()}function Ql(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Nl?Nl&-Nl:null!==qr.transition?(0===$l&&($l=vt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Jl(e,t,n){if(50<Yl)throw Yl=0,Gl=null,Error(o(185));var i=eu(e,t);return null===i?null:(gt(i,t,n),0!==(2&Sl)&&i===Cl||(i===Cl&&(0===(2&Sl)&&(Al|=t),4===Ll&&au(i,Nl)),nu(i,n),1===t&&0===Sl&&0===(1&e.mode)&&(Bl=Ke()+500,Br&&Wr())),i)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tu(e){return(null!==Cl||null!==eo)&&0!==(1&e.mode)&&0===(2&Sl)}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ft(e,e===Cl?Nl:0);if(0===i)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Br=!0,Ur(e)}(su.bind(null,e)):Ur(su.bind(null,e)),ar((function(){0===Sl&&Wr()})),n=null;else{switch(wt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Zl=-1,$l=0,0!==(6&Sl))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var i=ft(e,e===Cl?Nl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vu(e,i);else{t=i;var r=Sl;Sl|=2;var a=du();for(Cl===e&&Nl===t||(Fl=null,Bl=Ke()+500,hu(e,t));;)try{gu();break}catch(l){fu(e,l)}Zr(),xl.current=a,Sl=r,null!==Tl?t=0:(Cl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=ru(e,r))),1===t)throw n=Pl,hu(e,0),au(e,i),nu(e,Ke()),n;if(6===t)au(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vu(e,i))&&(0!==(a=pt(e))&&(i=a,t=ru(e,a))),1===t))throw n=Pl,hu(e,0),au(e,i),nu(e,Ke()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,Dl,Fl);break;case 3:if(au(e,i),(130023424&i)===i&&10<(t=Ml+500-Ke())){if(0!==ft(e,0))break;if(((r=e.suspendedLanes)&i)!==i){Kl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wu.bind(null,e,Dl,Fl),t);break}wu(e,Dl,Fl);break;case 4:if(au(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Ke()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(wu.bind(null,e,Dl,Fl),i);break}wu(e,Dl,Fl);break;default:throw Error(o(329))}}}return nu(e,Ke()),e.callbackNode===n?iu.bind(null,e):null}function ru(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Dl,Dl=n,null!==t&&ou(t)),e}function ou(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function au(e,t){for(t&=~zl,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function su(e){if(0!==(6&Sl))throw Error(o(327));ku();var t=ft(e,0);if(0===(1&t))return nu(e,Ke()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=ru(e,i))}if(1===n)throw n=Pl,hu(e,0),au(e,t),nu(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Dl,Fl),nu(e,Ke()),null}function lu(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(Bl=Ke()+500,Br&&Wr())}}function uu(e){null!==Hl&&0===Hl.tag&&0===(6&Sl)&&ku();var t=Sl;Sl|=1;var n=El.transition,i=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=i,El.transition=n,0===(6&(Sl=t))&&Wr()}}function cu(){Ol=Rl.current,Sr(Rl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Tl)for(n=Tl.return;null!==n;){var i=n;switch(Ro(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ir();break;case 3:ta(),Sr(Or),Sr(Nr),sa();break;case 5:ia(i);break;case 4:ta();break;case 13:case 19:Sr(ra);break;case 10:$r(i.type._context);break;case 22:case 23:cu()}n=n.return}if(Cl=e,Tl=e=Pu(e.current,null),Nl=Ol=t,Ll=0,Pl=null,zl=Al=Il=0,Dl=jl=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(i=(n=eo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}eo=null}return e}function fu(e,t){for(;;){var n=Tl;try{if(Zr(),la.current=ns,pa){for(var i=ha.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}pa=!1}if(ca=0,da=fa=ha=null,va=!1,ma=0,_l.current=null,null===n||null===n.return){Ll=1,Pl=t,Tl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&ps(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ps(a,c,t),pu();break e}u=Error(o(426))}else if(Io&&1&l.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,l,0,t),Wo(u);break e}}a=u,4!==Ll&&(Ll=2),null===jl?jl=[a]:jl.push(a),u=as(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,so(l,fs(0,u,t));break e;case 1:a=u;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,so(l,ds(l,a,t));break e}}l=l.return}while(null!==l)}bu(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function du(){var e=xl.current;return xl.current=ns,null===e?ns:e}function pu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Cl||0===(268435455&Il)&&0===(268435455&Al)||au(Cl,Nl)}function vu(e,t){var n=Sl;Sl|=2;var i=du();for(Cl===e&&Nl===t||(Fl=null,hu(e,t));;)try{mu();break}catch(r){fu(e,r)}if(Zr(),Sl=n,xl.current=i,null!==Tl)throw Error(o(261));return Cl=null,Nl=0,Ll}function mu(){for(;null!==Tl;)yu(Tl)}function gu(){for(;null!==Tl&&!Ze();)yu(Tl)}function yu(e){var t=wl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bu(e):Tl=t,_l.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,Ol)))return void(Tl=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wu(e,t,n){var i=bt,r=El.transition;try{El.transition=null,bt=1,function(e,t,n,i){do{ku()}while(null!==Hl);if(0!==(6&Sl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Cl&&(Tl=Cl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vl||(Vl=!0,Nu(tt,(function(){return ku(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var s=bt;bt=1;var l=Sl;Sl|=4,_l.current=null,function(e,t){if(er=Vt,di(e=fi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(l=s+r),f!==a||0!==i&&3!==f.nodeType||(u=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===r&&(l=s),d===a&&++h===i&&(u=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Vt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Vr(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var k=w.body;null!=k&&(k.textContent="")}break;default:throw Error(o(163))}}catch(x){_u(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=Qs,Qs=!1}(e,n),dl(n,e),pi(tr),Vt=!!er,tr=er=null,e.current=n,vl(n,e,r),$e(),Sl=l,bt=s,El.transition=a}else e.current=n;if(Vl&&(Vl=!1,Hl=e,Xl=r),0===(a=e.pendingLanes)&&(ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nu(e,Ke()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i(t[n]);if(Ul)throw Ul=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&ku(),0!==(1&(a=e.pendingLanes))?e===Gl?Yl++:(Yl=0,Gl=e):Yl=0,Wr()}(e,t,n,i)}finally{El.transition=r,bt=i}return null}function ku(){if(null!==Hl){var e=wt(Xl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Hl)var i=!1;else{if(e=Hl,Hl=null,Xl=0,0!==(6&Sl))throw Error(o(331));var r=Sl;for(Sl|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zs=c;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:Js(8,h,a)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(nl(h),h===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:Js(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(x){_u(l,l.return,x)}if(l===s){Zs=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Zs=k;break e}Zs=l.return}}if(Sl=r,Wr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{bt=n,El.transition=t}}return!1}function xu(e,t,n){oo(e,t=fs(0,t=as(n,t),1)),t=Kl(),null!==(e=eu(e,1))&&(gt(e,1,t),nu(e,t))}function _u(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){oo(t,e=ds(t,e=as(n,e),1)),e=Kl(),null!==(t=eu(t,1))&&(gt(t,1,e),nu(t,e));break}}t=t.return}}function Eu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Kl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Ke()-Ml?hu(e,0):zl|=n),nu(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Kl();null!==(e=eu(e,t))&&(gt(e,t,n),nu(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Su(e,n)}function Nu(e,t){return Ye(e,t)}function Ou(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,i){return new Ou(e,t,n,i)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Au(n.children,r,a,t);case E:s=8,r|=8;break;case S:return(e=Ru(12,n,t,2|r)).elementType=S,e.lanes=a,e;case O:return(e=Ru(13,n,t,r)).elementType=O,e.lanes=a,e;case R:return(e=Ru(19,n,t,r)).elementType=R,e.lanes=a,e;case I:return zu(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case N:s=11;break e;case L:s=14;break e;case P:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Au(e,t,n,i){return(e=Ru(7,e,i,t)).lanes=n,e}function zu(e,t,n,i){return(e=Ru(22,e,i,t)).elementType=I,e.lanes=n,e.stateNode={},e}function ju(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Du(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,i,r,o,a,s,l){return e=new Mu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function Fu(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return Tr;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pr(n))return zr(e,n,t)}return t}function Wu(e,t,n,i,r,o,a,s,l){return(e=Bu(n,i,!0,e,0,o,0,s,l)).context=Uu(null),n=e.current,(o=ro(i=Kl(),r=Ql(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=r,gt(e,r,i),nu(e,i),e}function qu(e,t,n,i){var r=t.current,o=Kl(),a=Ql(r);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ro(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),oo(r,t),null!==(e=Jl(r,a,o))&&ao(e,r,a),a}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Or.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),Uo();break;case 5:na(t);break;case 1:Pr(t.type)&&jr(t);break;case 4:ea(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Cr(Hr,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Cr(ra,1&ra.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Cr(ra,1&ra.current),null!==(e=Vs(e,t,n))?e.sibling:null);Cr(ra,1&ra.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ra,ra.current),i)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Vs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,Io&&0!==(1048576&t.flags)&&No(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=Lr(t,Nr.current);Qr(t,n),r=wa(null,t,i,e,r,n);var a=ka();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(i)?(a=!0,jr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,no(t),r.updater=fo,t.stateNode=r,r._reactInternals=t,go(t,i,e,n),t=Rs(null,t,i,!0,a,n)):(t.tag=0,Io&&a&&Oo(t),xs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===L)return 14}return 2}(i),e=Vr(i,e),r){case 0:t=Ns(null,t,i,e,n);break e;case 1:t=Os(null,t,i,e,n);break e;case 11:t=_s(null,t,i,e,n);break e;case 14:t=Es(null,t,i,Vr(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ns(e,t,i,r=t.elementType===i?r:Vr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Os(e,t,i,r=t.elementType===i?r:Vr(i,r),n);case 3:e:{if(Ls(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,io(e,t),lo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,i,n,r=Error(o(423)));break e}if(i!==r){t=Ps(e,t,i,n,r=Error(o(424)));break e}for(Po=ur(t.stateNode.containerInfo.firstChild),Lo=t,Io=!0,Ao=null,n=Go(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Uo(),i===r){t=Vs(e,t,n);break e}xs(e,t,i,n)}t=t.child}return t;case 5:return na(t),null===e&&Mo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),Ts(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&Mo(t),null;case 13:return js(e,t,n);case 4:return ea(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Yo(t,null,i,n):xs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,_s(e,t,i,r=t.elementType===i?r:Vr(i,r),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Cr(Hr,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Or.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=ro(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Kr(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Kr(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Qr(t,n),i=i(r=Jr(r)),t.flags|=1,xs(e,t,i,n),t.child;case 14:return r=Vr(i=t.type,t.pendingProps),Es(e,t,i,r=Vr(i.type,r),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Vr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pr(i)?(e=!0,jr(t)):e=!1,Qr(t,n),vo(t,i,r),go(t,i,r,n),Rs(null,t,i,!0,e,n);case 19:return qs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Ju(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Vu(a);s.call(e)}}qu(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Vu(a);o.call(e)}}var a=Wu(t,i,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[pr]=a.current,Wi(8===e.nodeType?e.parentNode:e),uu(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Vu(l);s.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pr]=l.current,Wi(8===e.nodeType?e.parentNode:e),uu((function(){qu(t,l,n,i)})),l}(n,t,e,r,i);return Vu(a)}Zu.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Zu.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){qu(null,e,null,null)})),t[pr]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Dt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),nu(t,Ke()),0===(6&Sl)&&(Bl=Ke()+500,Wr()))}break;case 13:var i=Kl();uu((function(){return Jl(e,1,i)})),Xu(e,1)}},xt=function(e){13===e.tag&&(Jl(e,134217728,Kl()),Xu(e,134217728))},_t=function(e){if(13===e.tag){var t=Kl(),n=Ql(e);Jl(e,n,t),Xu(e,n)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=kr(i);if(!r)throw Error(o(90));Y(i),Q(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=lu,Oe=uu;var ec={usingClientEntryPoint:!1,Events:[br,wr,kr,Ce,Te,lu]},tc={findFiberByHostInstance:yr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return Fu(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var n=!1,i="",r=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Wi(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Ku(t))throw Error(o(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,r,0,a,s),e[pr]=t.current,Wi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Zu(t)},t.render=function(e,t,n){if(!Ku(t))throw Error(o(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(o(40));return!!e._reactRootContainer&&(uu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ku(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Ju(e,t,n,!1,i)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(184),r={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o={width:"100%",height:"30px",margin:"30px 0px",textAlign:"center"},a={display:"inline-block",width:"auto",height:"24px",color:"#3972ff",padding:"0 8px",borderBottom:"3px solid #3972ff"},s=function(){return(0,i.jsx)("div",{style:r,children:(0,i.jsx)("div",{style:o,children:(0,i.jsx)("div",{style:a,children:"Loading"})})})};t.default=s},8143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareCfi=t.clashCfiRange=t.cfiRangeSpliter=void 0,t.debounce=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){t.apply(void 0,r)}),e)}},t.timeFormatter=t.getSelectionPosition=t.getParagraphCfi=t.getNodefromCfi=void 0;var i=n(4189);function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}t.timeFormatter=function(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return"".concat(t,"-").concat(n,"-").concat(i)};var l=function(e,t){return(new i.EpubCFI).compare(e,t)};t.compareCfi=l;var u=function(e){var t=o(e.slice(8,-1).split(","),3),n=t[0],i=t[1],r=t[2];return n&&i&&r?{startCfi:"epubcfi(".concat(n+i,")"),endCfi:"epubcfi(".concat(n+r,")")}:null};t.cfiRangeSpliter=u;t.clashCfiRange=function(e,t){var n=u(e),i=u(t);if(!n||!i)return null;var r=n.startCfi,o=n.endCfi,a=i.startCfi,s=i.endCfi;return l(a,r)<=0&&l(r,s)<=0||l(a,o)<=0&&l(o,s)<=0||l(r,a)<=0&&l(s,o)<=0};t.getParagraphCfi=function(e){if(e){var t=o(e.slice(8,-1).split(","),3),n=t[0],i=t[1],r=t[2];return n&&i&&r?"epubcfi(".concat(n,")"):null}};t.getNodefromCfi=function(e){var t=e.slice(8,-1).replace(/\[.*?\]/gi,"").split("!");if(t.length<1||""===t[1])return null;var n=t[1].split("/").slice(2).map((function(e){return Number(e)})),i=document.querySelector("iframe");if(!i)return null;var o=i.contentWindow&&i.contentWindow.document.body;if(!o)return null;var s,l=o,u=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!(l=r(l&&l.childNodes).filter((function(e){return!e.dataset||!e.dataset.bookmark||!e.dataset.highlight}))[c-1])){l=null;break}}}catch(h){u.e(h)}finally{u.f()}return l};t.getSelectionPosition=function(e,t,n,i,r,o,a){var s=window,l=s.innerWidth,u=s.innerHeight,c=e.offsetWidth,h=e.querySelector("div").scrollTop,f=e.querySelector("iframe"),d=f&&f.contentWindow&&f.contentWindow.getSelection();if(!d||0===d.rangeCount)return null;var p=d.getRangeAt(0).getBoundingClientRect(),v=p.x,m=p.y,g=p.height,y=p.width;return{x:~~(v%c+~~((l-i)/100*t.marginHorizontal/2)+(y/2-a/2)),y:~~(m+g+o+("scrolled-doc"===n?0:~~((u-o-r)/100*t.marginVertical/2))-h),height:g,width:y}}},2184:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),a=n(4189),s=(r=n(9732))&&r.__esModule?r:{default:r},l=n(184);function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e,t){var n=e.url,i=e.epubFileOptions,r=e.epubOptions,u=e.style,h=e.location,f=e.bookChanged,p=e.rendtionChanged,v=e.pageChanged,m=e.tocChanged,g=e.selectionChanged,y=e.loadingView,b=u?d(d({},s.default),u):s.default,w=c((0,o.useState)(!1),2),k=w[0],x=w[1],_=c((0,o.useState)(null),2),E=_[0],S=_[1],C=c((0,o.useState)(null),2),T=C[0],N=C[1],O=(0,o.useRef)(""),R=(0,o.useCallback)((function(e){T&&("PREV"===e?T.prev():T.next())}),[T]),L=(0,o.useCallback)((function(e){var t=e.key;t&&"ArrowLeft"===t&&R("PREV"),t&&"ArrowRight"===t&&R("NEXT")}),[R]),P=(0,o.useCallback)((function(e){var t=e&&e.start,n=e&&e.end,i=e&&e.start.slice(8).split("!")[0];if(E){var r=E.spine.get(t),o=E.navigation.get(r.href),a=o&&o.label.trim(),s=E.locations,l=s.locationFromCfi(t),u=s.total;v&&v({chapterName:a,currentPage:l,totalPage:u,startCfi:t,endCfi:n,base:i}),O.current=t}}),[E,v]),I=(0,o.useCallback)((function(e,t,n){T&&(T.annotations.remove(e,"highlight"),T.annotations.highlight(e,{},t,"epub-highlight",{fill:n||"#fdf183"}))}),[T]),A=(0,o.useCallback)((function(e){T&&T.annotations.remove(e,"highlight")}),[T]),z=(0,o.useCallback)((function(){t.current&&(R&&(t.current.prevPage=function(){return R("PREV")},t.current.nextPage=function(){return R("NEXT")}),t.current.getCurrentCfi=function(){return O.current},I&&(t.current.onHighlight=I),A&&(t.current.offHighlight=A),T&&(t.current.setLocation=function(e){return T.display(e)}))}),[t,T,R,I,A]);return(0,o.useEffect)((function(){if(!t)throw new Error("[React-Epub-Viewer] Put a ref argument that has a ViewerRef type.")}),[t]),(0,o.useEffect)((function(){if(n){var e=!0,t=null;if(e)return t&&t.destroy(),t=new a.Book(n,i),S(t),function(){e=!1}}}),[n,i,S,x]),(0,o.useEffect)((function(){E&&(f&&f(E),E.loaded.navigation.then((function(e){var t=e.toc.map((function(e){return{label:e.label,href:e.href}}));x(!0),m&&m(t)})),E.ready.then((function(){if(E){var e=localStorage.getItem(E.key()+"-locations");return e?E.locations.load(e):E.locations.generate(1024)}})).then((function(){E&&localStorage.setItem(E.key()+"-locations",E.locations.save())})))}),[E,f,m]),(0,o.useEffect)((function(){T&&p&&p(T)}),[T,p]),(0,o.useEffect)((function(){var e=!0;if(E){var n=t.current;if(n)return n.innerHTML="",E.ready.then((function(){if(e&&E.spine){var t,i,o,a=null===(t=E.rendition)||void 0===t||null===(i=t.location)||void 0===i||null===(o=i.start)||void 0===o?void 0:o.cfi,s=E.renderTo(n,d({width:"100%",height:"100%"},r));N(s),a?s.display(a):s.display()}})),function(){e=!1}}}),[t,E,r,u,N]),(0,o.useEffect)((function(){t.current&&h&&t.current.setLocation&&t.current.setLocation(h)}),[t,h]),(0,o.useEffect)((function(){if(T)return z(),document.addEventListener("keyup",L,!1),T.on("keyup",L),T.on("locationChanged",P),g&&T.on("selected",g),function(){document.removeEventListener("keyup",L,!1),T.off("keyup",L),T.off("locationChanged",P),g&&T.off("selected",g)}}),[T,z,L]),(0,l.jsxs)(l.Fragment,{children:[!k&&y,(0,l.jsx)("div",{ref:t,style:b})]})},m=o.default.forwardRef(v);t.default=m},9732:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={boxSizing:"border-box",margin:"0px auto",width:"100%",height:"100%",overflowY:"hidden"};t.default=n},8524:function(e,t,n){"use strict";Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return i.default}});var i=o(n(8894)),r=o(n(2184));function o(e){return e&&e.__esModule?e:{default:e}}},8894:function(e,t,n){"use strict";var i=n(7757);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=h(n(2184)),s=h(n(3498)),l=n(8143),u=h(n(493)),c=n(184);function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){d(o,i,r,a,s,"next",e)}function s(e){d(o,i,r,a,s,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var w=function(e,t){var n=e.url,r=e.viewerLayout,h=e.viewerStyle,f=e.viewerStyleURL,d=e.viewerOption,v=e.onBookInfoChange,g=e.onPageChange,b=e.onTocChange,w=e.onSelection,k=e.loadingView,x=y((0,o.useState)(null),2),_=x[0],E=x[1],S=y((0,o.useState)(null),2),C=S[0],T=S[1],N=y((0,o.useState)({}),2),O=N[0],R=N[1],L=y((0,o.useState)({fontFamily:"Origin",fontSize:16,lineHeight:1.4,marginHorizontal:0,marginVertical:0}),2),P=L[0],I=L[1],A=y((0,o.useState)({flow:"paginated",resizeOnOrientationChange:!0,spread:"auto"}),2),z=A[0],j=A[1],D=(0,o.useRef)({cfiRange:"",contents:null}),M=(0,o.useMemo)((function(){return(0,l.debounce)(250,(function(){if(C){var e=r||{MIN_VIEWER_WIDTH:600,MIN_VIEWER_HEIGHT:300,VIEWER_HEADER_HEIGHT:0,VIEWER_FOOTER_HEIGHT:0,VIEWER_SIDEMENU_WIDTH:0},t=window,n=t.innerWidth,i=t.innerHeight,o=e.VIEWER_HEADER_HEIGHT+e.VIEWER_FOOTER_HEIGHT,a=n-~~((n-e.MIN_VIEWER_WIDTH)/100*P.marginHorizontal),s="scrolled-doc"===z.flow?i-o:i-o-~~((i-o-e.MIN_VIEWER_HEIGHT)/100*P.marginVertical),l="scrolled-doc"===z.flow?"":"".concat(~~((i-o-e.MIN_VIEWER_HEIGHT)/100*P.marginVertical)/2,"px");R((function(e){return e.width!==a||e.height!==s||e.marginTop!==l?m(m({},e),{},{width:a,height:s,marginTop:l,marginBottom:l}):e}));try{C.resize(a,s)}catch(u){}}}))}),[C,r,P.marginHorizontal,P.marginVertical,z.flow]),B=(0,o.useCallback)(p(i.mark((function e(){var n,r,o,a,s;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:if(n=t.current.querySelector("iframe")){e.next=5;break}return e.abrupt("return");case 5:if(r=n.contentWindow){e.next=8;break}return e.abrupt("return");case 8:if(o=r.getSelection()){e.next=11;break}return e.abrupt("return");case 11:if(""!==o.toString()){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,new Promise((function(e){return setTimeout((function(){return e(D.current.cfiRange)}),350)}));case 16:if(a=e.sent){e.next=19;break}return e.abrupt("return");case 19:if(s=D.current.contents){e.next=22;break}return e.abrupt("return");case 22:w&&w(a,s);case 23:case"end":return e.stop()}}),e)}))),[t,w]);return(0,o.useEffect)((function(){if(!t)throw new Error("[React-Epub-Viewer] Put a ref argument that has a ViewerRef type.")}),[t]),(0,o.useEffect)((function(){_&&Promise.all([_.loaded.metadata,_.opened]).then((function(e){var t=y(e,2),n=t[0],i=t[1],r={coverURL:i.archive.urlCache[i.cover],title:n.title,description:n.description,published_date:(0,l.timeFormatter)(new Date(n.pubdate)),modified_date:(0,l.timeFormatter)(new Date(n.modified_date)),author:n.creator,publisher:n.publisher,language:n.language};v&&v(r)})).catch((function(e){throw"".concat(e.stack," \n\n Message : Epub parsing failed.")}))}),[_]),(0,o.useEffect)((function(){h&&I((function(e){return m(m({},e),h)})),d&&j((function(e){return m(m({},e),d)}))}),[h,d]),(0,o.useEffect)((function(){if(C){M();var e=m(m({},u.default),{},{body:{"padding-top":"0px !important","padding-bottom":"0px !important","font-size":"".concat(P.fontSize,"px !important")},p:{"font-size":"".concat(P.fontSize,"px !important"),"line-height":"".concat(P.lineHeight," !important")}});C.flow(z.flow),C.spread(z.spread),"Origin"!==P.fontFamily&&Object.assign(e.body,{"font-family":"".concat(P.fontFamily," !important")}),"scrolled-doc"===z.flow?Object.assign(e.body,{margin:"auto !important"}):(z.spread,Object.assign(e.body,{})),f&&C.themes.registerUrl("main",f),C.themes.register("default",e),C.themes.select("main")}}),[C,P.fontFamily,P.fontSize,P.lineHeight,f,z,M]),(0,o.useEffect)((function(){return window.addEventListener("resize",M),function(){return window.removeEventListener("resize",M)}}),[M]),(0,o.useEffect)((function(){if(C)return C.on("mouseup",B),function(){return C.off("mouseup",B)}}),[C,B]),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(a.default,{url:n,style:O,bookChanged:function(e){return E(e)},rendtionChanged:function(e){return T(e)},tocChanged:b,pageChanged:g,selectionChanged:function(e,t){D.current={cfiRange:e,contents:t}},loadingView:k||(0,c.jsx)(s.default,{}),ref:t})})},k=o.default.forwardRef(w);t.default=k},493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={"::selection":{"background-color":"#d4e9ff"},img:{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}};t.default=n},2678:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=l(n(2007)),a=l(n(8321)),s=l(n(3648));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,i,o=d(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),g(v(t=o.call(this,e)),"onLocationChange",(function(e){var n=t.props,i=n.location,r=n.locationChanged,o=e&&e.start;i!==o&&(t.location=o,r&&r(o))})),g(v(t),"handleKeyPress",(function(e){var n=e.key;n&&"ArrowRight"===n&&t.nextPage(),n&&"ArrowLeft"===n&&t.prevPage()})),t.state={isLoaded:!1,toc:[]},t.viewerRef=r.default.createRef(),t.location=e.location,t.book=t.rendition=t.prevPage=t.nextPage=null,t}return t=s,n=[{key:"componentDidMount",value:function(){this.initBook(!0),document.addEventListener("keyup",this.handleKeyPress,!1)}},{key:"initBook",value:function(){var e=this,t=this.props,n=t.url,i=t.tocChanged,r=t.epubInitOptions;this.book&&this.book.destroy(),this.book=new a.default(n,r),this.book.loaded.navigation.then((function(t){var n=t.toc;e.setState({isLoaded:!0,toc:n},(function(){i&&i(n),e.initReader()}))}))}},{key:"componentWillUnmount",value:function(){this.book=this.rendition=this.prevPage=this.nextPage=null,document.removeEventListener("keyup",this.handleKeyPress,!1)}},{key:"shouldComponentUpdate",value:function(e){return!this.state.isLoaded||e.location!==this.props.location||e.location!==this.props.location}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.location!==this.props.location&&this.rendition.display(this.props.location),e.url!==this.props.url&&this.initBook()}},{key:"initReader",value:function(){var e=this,t=this.state.toc,n=this.props,i=n.location,r=n.epubOptions,o=n.getRendition,a=this.viewerRef.current;this.rendition=this.book.renderTo(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({contained:!0,width:"100%",height:"100%"},r)),this.prevPage=function(){e.rendition.prev()},this.nextPage=function(){e.rendition.next()},this.registerEvents(),o&&o(this.rendition),"string"===typeof i||"number"===typeof i?this.rendition.display(i):t.length>0&&t[0].href?this.rendition.display(t[0].href):this.rendition.display()}},{key:"registerEvents",value:function(){var e=this.props,t=e.handleKeyPress,n=e.handleTextSelected;this.rendition.on("locationChanged",this.onLocationChange),this.rendition.on("keyup",t||this.handleKeyPress),n&&this.rendition.on("selected",n)}},{key:"renderBook",value:function(){var e=this.props.styles;return r.default.createElement("div",{ref:this.viewerRef,style:e.view})}},{key:"render",value:function(){var e=this.state.isLoaded,t=this.props,n=t.loadingView,i=t.styles;return r.default.createElement("div",{style:i.viewHolder},e&&this.renderBook()||n)}}],n&&h(t.prototype,n),i&&h(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);y.defaultProps={loadingView:null,locationChanged:null,tocChanged:null,styles:s.default,epubOptions:{},epubInitOptions:{}},y.propTypes={url:o.default.oneOfType([o.default.string,o.default.instanceOf(ArrayBuffer)]),loadingView:o.default.element,location:o.default.oneOfType([o.default.string,o.default.number]),locationChanged:o.default.func,tocChanged:o.default.func,styles:o.default.object,epubInitOptions:o.default.object,epubOptions:o.default.object,getRendition:o.default.func,handleKeyPress:o.default.func,handleTextSelected:o.default.func};var b=y;t.default=b},3648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={viewHolder:{position:"relative",height:"100%",width:"100%"},view:{height:"100%"}};t.default=n},1109:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=h(n(2007)),a=n(1956),s=n(295),l=h(n(9137)),u=["children"],c=["title","showToc","loadingView","styles","locationChanged","swipeable","epubViewStyles"];function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var S=function(e){var t=e.children,n=E(e,u),i=(0,a.useSwipeable)(n);return r.default.createElement("div",i,t)},C=function(e){g(n,e);var t=b(n);function n(){var e;p(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return _(k(e=t.call.apply(t,[this].concat(r))),"setLocation",(function(){e.props.setLocation(e.props.href)})),e}return m(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.styles;return r.default.createElement("button",{onClick:this.setLocation,style:n},t)}}]),n}(r.PureComponent);C.propTypes={label:o.default.string,href:o.default.string,setLocation:o.default.func,styles:o.default.object};var T=function(e){g(n,e);var t=b(n);function n(e){var i;return p(this,n),_(k(i=t.call(this,e)),"toggleToc",(function(){i.setState({expandedToc:!i.state.expandedToc})})),_(k(i),"next",(function(){i.readerRef.current.nextPage()})),_(k(i),"prev",(function(){i.readerRef.current.prevPage()})),_(k(i),"onTocChange",(function(e){var t=i.props.tocChanged;i.setState({toc:e},(function(){return t&&t(e)}))})),_(k(i),"setLocation",(function(e){var t=i.props.locationChanged;i.setState({expandedToc:!1},(function(){return t&&t(e)}))})),i.readerRef=r.default.createRef(),i.state={expandedToc:!1,toc:!1},i}return m(n,[{key:"renderToc",value:function(){var e=this,t=this.state,n=t.toc,i=t.expandedToc,o=this.props.styles;return r.default.createElement("div",null,r.default.createElement("div",{style:o.tocArea},r.default.createElement("div",{style:o.toc},n.map((function(t,n){return r.default.createElement(C,d({},t,{key:n,setLocation:e.setLocation,styles:o.tocAreaButton}))})))),i&&r.default.createElement("div",{style:o.tocBackground,onClick:this.toggleToc}))}},{key:"renderTocToggle",value:function(){var e=this.state.expandedToc,t=this.props.styles;return r.default.createElement("button",{style:Object.assign({},t.tocButton,e?t.tocButtonExpanded:{}),onClick:this.toggleToc},r.default.createElement("span",{style:Object.assign({},t.tocButtonBar,t.tocButtonBarTop)}),r.default.createElement("span",{style:Object.assign({},t.tocButtonBar,t.tocButtonBottom)}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.showToc,i=e.loadingView,o=e.styles,a=e.locationChanged,l=e.swipeable,u=e.epubViewStyles,h=E(e,c),f=this.state,p=f.toc,v=f.expandedToc;return r.default.createElement("div",{style:o.container},r.default.createElement("div",{style:Object.assign({},o.readerArea,v?o.containerExpanded:{})},n&&this.renderTocToggle(),r.default.createElement("div",{style:o.titleArea},t),r.default.createElement(S,{onSwipedRight:this.prev,onSwipedLeft:this.next,trackMouse:!0},r.default.createElement("div",{style:o.reader},r.default.createElement(s.EpubView,d({ref:this.readerRef,loadingView:i,styles:u},h,{tocChanged:this.onTocChange,locationChanged:a})),l&&r.default.createElement("div",{style:o.swipeWrapper}))),r.default.createElement("button",{style:Object.assign({},o.arrow,o.prev),onClick:this.prev},"\u2039"),r.default.createElement("button",{style:Object.assign({},o.arrow,o.next),onClick:this.next},"\u203a")),n&&p&&this.renderToc())}}]),n}(r.PureComponent);T.defaultProps={loadingView:r.default.createElement("div",{style:l.default.loadingView},"Loading\u2026"),locationChanged:null,tocChanged:null,showToc:!0,styles:l.default},T.propTypes={title:o.default.string,loadingView:o.default.element,showToc:o.default.bool,locationChanged:o.default.func,tocChanged:o.default.func,styles:o.default.object,epubViewStyles:o.default.object,swipeable:o.default.bool};var N=T;t.default=N},9137:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={container:{overflow:"hidden",height:"100%"},readerArea:{position:"relative",zIndex:1,height:"100%",width:"100%",backgroundColor:"#fff",transition:"all .3s ease"},containerExpanded:{transform:"translateX(256px)"},titleArea:{position:"absolute",top:20,left:50,right:50,textAlign:"center",color:"#999"},reader:{position:"absolute",top:50,left:50,bottom:20,right:50},swipeWrapper:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:200},prev:{left:1},next:{right:1},arrow:{outline:"none",border:"none",background:"none",position:"absolute",top:"50%",marginTop:-32,fontSize:64,padding:"0 10px",color:"#E2E2E2",fontFamily:"arial, sans-serif",cursor:"pointer",userSelect:"none",appearance:"none",fontWeight:"normal"},arrowHover:{color:"#777"},tocBackground:{position:"absolute",left:256,top:0,bottom:0,right:0,zIndex:1},tocArea:{position:"absolute",left:0,top:0,bottom:0,zIndex:0,width:256,overflowY:"auto",WebkitOverflowScrolling:"touch",background:"#f2f2f2",padding:"10px 0"},tocAreaButton:{userSelect:"none",appearance:"none",background:"none",border:"none",display:"block",fontFamily:"sans-serif",width:"100%",fontSize:".9em",textAlign:"left",padding:".9em 1em",borderBottom:"1px solid #ddd",color:"#aaa",boxSizing:"border-box",outline:"none",cursor:"pointer"},tocButton:{background:"none",border:"none",width:32,height:32,position:"absolute",top:10,left:10,borderRadius:2,outline:"none",cursor:"pointer"},tocButtonExpanded:{background:"#f2f2f2"},tocButtonBar:{position:"absolute",width:"60%",background:"#ccc",height:2,left:"50%",margin:"-1px -30%",top:"50%",transition:"all .5s ease"},tocButtonBarTop:{top:"35%"},tocButtonBottom:{top:"66%"},loadingView:{position:"absolute",top:"50%",left:"10%",right:"10%",color:"#ccc",textAlign:"center",margintop:"-.5em"}};t.default=n},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EpubView",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"EpubViewStyle",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ReactReader",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ReactReaderStyle",{enumerable:!0,get:function(){return a.default}});var i=s(n(2678)),r=s(n(3648)),o=s(n(1109)),a=s(n(9137));function s(e){return e&&e.__esModule?e:{default:e}}},1956:function(e,t,n){!function(e,t){function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,t}var i=n(t);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}var o="Left",a="Right",s="Up",l="Down",u={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},c={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},h="mousemove",f="mouseup",d="touchend",p="touchmove",v="touchstart";function m(e,t,n,i){return e>t?n>0?a:o:i>0?l:s}function g(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function y(e,t){var n=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,n){n.trackMouse&&(document.addEventListener(h,i),document.addEventListener(f,s));var o="touches"in t?t.touches[0]:t,a=g([o.clientX,o.clientY],n.rotationAngle);return r({},e,c,{initial:[].concat(a),xy:a,start:t.timeStamp||0})}))},i=function(t){e((function(e,n){if("touches"in t&&t.touches.length>1)return e;var i="touches"in t?t.touches[0]:t,o=g([i.clientX,i.clientY],n.rotationAngle),a=o[0],s=o[1],l=a-e.xy[0],c=s-e.xy[1],h=Math.abs(l),f=Math.abs(c),d=(t.timeStamp||0)-e.start,p=Math.sqrt(h*h+f*f)/(d||1),v=[l/(d||1),c/(d||1)],y=m(h,f,l,c),b="number"===typeof n.delta?n.delta:n.delta[y.toLowerCase()]||u.delta;if(h<b&&f<b&&!e.swiping)return e;var w={absX:h,absY:f,deltaX:l,deltaY:c,dir:y,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:v};w.first&&n.onSwipeStart&&n.onSwipeStart(w),n.onSwiping&&n.onSwiping(w);var k=!1;return(n.onSwiping||n.onSwiped||"onSwiped"+y in n)&&(k=!0),k&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&t.cancelable&&t.preventDefault(),r({},e,{first:!1,eventData:w,swiping:!0})}))},o=function(t){e((function(e,n){var i;if(e.swiping&&e.eventData){i=r({},e.eventData,{event:t}),n.onSwiped&&n.onSwiped(i);var o=n["onSwiped"+i.dir];o&&o(i)}else n.onTap&&n.onTap({event:t});return r({},e,c,{eventData:i})}))},a=function(){document.removeEventListener(h,i),document.removeEventListener(f,s)},s=function(e){a(),o(e)},l=function(e,t){var r=function(){};if(e&&e.addEventListener){var a=[[v,n],[p,i],[d,o]];a.forEach((function(n){var i=n[0],r=n[1];return e.addEventListener(i,r,{passive:t})})),r=function(){return a.forEach((function(t){var n=t[0],i=t[1];return e.removeEventListener(n,i)}))}}return r},y={ref:function(t){null!==t&&e((function(e,n){if(e.el===t)return e;var i={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),i.cleanUpTouch=void 0),n.trackTouch&&t&&(i.cleanUpTouch=l(t,!n.preventDefaultTouchmoveEvent)),r({},e,{el:t},i)}))}};return t.trackMouse&&(y.onMouseDown=n),[y,l]}function b(e,t,n){var i={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),i.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(i.cleanUpTouch=n(e.el,!t.preventDefaultTouchmoveEvent)),r({},e,i)}function w(e){var t=e.trackMouse,n=i.useRef(r({},c)),o=i.useRef(r({},u));o.current=r({},u,e,{delta:void 0===e.delta?u.delta:e.delta,rotationAngle:void 0===e.rotationAngle?u.rotationAngle:e.rotationAngle,trackTouch:void 0===e.trackTouch?u.trackTouch:e.trackTouch});var a=i.useMemo((function(){return y((function(e){return n.current=e(n.current,o.current)}),{trackMouse:t})}),[t]),s=a[0],l=a[1];return n.current=b(n.current,o.current,l),s}e.DOWN=l,e.LEFT=o,e.RIGHT=a,e.UP=s,e.useSwipeable=w}(t,n(2791))},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,k(a)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),O(a,t,r,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+N(s=e[u],u);l+=O(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=O(s=s.value,t,r,c=o+N(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var i=[],r=0;return O(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!E.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(L){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new N(i||[]);return o._invoke=function(e,t,n){var i=h;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=c(e,t,n);if("normal"===l.type){if(i=n.done?p:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==n&&i.call(k,o)&&(b=k);var x=y.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===typeof h&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function S(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=c(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,l(x,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new E(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(x),l(x,s,"Generator"),l(x,o,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=O,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:O(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function k(e){if(m=!1,w(e),!v)if(null!==i(u))v=!0,I(x);else{var t=i(c);null!==t&&A(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=d;try{for(w(n),f=i(u);null!==f&&(!(f.expirationTime>n)||e&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===i(u)&&r(u),w(n)}else r(u);f=i(u)}if(null!==f)var l=!0;else{var h=i(c);null!==h&&A(k,h.startTime-n),l=!1}return l}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,S=null,C=-1,T=5,N=-1;function O(){return!(t.unstable_now()-N<T)}function R(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?_():(E=!1,S=null)}}else E=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,P=L.port2;L.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){g(R,0)};function I(e){S=e,E||(E=!0,_())}function A(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,I(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(m?(y(C),C=-1):m=!0,A(k,o-a))):(e.sortIndex=s,n(u,e),v||p||(v=!0,I(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6190:function(e,t,n){"use strict";var i=n(9829);e.exports=function(e){if("function"!==typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!==typeof e.length)return!1;if("function"!==typeof e.call)return!1;if("function"!==typeof e.apply)return!1}catch(t){return!1}return!i(e)}},1742:function(e,t,n){"use strict";var i=n(8821),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!i(e)&&hasOwnProperty.call(r,typeof e)}},3429:function(e,t,n){"use strict";var i=n(6190),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!r.test(o.call(e))}},9829:function(e,t,n){"use strict";var i=n(1742);e.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}}},8821:function(e){"use strict";e.exports=function(e){return undefined!==e&&null!==e}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".32b9eb41.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="gutenberg:";n.l=function(i,r,o,a){if(e[i])e[i].push(r);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/gutenberg/",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,i){var r,o,a=i[0],s=i[1],l=i[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkgutenberg=self.webpackChunkgutenberg||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=n(2791),t=n(1250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.p;var o=n(184),a=function(){return(0,o.jsx)("div",{className:"header",children:(0,o.jsx)("p",{className:"title",children:"Gutenberg"})})};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var m=function(){},g={},y={},b=null,w={mark:m,measure:m};try{"undefined"!==typeof window&&(g=window),"undefined"!==typeof document&&(y=document),"undefined"!==typeof MutationObserver&&(b=MutationObserver),"undefined"!==typeof performance&&(w=performance)}catch(ji){}var k=(g.navigator||{}).userAgent,x=void 0===k?"":k,_=g,E=y,S=b,C=w,T=(_.document,!!E.documentElement&&!!E.head&&"function"===typeof E.addEventListener&&"function"===typeof E.createElement),N=~x.indexOf("MSIE")||~x.indexOf("Trident/"),O="svg-inline--fa",R="data-fa-i2svg",L="data-fa-pseudo-element",P="data-prefix",I="data-icon",A="fontawesome-i2svg",z=["HTML","HEAD","STYLE","SCRIPT"],j=function(){try{return!0}catch(ji){return!1}}(),D={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},M={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},B={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},F={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},U=/fa[srltdbk\-\ ]/,W="fa-layers-text",q=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,V={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},H=[1,2,3,4,5,6,7,8,9,10],X=H.concat([11,12,13,14,15,16,17,18,19,20]),Y=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],G="duotone-group",Z="swap-opacity",$="primary",K="secondary",Q=[].concat(d(Object.keys(M)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",G,Z,$,K]).concat(H.map((function(e){return"".concat(e,"x")}))).concat(X.map((function(e){return"w-".concat(e)}))),J=_.FontAwesomeConfig||{};if(E&&"function"===typeof E.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=f(e,2),n=t[0],i=t[1],r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=E.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==r&&null!==r&&(J[i]=r)}))}var ee=l(l({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:O,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),J);ee.autoReplaceSvg||(ee.observeMutations=!1);var te={};Object.keys(ee).forEach((function(e){Object.defineProperty(te,e,{enumerable:!0,set:function(t){ee[e]=t,ne.forEach((function(e){return e(te)}))},get:function(){return ee[e]}})})),_.FontAwesomeConfig=te;var ne=[];var ie=16,re={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function oe(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ae(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function se(e){return e.classList?ae(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function le(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ue(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function ce(e){return e.size!==re.size||e.x!==re.x||e.y!==re.y||e.rotate!==re.rotate||e.flipX||e.flipY}function he(){var e="fa",t=O,n=te.familyPrefix,i=te.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||i!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(i))}return r}var fe=!1;function de(){te.autoAddCss&&!fe&&(!function(e){if(e&&T){var t=E.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=E.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}E.head.insertBefore(t,i)}}(he()),fe=!0)}var pe={mixout:function(){return{dom:{css:he,insertCss:de}}},hooks:function(){return{beforeDOMElementCreation:function(){de()},beforeI2svg:function(){de()}}}},ve=_||{};ve.___FONT_AWESOME___||(ve.___FONT_AWESOME___={}),ve.___FONT_AWESOME___.styles||(ve.___FONT_AWESOME___.styles={}),ve.___FONT_AWESOME___.hooks||(ve.___FONT_AWESOME___.hooks={}),ve.___FONT_AWESOME___.shims||(ve.___FONT_AWESOME___.shims=[]);var me=ve.___FONT_AWESOME___,ge=[],ye=!1;function be(e){T&&(ye?setTimeout(e,0):ge.push(e))}function we(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,r=e.children,o=void 0===r?[]:r;return"string"===typeof e?le(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(le(e[n]),'" ')}),"").trim()}(i),">").concat(o.map(we).join(""),"</").concat(t,">")}function ke(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}T&&((ye=(E.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(E.readyState))||E.addEventListener("DOMContentLoaded",(function e(){E.removeEventListener("DOMContentLoaded",e),ye=1,ge.map((function(e){return e()}))})));var xe=function(e,t,n,i){var r,o,a,s=Object.keys(e),l=s.length,u=void 0!==i?function(e,t){return function(n,i,r,o){return e.call(t,n,i,r,o)}}(t,i):t;for(void 0===n?(r=1,a=e[s[0]]):(r=0,a=n);r<l;r++)a=u(a,e[o=s[r]],o,e);return a};function _e(e){var t=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function Ee(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return!!i.icon?t[i.iconName]=i.icon:t[n]=i,t}),{})}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,o=Ee(t);"function"!==typeof me.hooks.addPack||r?me.styles[e]=l(l({},me.styles[e]||{}),o):me.hooks.addPack(e,Ee(t)),"fas"===e&&Se("fa",t)}var Ce=me.styles,Te=me.shims,Ne=Object.values(B),Oe=null,Re={},Le={},Pe={},Ie={},Ae={},ze=Object.keys(D);function je(e,t){var n,i=t.split("-"),r=i[0],o=i.slice(1).join("-");return r!==e||""===o||(n=o,~Q.indexOf(n))?null:o}var De,Me=function(){var e=function(e){return xe(Ce,(function(t,n,i){return t[i]=xe(n,e,{}),t}),{})};Re=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Le=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Ae=e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in Ce||te.autoFetchSvg,n=xe(Te,(function(e,n){var i=n[0],r=n[1],o=n[2];return"far"!==r||t||(r="fas"),"string"===typeof i&&(e.names[i]={prefix:r,iconName:o}),"number"===typeof i&&(e.unicodes[i.toString(16)]={prefix:r,iconName:o}),e}),{names:{},unicodes:{}});Pe=n.names,Ie=n.unicodes,Oe=qe(te.styleDefault)};function Be(e,t){return(Re[e]||{})[t]}function Fe(e,t){return(Ae[e]||{})[t]}function Ue(e){return Pe[e]||{prefix:null,iconName:null}}function We(){return Oe}De=function(e){Oe=qe(e.styleDefault)},ne.push(De),Me();function qe(e){var t=M[e]||M[D[e]],n=e in me.styles?e:null;return t||n||null}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,i=void 0!==n&&n,r=null,o=e.reduce((function(e,t){var n=je(te.familyPrefix,t);if(Ce[t]?(t=Ne.includes(t)?F[t]:t,r=t,e.prefix=t):ze.indexOf(t)>-1?(r=t,e.prefix=qe(t)):n?e.iconName=n:t!==te.replacementClass&&e.rest.push(t),!i&&e.prefix&&e.iconName){var o="fa"===r?Ue(e.iconName):{},a=Fe(e.prefix,e.iconName);o.prefix&&(r=null),e.iconName=o.iconName||a||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||Ce.far||!Ce.fas||te.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==o.prefix&&"fa"!==r||(o.prefix=We()||"fas"),o}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,i;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=l(l({},e.definitions[t]||{}),r[t]),Se(t,r[t]);var n=B[t];n&&Se(n,r[t]),Me()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],r=i.prefix,o=i.iconName,a=i.icon,s=a[2];e[r]||(e[r]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[r][t]=a)})),e[r][o]=a})),e}}],n&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xe=[],Ye={},Ge={},Ze=Object.keys(Ge);function $e(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=Ye[e]||[];return o.forEach((function(e){t=e.apply(null,[t].concat(i))})),t}function Ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Ye[e]||[];r.forEach((function(e){e.apply(null,n)}))}function Qe(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ge[e]?Ge[e].apply(null,t):void 0}function Je(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||We();if(t)return t=Fe(n,t)||t,ke(et.definitions,n,t)||ke(me.styles,n,t)}var et=new He,tt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T?(Ke("beforeI2svg",e),Qe("pseudoElements2svg",e),Qe("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===te.autoReplaceSvg&&(te.autoReplaceSvg=!0),te.observeMutations=!0,be((function(){rt({autoReplaceSvgRoot:t}),Ke("watch",e)}))}},nt={icon:function(e){if(null===e)return null;if("object"===u(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Fe(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=qe(e[0]);return{prefix:n,iconName:Fe(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(te.familyPrefix,"-"))>-1||e.match(U))){var i=Ve(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||We(),iconName:Fe(i.prefix,i.iconName)||i.iconName}}if("string"===typeof e){var r=We();return{prefix:r,iconName:Fe(r,e)||e}}}},it={noAuto:function(){te.autoReplaceSvg=!1,te.observeMutations=!1,Ke("noAuto")},config:te,dom:tt,parse:nt,library:et,findIconDefinition:Je,toHtml:we},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?E:t;(Object.keys(me.styles).length>0||te.autoFetchSvg)&&T&&te.autoReplaceSvg&&it.dom.i2svg({node:n})};function ot(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return we(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(T){var t=E.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function at(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,u=e.title,c=e.maskId,h=e.titleId,f=e.extra,d=e.watchable,p=void 0!==d&&d,v=i.found?i:n,m=v.width,g=v.height,y="fak"===r,b=[te.replacementClass,o?"".concat(te.familyPrefix,"-").concat(o):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),w={children:[],attributes:l(l({},f.attributes),{},{"data-prefix":r,"data-icon":o,class:b,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};p&&(w.attributes[R]=""),u&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||oe())},children:[u]}),delete w.attributes.title);var x=l(l({},w),{},{prefix:r,iconName:o,main:n,mask:i,maskId:c,transform:a,symbol:s,styles:l(l({},k),f.styles)}),_=i.found&&n.found?Qe("generateAbstractMask",x)||{children:[],attributes:{}}:Qe("generateAbstractIcon",x)||{children:[],attributes:{}},E=_.children,S=_.attributes;return x.children=E,x.attributes=S,s?function(e){var t=e.prefix,n=e.iconName,i=e.children,r=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(te.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:l(l({},r),{},{id:a}),children:i}]}]}(x):function(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,o=e.styles,a=e.transform;if(ce(a)&&n.found&&!i.found){var s={x:n.width/n.height/2,y:.5};r.style=ue(l(l({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(x)}function st(e){var t=e.content,n=e.width,i=e.height,r=e.transform,o=e.title,a=e.extra,s=e.watchable,u=void 0!==s&&s,c=l(l(l({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});u&&(c[R]="");var h=l({},a.styles);ce(r)&&(h.transform=function(e){var t=e.transform,n=e.width,i=void 0===n?16:n,r=e.height,o=void 0===r?16:r,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&N?"translate(".concat(t.x/ie-i/2,"em, ").concat(t.y/ie-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/ie,"em), calc(-50% + ").concat(t.y/ie,"em)) "):"translate(".concat(t.x/ie,"em, ").concat(t.y/ie,"em) "),l+="scale(".concat(t.size/ie*(t.flipX?-1:1),", ").concat(t.size/ie*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),h["-webkit-transform"]=h.transform);var f=ue(h);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function lt(e){var t=e.content,n=e.title,i=e.extra,r=l(l(l({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),o=ue(i.styles);o.length>0&&(r.style=o);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var ut=me.styles;function ct(e){var t=e[0],n=e[1],i=f(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(te.familyPrefix,"-").concat(G)},children:[{tag:"path",attributes:{class:"".concat(te.familyPrefix,"-").concat(K),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(te.familyPrefix,"-").concat($),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var ht={found:!1,width:512,height:512};function ft(e,t){var n=t;return"fa"===t&&null!==te.styleDefault&&(t=We()),new Promise((function(i,r){Qe("missingIconAbstract");if("fa"===n){var o=Ue(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&ut[t]&&ut[t][e])return i(ct(ut[t][e]));!function(e,t){j||te.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),i(l(l({},ht),{},{icon:te.showMissingIcons&&e&&Qe("missingIconAbstract")||{}}))}))}var dt=function(){},pt=te.measurePerformance&&C&&C.mark&&C.measure?C:{mark:dt,measure:dt},vt='FA "6.1.1"',mt=function(e){pt.mark("".concat(vt," ").concat(e," ends")),pt.measure("".concat(vt," ").concat(e),"".concat(vt," ").concat(e," begins"),"".concat(vt," ").concat(e," ends"))},gt=function(e){return pt.mark("".concat(vt," ").concat(e," begins")),function(){return mt(e)}},yt=function(){};function bt(e){return"string"===typeof(e.getAttribute?e.getAttribute(R):null)}function wt(e){return E.createElementNS("http://www.w3.org/2000/svg",e)}function kt(e){return E.createElement(e)}function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,i=void 0===n?"svg"===e.tag?wt:kt:n;if("string"===typeof e)return E.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));var o=e.children||[];return o.forEach((function(e){r.appendChild(xt(e,{ceFn:i}))})),r}var _t={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(xt(e),t)})),null===t.getAttribute(R)&&te.keepOriginalSource){var n=E.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~se(t).indexOf(te.replacementClass))return _t.replace(e);var i=new RegExp("".concat(te.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var r=n[0].attributes.class.split(" ").reduce((function(e,t){return t===te.replacementClass||t.match(i)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),0===r.toNode.length?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}var o=n.map((function(e){return we(e)})).join("\n");t.setAttribute(R,""),t.innerHTML=o}};function Et(e){e()}function St(e,t){var n="function"===typeof t?t:yt;if(0===e.length)n();else{var i=Et;"async"===te.mutateApproach&&(i=_.requestAnimationFrame||Et),i((function(){var t=!0===te.autoReplaceSvg?_t.replace:_t[te.autoReplaceSvg]||_t.replace,i=gt("mutate");e.map(t),i(),n()}))}}var Ct=!1;function Tt(){Ct=!0}function Nt(){Ct=!1}var Ot=null;function Rt(e){if(S&&te.observeMutations){var t=e.treeCallback,n=void 0===t?yt:t,i=e.nodeCallback,r=void 0===i?yt:i,o=e.pseudoElementsCallback,a=void 0===o?yt:o,s=e.observeMutationsRoot,l=void 0===s?E:s;Ot=new S((function(e){if(!Ct){var t=We();ae(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!bt(e.addedNodes[0])&&(te.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&te.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&bt(e.target)&&~Y.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(P):null,n=e.getAttribute?e.getAttribute(I):null;return t&&n}(e.target)){var i=Ve(se(e.target)),o=i.prefix,s=i.iconName;e.target.setAttribute(P,o||t),s&&e.target.setAttribute(I,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(te.replacementClass)&&r(e.target);var l}))}})),T&&Ot.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Lt(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),i=n[0],r=n.slice(1);return i&&r.length>0&&(e[i]=r.join(":").trim()),e}),{})),n}function Pt(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"",r=Ve(se(e));return r.prefix||(r.prefix=We()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||r.prefix&&i.length>0&&(r.iconName=function(e,t){return(Le[e]||{})[t]}(r.prefix,e.innerText)||Be(r.prefix,_e(e.innerText))),r}function It(e){var t=ae(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return te.autoA11y&&(n?t["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(i||oe()):(t["aria-hidden"]="true",t.focusable="false")),t}function At(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Pt(e),i=n.iconName,r=n.prefix,o=n.rest,a=It(e),s=$e("parseNodeAttributes",{},e),u=t.styleParser?Lt(e):[];return l({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:re,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:u,attributes:a}},s)}var zt=me.styles;function jt(e){var t="nest"===te.autoReplaceSvg?At(e,{styleParser:!1}):At(e);return~t.extra.classes.indexOf(W)?Qe("generateLayersText",e,t):Qe("generateSvgReplacementMutation",e,t)}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!T)return Promise.resolve();var n=E.documentElement.classList,i=function(e){return n.add("".concat(A,"-").concat(e))},r=function(e){return n.remove("".concat(A,"-").concat(e))},o=te.autoFetchSvg?Object.keys(D):Object.keys(zt),a=[".".concat(W,":not([").concat(R,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(R,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=ae(e.querySelectorAll(a))}catch(ji){}if(!(s.length>0))return Promise.resolve();i("pending"),r("complete");var l=gt("onTree"),u=s.reduce((function(e,t){try{var n=jt(t);n&&e.push(n)}catch(ji){j||"MissingIcon"===ji.name&&console.error(ji)}return e}),[]);return new Promise((function(e,n){Promise.all(u).then((function(n){St(n,(function(){i("active"),i("complete"),r("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jt(e).then((function(e){e&&St([e],t)}))}var Bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?re:n,r=t.symbol,o=void 0!==r&&r,a=t.mask,s=void 0===a?null:a,u=t.maskId,c=void 0===u?null:u,h=t.title,f=void 0===h?null:h,d=t.titleId,p=void 0===d?null:d,v=t.classes,m=void 0===v?[]:v,g=t.attributes,y=void 0===g?{}:g,b=t.styles,w=void 0===b?{}:b;if(e){var k=e.prefix,x=e.iconName,_=e.icon;return ot(l({type:"icon"},e),(function(){return Ke("beforeDOMElementCreation",{iconDefinition:e,params:t}),te.autoA11y&&(f?y["aria-labelledby"]="".concat(te.replacementClass,"-title-").concat(p||oe()):(y["aria-hidden"]="true",y.focusable="false")),at({icons:{main:ct(_),mask:s?ct(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:x,transform:l(l({},re),i),symbol:o,title:f,maskId:c,titleId:p,extra:{attributes:y,styles:w,classes:m}})}))}},Ft={mixout:function(){return{icon:(e=Bt,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:Je(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:Je(r||{})),e(i,l(l({},n),{},{mask:r}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Dt,e.nodeCallback=Mt,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?E:t,i=e.callback;return Dt(n,void 0===i?function(){}:i)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,i=t.title,r=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,u=t.maskId,c=t.extra;return new Promise((function(t,h){Promise.all([ft(n,o),l.iconName?ft(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var h=f(l,2),d=h[0],p=h[1];t([e,at({icons:{main:d,mask:p},prefix:o,iconName:n,transform:a,symbol:s,maskId:u,title:i,titleId:r,extra:c,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,n=e.children,i=e.attributes,r=e.main,o=e.transform,a=ue(e.styles);return a.length>0&&(i.style=a),ce(o)&&(t=Qe("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),n.push(t||r.icon),{children:n,attributes:i}}}},Ut={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,i=void 0===n?[]:n;return ot({type:"layer"},(function(){Ke("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(te.familyPrefix,"-layers")].concat(d(i)).join(" ")},children:n}]}))}}}},Wt={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,i=void 0===n?null:n,r=t.classes,o=void 0===r?[]:r,a=t.attributes,s=void 0===a?{}:a,l=t.styles,u=void 0===l?{}:l;return ot({type:"counter",content:e},(function(){return Ke("beforeDOMElementCreation",{content:e,params:t}),lt({content:e.toString(),title:i,extra:{attributes:s,styles:u,classes:["".concat(te.familyPrefix,"-layers-counter")].concat(d(o))}})}))}}}},qt={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?re:n,r=t.title,o=void 0===r?null:r,a=t.classes,s=void 0===a?[]:a,u=t.attributes,c=void 0===u?{}:u,h=t.styles,f=void 0===h?{}:h;return ot({type:"text",content:e},(function(){return Ke("beforeDOMElementCreation",{content:e,params:t}),st({content:e,transform:l(l({},re),i),title:o,extra:{attributes:c,styles:f,classes:["".concat(te.familyPrefix,"-layers-text")].concat(d(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,i=t.transform,r=t.extra,o=null,a=null;if(N){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return te.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,st({content:e.innerHTML,width:o,height:a,transform:i,title:n,extra:r,watchable:!0})])}}},Vt=new RegExp('"',"ug"),Ht=[1105920,1112319];function Xt(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(i,r){if(null!==e.getAttribute(n))return i();var o=ae(e.children).filter((function(e){return e.getAttribute(L)===t}))[0],a=_.getComputedStyle(e,t),s=a.getPropertyValue("font-family").match(q),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!s)return e.removeChild(o),i();if(s&&"none"!==c&&""!==c){var h=a.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?M[s[2].toLowerCase()]:V[u],d=function(e){var t=e.replace(Vt,""),n=function(e,t){var n,i=e.length,r=e.charCodeAt(t);return r>=55296&&r<=56319&&i>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}(t,0),i=n>=Ht[0]&&n<=Ht[1],r=2===t.length&&t[0]===t[1];return{value:_e(r?t[0]:t),isSecondary:i||r}}(h),p=d.value,v=d.isSecondary,m=s[0].startsWith("FontAwesome"),g=Be(f,p),y=g;if(m){var b=function(e){var t=Ie[e],n=Be("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(g=b.iconName,f=b.prefix)}if(!g||v||o&&o.getAttribute(P)===f&&o.getAttribute(I)===y)i();else{e.setAttribute(n,y),o&&e.removeChild(o);var w={iconName:null,title:null,titleId:null,prefix:null,transform:re,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=w.extra;k.attributes[L]=t,ft(g,f).then((function(r){var o=at(l(l({},w),{},{icons:{main:r,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:k,watchable:!0})),a=E.createElement("svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return we(e)})).join("\n"),e.removeAttribute(n),i()})).catch(r)}}else i()}))}function Yt(e){return Promise.all([Xt(e,"::before"),Xt(e,"::after")])}function Gt(e){return e.parentNode!==document.head&&!~z.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(L)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Zt(e){if(T)return new Promise((function(t,n){var i=ae(e.querySelectorAll("*")).filter(Gt).map(Yt),r=gt("searchPseudoElements");Tt(),Promise.all(i).then((function(){r(),Nt(),t()})).catch((function(){r(),Nt(),n()}))}))}var $t=!1,Kt=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return e.flipX=!0,e;if(i&&"v"===r)return e.flipY=!0,e;if(r=parseFloat(r),isNaN(r))return e;switch(i){case"grow":e.size=e.size+r;break;case"shrink":e.size=e.size-r;break;case"left":e.x=e.x-r;break;case"right":e.x=e.x+r;break;case"up":e.y=e.y-r;break;case"down":e.y=e.y+r;break;case"rotate":e.rotate=e.rotate+r}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Qt={mixout:function(){return{parse:{transform:function(e){return Kt(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Kt(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,i=e.containerWidth,r=e.iconWidth,o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:l({},c.outer),children:[{tag:"g",attributes:l({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:l(l({},t.icon.attributes),c.path)}]}]}}}},Jt={x:0,y:0,width:"100%",height:"100%"};function en(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var tn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),i=n?Ve(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=We()),e.mask=i,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,i=e.attributes,r=e.main,o=e.mask,a=e.maskId,s=e.transform,u=r.width,c=r.icon,h=o.width,f=o.icon,d=function(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:s,containerWidth:h,iconWidth:u}),p={tag:"rect",attributes:l(l({},Jt),{},{fill:"white"})},v=c.children?{children:c.children.map(en)}:{},m={tag:"g",attributes:l({},d.inner),children:[en(l({tag:c.tag,attributes:l(l({},c.attributes),d.path)},v))]},g={tag:"g",attributes:l({},d.outer),children:[m]},y="mask-".concat(a||oe()),b="clip-".concat(a||oe()),w={tag:"mask",attributes:l(l({},Jt),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=f,"g"===t.tag?t.children:[t])},w]};return n.push(k,{tag:"rect",attributes:l({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},Jt)}),{children:n,attributes:i}}}},nn={provides:function(e){var t=!1;_.matchMedia&&(t=_.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:l(l({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=l(l({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:l(l({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:l(l({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:l(l({},r),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:l(l({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:l(l({},r),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:l(l({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:l(l({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Xe=e,Ye={},Object.keys(Ge).forEach((function(e){-1===Ze.indexOf(e)&&delete Ge[e]})),Xe.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===u(t[e])&&Object.keys(t[e]).forEach((function(i){n[e]||(n[e]={}),n[e][i]=t[e][i]}))})),e.hooks){var i=e.hooks();Object.keys(i).forEach((function(e){Ye[e]||(Ye[e]=[]),Ye[e].push(i[e])}))}e.provides&&e.provides(Ge)}))}([pe,Ft,Ut,Wt,qt,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Zt,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?E:t;te.searchPseudoElements&&Zt(n)}}},{mixout:function(){return{dom:{unwatch:function(){Tt(),$t=!0}}}},hooks:function(){return{bootstrap:function(){Rt($e("mutationObserverCallbacks",{}))},noAuto:function(){Ot&&Ot.disconnect()},watch:function(e){var t=e.observeMutationsRoot;$t?Nt():Rt($e("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Qt,tn,nn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),i=null!==n&&(""===n||n);return e.symbol=i,e}}}}],{mixoutsTo:it});var rn=it.parse,on=it.icon,an=n(2007),sn=n.n(an);function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dn(e){return function(e){if(Array.isArray(e))return pn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var mn=["style"];function gn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,i=t.indexOf(":"),r=vn(t.slice(0,i)),o=t.slice(i+1).trim();return r.startsWith("webkit")?e[(n=r,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[r]=o,e}),{})}var yn=!1;try{yn=!0}catch(ji){}function bn(e){return e&&"object"===cn(e)&&e.prefix&&e.iconName&&e.icon?e:rn.icon?rn.icon(e):null===e?null:e&&"object"===cn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function wn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?hn({},e,t):{}}var kn=["forwardedRef"];function xn(e){var t=e.forwardedRef,n=fn(e,kn),i=n.icon,r=n.mask,o=n.symbol,a=n.className,s=n.title,l=n.titleId,u=n.maskId,c=bn(i),h=wn("classes",[].concat(dn(function(e){var t,n=e.beat,i=e.fade,r=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,h=e.pulse,f=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,g=e.size,y=e.rotation,b=e.pull,w=(hn(t={"fa-beat":n,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":f,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(g),"undefined"!==typeof g&&null!==g),hn(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),hn(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),hn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),dn(a.split(" ")))),f=wn("transform","string"===typeof n.transform?rn.transform(n.transform):n.transform),d=wn("mask",bn(r)),p=on(c,un(un(un(un({},h),f),d),{},{symbol:o,title:s,titleId:l,maskId:u}));if(!p)return function(){var e;!yn&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){xn.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),En(v[0],m)}xn.displayName="FontAwesomeIcon",xn.propTypes={beat:sn().bool,border:sn().bool,bounce:sn().bool,className:sn().string,fade:sn().bool,flash:sn().bool,mask:sn().oneOfType([sn().object,sn().array,sn().string]),maskId:sn().string,fixedWidth:sn().bool,inverse:sn().bool,flip:sn().oneOf(["horizontal","vertical","both"]),icon:sn().oneOfType([sn().object,sn().array,sn().string]),listItem:sn().bool,pull:sn().oneOf(["right","left"]),pulse:sn().bool,rotation:sn().oneOf([0,90,180,270]),shake:sn().bool,size:sn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:sn().bool,spinPulse:sn().bool,spinReverse:sn().bool,symbol:sn().oneOfType([sn().bool,sn().string]),title:sn().string,titleId:sn().string,transform:sn().oneOfType([sn().string,sn().object]),swapOpacity:sn().bool},xn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var _n,En=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var r=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var i=n.attributes[t];switch(t){case"class":e.attrs.className=i,delete n.attributes.class;break;case"style":e.attrs.style=gn(i);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=i:e.attrs[vn(t)]=i}return e}),{attrs:{}}),a=i.style,s=void 0===a?{}:a,l=fn(i,mn);return o.attrs.style=un(un({},o.attrs.style),s),t.apply(void 0,[n.tag,un(un({},o.attrs),l)].concat(dn(r)))}.bind(null,e.createElement),Sn={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"]},Cn={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"]},Tn={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM384 288H205.3l49.38 49.38c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0L105.4 278.6C97.4 270.7 96 260.9 96 256c0-4.883 1.391-14.66 9.398-22.65l103.1-103.1c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L205.3 224H384c17.69 0 32 14.33 32 32S401.7 288 384 288z"]},Nn={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},On={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"]},Rn={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,10084,61578,9829],"f004","M0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84.02L256 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 .0003 232.4 .0003 190.9L0 190.9z"]},Ln={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]};function Pn(){return Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_n||(_n={}));var In=function(e){return e};var An="beforeunload",zn="popstate";function jn(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,i=n.history;function r(){var e=Un(n.location.hash.substr(1)),t=e.pathname,r=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,l=void 0===s?"":s,u=i.state||{};return[u.idx,In({pathname:r,search:a,hash:l,state:u.usr||null,key:u.key||"default"})]}var o=null;function a(){if(o)f.call(o),o=null;else{var e=_n.Pop,t=r(),n=t[0],i=t[1];if(f.length){if(null!=n){var a=u-n;a&&(o={action:e,location:i,retry:function(){y(-1*a)}},y(a))}}else g(e)}}n.addEventListener(zn,a),n.addEventListener("hashchange",(function(){Fn(r()[1])!==Fn(c)&&a()}));var s=_n.Pop,l=r(),u=l[0],c=l[1],h=Mn(),f=Mn();function d(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var i=n.location.href,r=i.indexOf("#");t=-1===r?i:i.slice(0,r)}return t}()+"#"+("string"===typeof e?e:Fn(e))}function p(e,t){return void 0===t&&(t=null),In(Pn({pathname:c.pathname,hash:"",search:""},"string"===typeof e?Un(e):e,{state:t,key:Bn()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function g(e){s=e;var t=r();u=t[0],c=t[1],h.call({action:s,location:c})}function y(e){i.go(e)}null==u&&(u=0,i.replaceState(Pn({},i.state,{idx:u}),""));var b={get action(){return s},get location(){return c},createHref:d,push:function e(t,r){var o=_n.Push,a=p(t,r);if(m(o,a,(function(){e(t,r)}))){var s=v(a,u+1),l=s[0],c=s[1];try{i.pushState(l,"",c)}catch(h){n.location.assign(c)}g(o)}},replace:function e(t,n){var r=_n.Replace,o=p(t,n);if(m(r,o,(function(){e(t,n)}))){var a=v(o,u),s=a[0],l=a[1];i.replaceState(s,"",l),g(r)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return h.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(An,Dn),function(){t(),f.length||n.removeEventListener(An,Dn)}}};return b}function Dn(e){e.preventDefault(),e.returnValue=""}function Mn(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Bn(){return Math.random().toString(36).substr(2,8)}function Fn(e){var t=e.pathname,n=void 0===t?"/":t,i=e.search,r=void 0===i?"":i,o=e.hash,a=void 0===o?"":o;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Un(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var Wn=(0,e.createContext)(null);var qn=(0,e.createContext)(null);var Vn=(0,e.createContext)({outlet:null,matches:[]});function Hn(e,t){if(!e)throw new Error(t)}function Xn(e,t,n){void 0===n&&(n="/");var i=ei(("string"===typeof t?Un(t):t).pathname||"/",n);if(null==i)return null;var r=Yn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(r);for(var o=null,a=0;null==o&&a<r.length;++a)o=Kn(r[a],i);return o}function Yn(e,t,n,i){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i=""),e.forEach((function(e,r){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||Hn(!1),o.relativePath=o.relativePath.slice(i.length));var a=ti([i,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&Hn(!1),Yn(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:$n(a,e.index),routesMeta:s})})),t}var Gn=/^:\w+$/,Zn=function(e){return"*"===e};function $n(e,t){var n=e.split("/"),i=n.length;return n.some(Zn)&&(i+=-2),t&&(i+=2),n.filter((function(e){return!Zn(e)})).reduce((function(e,t){return e+(Gn.test(t)?3:""===t?1:10)}),i)}function Kn(e,t){for(var n=e.routesMeta,i={},r="/",o=[],a=0;a<n.length;++a){var s=n[a],l=a===n.length-1,u="/"===r?t:t.slice(r.length)||"/",c=Qn({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);var h=s.route;o.push({params:i,pathname:ti([r,c.pathname]),pathnameBase:ni(ti([r,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(r=ti([r,c.pathnameBase]))}return o}function Qn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return i.push(t),"([^\\/]+)"}));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(r,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),i=r(n,2),o=i[0],a=i[1],s=t.match(o);if(!s)return null;var l=s[0],u=l.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var i=c[n]||"";u=l.slice(0,l.length-i.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:l,pathnameBase:u,pattern:e}}function Jn(e,t,n){var i,r="string"===typeof e?Un(e):e,o=""===e||""===r.pathname?"/":r.pathname;if(null==o)i=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;r.pathname=s.join("/")}i=a>=0?t[a]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Un(e):e,i=n.pathname,r=n.search,o=void 0===r?"":r,a=n.hash,s=void 0===a?"":a,l=i?i.startsWith("/")?i:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(i,t):t;return{pathname:l,search:ii(o),hash:ri(s)}}(r,i);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function ei(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var ti=function(e){return e.join("/").replace(/\/\/+/g,"/")},ni=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ii=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ri=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function oi(){return null!=(0,e.useContext)(qn)}function ai(){return oi()||Hn(!1),(0,e.useContext)(qn).location}function si(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(i,r,o){return(0,e.createElement)(Vn.Provider,{children:void 0!==r.route.element?r.route.element:i,value:{outlet:i,matches:n.concat(t.slice(0,o+1))}})}),null)}function li(t){var n=t.to,i=t.replace,r=t.state;oi()||Hn(!1);var o=function(){oi()||Hn(!1);var t=(0,e.useContext)(Wn),n=t.basename,i=t.navigator,r=(0,e.useContext)(Vn).matches,o=ai().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);return(0,e.useEffect)((function(){s.current=!0})),(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var r=Jn(e,JSON.parse(a),o);"/"!==n&&(r.pathname=ti([n,r.pathname])),(t.replace?i.replace:i.push)(r,t.state)}else i.go(e)}),[n,i,a,o])}();return(0,e.useEffect)((function(){o(n,{replace:i,state:r})})),null}function ui(e){Hn(!1)}function ci(t){var n=t.basename,i=void 0===n?"/":n,r=t.children,o=void 0===r?null:r,a=t.location,s=t.navigationType,l=void 0===s?_n.Pop:s,u=t.navigator,c=t.static,h=void 0!==c&&c;oi()&&Hn(!1);var f=ni(i),d=(0,e.useMemo)((function(){return{basename:f,navigator:u,static:h}}),[f,u,h]);"string"===typeof a&&(a=Un(a));var p=a,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,w=void 0===b?"":b,k=p.state,x=void 0===k?null:k,_=p.key,E=void 0===_?"default":_,S=(0,e.useMemo)((function(){var e=ei(m,f);return null==e?null:{pathname:e,search:y,hash:w,state:x,key:E}}),[f,m,y,w,x,E]);return null==S?null:(0,e.createElement)(Wn.Provider,{value:d},(0,e.createElement)(qn.Provider,{children:o,value:{location:S,navigationType:l}}))}function hi(t){var n=t.children,i=t.location;return function(t,n){oi()||Hn(!1);var i,r=(0,e.useContext)(Vn).matches,o=r[r.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,ai());if(n){var u,c="string"===typeof n?Un(n):n;"/"===s||(null==(u=c.pathname)?void 0:u.startsWith(s))||Hn(!1),i=c}else i=l;var h=i.pathname||"/",f=Xn(t,{pathname:"/"===s?h:h.slice(s.length)||"/"});return si(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:ti([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:ti([s,e.pathnameBase])})})),r)}(fi(n),i)}function fi(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==ui&&Hn(!1);var i={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(i.children=fi(t.props.children)),n.push(i)}else n.push.apply(n,fi(t.props.children))})),n}var di={icon:{width:30,height:30,color:"#B2D8D8"},iconUnClicked:{width:40,height:40,color:"#ffff"},iconClicked:{width:40,height:40,color:"#10EEFC"}},pi=function(t){var n=r((0,e.useState)(!1),2),i=n[0],a=n[1],s=r((0,e.useState)(!1),2),l=s[0],u=s[1],c=function(){var e=JSON.stringify(t.book);localStorage.setItem("book",e),u(!0)};return l?(0,o.jsx)(li,{to:"/page"}):(0,o.jsxs)("div",{className:"book-div",children:[(0,o.jsx)("img",{className:"book-image",src:t.image,onClick:c}),(0,o.jsx)("div",{className:"title-div",onClick:c,children:(0,o.jsx)("p",{children:t.title})}),(0,o.jsx)("div",{className:"small-book-div",onClick:c,children:t.authors.map((function(e,t){return(0,o.jsx)("p",{children:e.name},t)}))}),(0,o.jsx)("div",{className:"small-book-div",onClick:c,children:t.languages.map((function(e,t){return(0,o.jsx)("p",{children:e},t)}))}),(0,o.jsx)("div",{className:"small-book-div",onClick:c,children:t.genre.map((function(e,t){return(0,o.jsx)("p",{children:e},t)}))}),(0,o.jsxs)("div",{className:"small-book-div",onClick:c,children:[(0,o.jsx)("p",{children:t.downloads}),(0,o.jsx)(xn,{style:di.icon,icon:On})]}),(0,o.jsxs)("div",{className:"small-book-div",children:[(0,o.jsx)(xn,{style:i?di.iconClicked:di.iconUnClicked,onClick:function(){a(!i)},icon:Rn}),(0,o.jsx)("p",{className:"subtext",children:"Heart me"})]})]})};function vi(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){vi(o,i,r,a,s,"next",e)}function s(e){vi(o,i,r,a,s,"throw",e)}a(void 0)}))}}var gi=n(7757),yi=n.n(gi),bi=function(){var e=mi(yi().mark((function e(){var t,n;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gutendex.com/books?page=2",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wi=function(){var e=mi(yi().mark((function e(t,n){var i,r;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gutendex.com/books?search=".concat(t,"%20").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return i=e.sent,e.next=5,i.json();case 5:return r=e.sent,console.log(r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ki=function(){var e=mi(yi().mark((function e(t){var n,i;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gutendex.com/books?sort=".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xi=function(){var e=mi(yi().mark((function e(t){var n,i;return yi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gutendex.com/books?topic=".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,console.log(i),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_i=bi,Ei=function(t){var n=r((0,e.useState)([]),2),i=n[0],a=n[1],s=r((0,e.useState)(!1),2),l=s[0],u=s[1],c=r((0,e.useState)(!1),2),h=c[0],f=c[1],d=r((0,e.useState)(""),2),p=d[0],v=d[1];(0,e.useEffect)((function(){_i().then((function(e){a(e.results)}))}),[]),(0,e.useEffect)((function(){null==t.results&&void 0==t.results||a(t.results)}),[t.results]);var m=function(e){var t=function(e){ki(e.target.id).then((function(e){a(e.results)}))},n=function(e,t){var n=e.title.toUpperCase(),i=t.title.toUpperCase();return n>i?-1:n<i?1:0},r=function(e,t){var n=e.authors[0].name.toUpperCase(),i=t.authors[0].name.toUpperCase();return n>i?-1:n<i?1:0},s=function(e,t){var n=e.authors[0].toUpperCase(),i=t.authors[0].toUpperCase();return n>i?1:n<i?-1:0},l=function(e,t){return e.download_count>t.download_count?1:e.download_count<t.download_count?-1:0};return 0==e.results.length?(0,o.jsxs)("div",{className:"sort-menu",children:[(0,o.jsx)("div",{onClick:t,id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" ascending Gutenberg ID"})}),(0,o.jsx)("div",{onClick:t,id:"descending",className:"menu-item",children:(0,o.jsx)("p",{id:"descending",children:"descending Gutenberg ID"})}),(0,o.jsx)("div",{onClick:t,id:"popular",className:"menu-item",children:(0,o.jsx)("p",{id:"popular",children:"popularity"})})]}):(0,o.jsxs)("div",{className:"sort-menu",children:[(0,o.jsx)("div",{onClick:function(){i.sort(r)},id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" Authors name A-Z"})}),(0,o.jsx)("div",{onClick:function(){i.sort(s)},id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" Authors name Z-A"})}),(0,o.jsx)("div",{onClick:function(){i.sort(l)},id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" Popularity"})}),(0,o.jsx)("div",{onClick:function(){i.sort(n)},id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" Title A-Z"})}),(0,o.jsx)("div",{onClick:i.sort((function(e,t){var n=e.title.toUpperCase(),i=t.title.toUpperCase();return n>i?1:n<i?-1:0})),id:"ascending",className:"menu-item",children:(0,o.jsx)("p",{id:"ascending",children:" Title Z-A"})})]})},g=function(){if(0==t.results.length)xi(p).then((function(e){a(e.results)}));else{i.filter((function(e){var t=!1;return e.bookshelves.forEach((function(e){t=!!e.includes(p)})),!t}))}};return(0,o.jsxs)("div",{className:"bookstore",children:[(0,o.jsxs)("div",{className:"sort-box",children:[(0,o.jsxs)("div",{className:"small-sort-div",onClick:function(){u(!l)},children:[(0,o.jsx)("p",{children:"Sort by.."}),l?(0,o.jsx)(m,{results:t.results}):null]}),(0,o.jsx)("div",{className:"small-sort-div",children:h?(0,o.jsx)("input",{className:"filter-inp",type:"text",onChange:function(e){v(e.target.value),g()}}):(0,o.jsxs)("p",{onClick:function(){f(!h)},children:[" ","Filter by genre"]})})]}),0!=i.length?i.map((function(e){return(0,o.jsx)(pi,{book:e,title:e.title,authors:e.authors,image:e.formats["image/jpeg"],languages:e.languages,genre:e.bookshelves,downloads:e.download_count},e.id)})):null]})},Si={icon:{width:30,height:30,color:"#ffff"},iconUnClicked:{width:40,height:40,color:"#ffff"},iconClicked:{width:40,height:40,color:"#D15B98"}},Ci=function(t){var n=r((0,e.useState)(""),2),i=n[0],a=n[1],s=r((0,e.useState)(""),2),l=s[0],u=s[1],c=r((0,e.useState)(!1),2),h=c[0],f=c[1],d=r((0,e.useState)([]),2),p=d[0],v=d[1],m=function(e){"author"==e.target.id&&a(e.target.value),"title"==e.target.id&&u(e.target.value),wi(i,l).then((function(e){console.log(e.results),v(e.results),t.onChange(p)}))},g=function(){f(!h)};return(0,o.jsxs)("div",{className:"search-box",children:[(0,o.jsx)("input",{className:"search-bar",type:"text",placeholder:"serch author",onChange:m,onClick:g,id:"author"}),(0,o.jsx)("input",{className:"search-bar",type:"text",placeholder:"serch title",onChange:m,onClick:g,id:"title"}),(0,o.jsx)(xn,{style:Si.icon,onClick:g,icon:Ln}),h?(0,o.jsx)("div",{className:"check-boxes"}):null]})};function Ti(t){var n=t.basename,i=t.children,o=t.window,a=(0,e.useRef)();null==a.current&&(a.current=jn({window:o}));var s=a.current,l=r((0,e.useState)({action:s.action,location:s.location}),2),u=l[0],c=l[1];return(0,e.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,e.createElement)(ci,{basename:n,children:i,location:u.location,navigationType:u.action,navigator:s})}var Ni={icon:{width:30,height:30,color:"#E2E9E9"},iconUnClicked:{width:40,height:40,color:"#10EEFC"},iconClicked:{width:40,height:40,color:"#D15B98"}},Oi=function(t){var n=r((0,e.useState)({}),2),i=n[0],a=n[1],s=r((0,e.useState)(!1),2),l=s[0],u=s[1];(0,e.useEffect)((function(){var e=JSON.parse(localStorage.getItem("book"));a(e)}),[]);return l?(0,o.jsx)(li,{to:"/reader"}):(0,o.jsxs)("div",{className:"book-page",children:[(0,o.jsxs)("div",{className:"back-div",children:[" ",(0,o.jsx)("p",{children:"Go back to browsing"}),(0,o.jsx)(xn,{style:Ni.icon,icon:Tn,id:"back-icon"})]}),(0,o.jsx)("img",{className:"book-page-img",src:i.formats?i.formats["image/jpeg"]:null}),(0,o.jsx)("p",{className:"book-page-title",children:i.title?i.title:null}),(0,o.jsx)("div",{className:"small-book-div",children:i.authors?i.authors.map((function(e,t){return(0,o.jsx)("p",{children:e.name},t)})):null}),(0,o.jsx)("div",{className:"small-book-div",children:i.languages?i.languages.map((function(e,t){return(0,o.jsx)("p",{children:e},t)})):null}),(0,o.jsxs)("div",{className:"small-book-div",children:[(0,o.jsx)("p",{children:i.title?i.download_count:null}),(0,o.jsx)(xn,{style:Ni.iconUnClicked,icon:On})]}),(0,o.jsxs)("button",{className:"read-me",onClick:function(){u(!l)},children:[" ","Read me"]})]})},Ri=(n(295),n(8524)),Li=["keydown","keypressed","keyup"];var Pi={icon:{width:50,height:50}},Ii=function(){var t=(0,e.useRef)(null),n=r((0,e.useState)(null),2),i=n[0],a=n[1],s=r((0,e.useState)(0),2),l=s[0],u=s[1],c=r((0,e.useState)(0),2),h=c[0],f=c[1],d=r((0,e.useState)(0),2),p=d[0],v=d[1];(0,e.useEffect)((function(){var e=JSON.parse(localStorage.getItem("book")).formats["application/epub+zip"].slice(0,-7);a(e)}),[]);return(0,o.jsxs)("div",{style:{position:"relative",height:"100%",paddingTop:"30px",paddingBottom:"100px",paddingLeft:"10px",paddingRight:"10px",backgroundColor:"#ffff"},children:[(0,o.jsx)("div",{className:"exit-div",children:(0,o.jsxs)("button",{className:"btn-reading",children:[" ","Exit the Reading Room"," ",(0,o.jsx)(xn,{style:Pi.icon,icon:Nn,id:"x"})," "]})}),(0,o.jsx)(Ri.u8,{url:i,ref:t,onPageChange:function(e){console.log(e),u(e.currentPage),f(e.totalPage),v(e.chapterName)}}),(0,o.jsx)("button",{onClick:function(e){var t;t=document,Li.forEach((function(e){return t.dispatchEvent(new KeyboardEvent(e,{keyCode:37,key:"ArrowLeft"}))}))},className:"reader-arrow-left",children:(0,o.jsx)(xn,{style:Pi.icon,icon:Sn})}),(0,o.jsx)("button",{onClick:function(e){var t;t=document,Li.forEach((function(e){return t.dispatchEvent(new KeyboardEvent(e,{keyCode:38,key:"ArrowRight"}))}))},className:"reader-arrow-right",children:(0,o.jsx)(xn,{style:Pi.icon,icon:Cn})}),(0,o.jsxs)("div",{className:"info-div",children:[0!=p||void 0!=p?(0,o.jsxs)("p",{children:["Chapter : ",p]}):null,(0,o.jsxs)("p",{children:[l,"/",h]})]})]})};var Ai=function(){var t=r((0,e.useState)([]),2),n=t[0],i=t[1];return(0,o.jsxs)("div",{className:"App",children:[(0,o.jsx)(a,{}),(0,o.jsx)(Ci,{onChange:function(e){i(e)}}),(0,o.jsx)(Ti,{className:"site",basename:"/",children:(0,o.jsxs)(hi,{children:[(0,o.jsx)(ui,{exact:!0,path:"/",element:(0,o.jsx)(Ei,{results:n})}),(0,o.jsx)(ui,{exact:!0,path:"/page",element:(0,o.jsx)(Oi,{})}),(0,o.jsx)(ui,{exact:!0,path:"/reader",element:(0,o.jsx)(Ii,{})})]})})]})},zi=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,o.jsx)(e.StrictMode,{children:(0,o.jsx)(Ai,{})})),zi()}()}();
//# sourceMappingURL=main.5304072c.js.map